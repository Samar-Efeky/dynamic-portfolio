import{a as Kn}from"./chunk-FK6H3RFT.js";import{$ as UE,$a as Bs,$b as wd,A as RE,Aa as WE,Ab as dc,B as _a,Ba as vn,Bb as ye,C as hr,Ca as GE,Cb as Re,D as hu,Da as py,Db as Km,E as NE,Ea as my,Eb as ws,F as cc,Fa as zm,Fb as Kr,G as uy,Ga as Dt,Gb as Yr,H as cl,Ha as KE,Hb as Sa,I as OE,Ia as $m,Ib as Ai,J as pd,Ja as YE,Jb as $,K as gs,Ka as U,Kb as gt,L as dy,La as fu,Lb as et,M as ME,Ma as XE,Mb as Ym,N as LE,Na as JE,Nb as wf,O as FE,Oa as qm,Ob as iA,P as hy,Pa as Xo,Pb as hl,Q as VE,Qa as di,Qb as bs,R as Mi,Ra as gy,Rb as Gn,S as Li,Sa as _f,Sb as qs,T as Xt,Ta as Hm,Tb as Xm,U as Um,Ua as Wr,Ub as Jm,V as jE,Va as ie,Vb as hc,W as hn,Wa as vy,Wb as _y,X as md,Xa as yd,Xb as wy,Y as wa,Ya as QE,Yb as by,Z as Ge,Za as yy,Zb as rA,_ as Us,_a as Qe,_b as Ii,a as lc,aa as Gt,ab as kn,ac as fn,b as AE,ba as _t,bb as ZE,bc as oA,c as ya,ca as Ne,cb as Do,cc as bd,d as ry,da as vs,db as tt,dc as Ss,e as oy,ea as BE,eb as eA,ec as bf,f as Nt,fa as ba,fb as _d,fc as Hs,g as Oi,ga as Lr,gb as tA,gc as sA,h as IE,ha as $e,hb as nA,hc as aA,i as CE,ia as qe,ib as Wm,ic as lA,j as xE,ja as Hr,jb as Gm,jc as Sd,k as ll,ka as Ei,kb as Lt,l as Vm,la as ul,lb as Ft,m as sy,ma as yf,mb as Fr,mc as Sy,n as ay,na as gd,nb as Gr,nc as Qm,o as Mr,oa as zE,ob as sn,p as Ct,pa as li,pb as an,pc as Zm,q as vf,qa as $E,qb as le,qc as eg,r as TE,ra as qE,rb as E,rc as tg,s as DE,sa as vd,sb as A,t as gn,ta as ys,tb as ve,u as ly,ua as _s,ub as $i,v as Yo,va as dl,vb as qi,w as cy,wa as Bm,wb as uc,x as PE,xa as sr,xb as zs,y as jm,ya as HE,yb as $s,z as kE,za as fy,zb as mt}from"./chunk-U5CX4ECD.js";import{a as ze,b as wn,f as ac,g as j}from"./chunk-RA2WU32H.js";var dA=null;function Es(){return dA}function Ey(n){dA??=n}var Sf=class{},Ay=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:()=>Ne(hA),providedIn:"platform"})}return n})();var hA=(()=>{class n extends Ay{_location;_history;_doc=Ne(Ei);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Es().getBaseHref(this._doc)}onPopState(e){let i=Es().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=Es().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function fA(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function cA(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function fc(n){return n&&n[0]!=="?"?`?${n}`:n}var pu=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:()=>Ne(mA),providedIn:"root"})}return n})(),pA=new Gt(""),mA=(()=>{class n extends pu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ne(Ei).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return fA(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+fc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+fc(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+fc(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(_t(Ay),_t(pA,8))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ed=(()=>{class n{_subject=new Nt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=MN(cA(uA(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+fc(i))}normalize(e){return n.stripTrailingSlash(ON(this._basePath,uA(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=fc;static joinWithSlash=fA;static stripTrailingSlash=cA;static \u0275fac=function(i){return new(i||n)(_t(pu))};static \u0275prov=Ge({token:n,factory:()=>NN(),providedIn:"root"})}return n})();function NN(){return new Ed(_t(pu))}function ON(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function uA(n){return n.replace(/\/index.html$/,"")}function MN(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Iy=/\s+/,gA=[],Ea=(()=>{class n{_ngEl;_renderer;initialClasses=gA;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(Iy):gA}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Iy):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(Iy).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(ie(sr),ie(Wr))};static \u0275dir=kn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var ng=class{$implicit;ngForOf;index;count;constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},fr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new ng(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),vA(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);vA(o,r)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(ie(yd),ie(_f),ie(sA))};static \u0275dir=kn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function vA(n,t){n.context.$implicit=t.item}var Zn=(()=>{class n{_viewContainer;_context=new ig;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){yA(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){yA(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(ie(yd),ie(_f))};static \u0275dir=kn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),ig=class{$implicit=null;ngIf=null};function yA(n,t){if(n&&!n.createEmbeddedView)throw new hn(2020,!1)}var Ty=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[r,o]=e.split("."),s=r.indexOf("-")===-1?void 0:fu.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||n)(ie(sr),ie(aA),ie(Wr))};static \u0275dir=kn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),Dy=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(ie(yd))};static \u0275dir=kn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[_s]})}return n})();function LN(n,t){return new hn(2100,!1)}var Cy=class{createSubscription(t,e,i){return Ii(()=>t.subscribe({next:e,error:i}))}dispose(t){Ii(()=>t.unsubscribe())}},xy=class{createSubscription(t,e,i){return t.then(r=>e?.(r),r=>i?.(r)),{unsubscribe:()=>{e=null,i=null}}}dispose(t){t.unsubscribe()}},FN=new xy,VN=new Cy,Py=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=Ne(gd);constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i),i=>this.applicationErrorHandler(i))}_selectStrategy(e){if(_d(e))return FN;if(tA(e))return VN;throw LN(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||n)(ie(Hs,16))};static \u0275pipe=ZE({name:"async",type:n,pure:!1})}return n})();var zt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Bs({type:n});static \u0275inj=Us({})}return n})();function Ef(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var mu=class{};var Ry="browser";function Vt(n){return n===Ry}var _A=(()=>{class n{static \u0275prov=Ge({token:n,providedIn:"root",factory:()=>new ky(Ne(Ei),window)})}return n})(),ky=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(wn(ze({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let i=UN(this.document,t);i&&(this.scrollToElement(i,e),i.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(md(2400,!1))}}scrollToElement(t,e){let i=t.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(wn(ze({},e),{left:r-s[0],top:o-s[1]}))}};function UN(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Af=class{_doc;constructor(t){this._doc=t}manager},rg=(()=>{class n extends Af{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(_t(Ei))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),sg=new Gt(""),Fy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(s=>{s.manager=this});let r=e.filter(s=>!(s instanceof rg));this._plugins=r.slice().reverse();let o=e.find(s=>s instanceof rg);o&&this._plugins.push(o)}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new hn(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(_t(sg),_t(di))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),Ny="ng-app-id";function wA(n){for(let t of n)t.remove()}function bA(n,t){let e=t.createElement("style");return e.textContent=n,e}function BN(n,t,e,i){let r=n.head?.querySelectorAll(`style[${Ny}="${t}"],link[${Ny}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Ny),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function My(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Vy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,BN(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,bA);i?.forEach(r=>this.addUsage(r,this.external,My))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(wA(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])wA(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,bA(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,My(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(_t(Ei),_t(fy),_t(py,8),_t(vn))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),Oy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},jy=/%COMP%/g;var EA="%COMP%",zN=`_nghost-${EA}`,$N=`_ngcontent-${EA}`,qN=!0,HN=new Gt("",{providedIn:"root",factory:()=>qN});function WN(n){return $N.replace(jy,n)}function GN(n){return zN.replace(jy,n)}function AA(n,t){return t.map(e=>e.replace(jy,n))}var xf=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,s,a,l=null,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new If(e,s,a,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof og?r.applyToHost(e):r instanceof Cf&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer,_=this.tracingService;switch(i.encapsulation){case my.Emulated:o=new og(l,c,i,this.appId,h,s,a,g,_);break;case my.ShadowDom:return new Ly(l,c,e,i,s,a,this.nonce,g,_);default:o=new Cf(l,c,i,h,s,a,g,_);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(_t(Fy),_t(Vy),_t(fy),_t(HN),_t(Ei),_t(di),_t(py),_t(JE,8))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),If=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Oy[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(SA(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(SA(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new hn(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=Oy[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Oy[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(fu.DashCase|fu.Important)?t.style.setProperty(e,i,r&fu.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&fu.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=Es().getGlobalEventTarget(this.doc,t),!t))throw new hn(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function SA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ly=class extends If{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,r,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=AA(r.id,h);for(let _ of h){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=_,this.shadowRoot.appendChild(p)}let g=r.getExternalStyles?.();if(g)for(let _ of g){let p=My(_,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cf=class extends If{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let h=i.styles;this.styles=c?AA(c,h):h,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&XE.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},og=class extends Cf{contentAttr;hostAttr;constructor(t,e,i,r,o,s,a,l,c){let h=r+"-"+i.id;super(t,e,i,o,s,a,l,c,h),this.contentAttr=WN(h),this.hostAttr=GN(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var ag=class n extends Sf{supportsDOMEvents=!0;static makeCurrent(){Ey(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=KN();return e==null?null:YN(e)}resetBaseElement(){Tf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ef(document.cookie,t)}},Tf=null;function KN(){return Tf=Tf||document.head.querySelector("base"),Tf?Tf.getAttribute("href"):null}function YN(n){return new URL(n,document.baseURI).pathname}var XN=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),IA=["alt","control","meta","shift"],JN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},CA=(()=>{class n extends Af{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Es().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),IA.forEach(c=>{let h=i.indexOf(c);h>-1&&(i.splice(h,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=JN[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),IA.forEach(s=>{if(s!==r){let a=QN[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(_t(Ei))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();function Uy(n,t,e){let i=ze({rootComponent:n,platformRef:e?.platformRef},ZN(t));return lA(i)}function ZN(n){return{appProviders:[...r4,...n?.providers??[]],platformProviders:i4}}function e4(){ag.makeCurrent()}function t4(){return new yf}function n4(){return HE(document),document}var i4=[{provide:vn,useValue:Ry},{provide:WE,useValue:e4,multi:!0},{provide:Ei,useFactory:n4}];var r4=[{provide:BE,useValue:"root"},{provide:yf,useFactory:t4},{provide:sg,useClass:rg,multi:!0,deps:[Ei]},{provide:sg,useClass:CA,multi:!0,deps:[Ei]},xf,Vy,Fy,{provide:Hm,useExisting:xf},{provide:mu,useClass:XN},[]];var Ad=class{},Id=class{},pl=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var ug=class{encodeKey(t){return xA(t)}encodeValue(t){return xA(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function o4(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var s4=/%(\d[a-f0-9])/gi,a4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xA(n){return encodeURIComponent(n).replace(s4,(t,e)=>a4[e]??t)}function lg(n){return`${n}`}var pc=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new ug,t.fromString){if(t.fromObject)throw new hn(2805,!1);this.map=o4(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(lg):[lg(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(lg(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(lg(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var dg=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function l4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function TA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function DA(n){return typeof Blob<"u"&&n instanceof Blob}function PA(n){return typeof FormData<"u"&&n instanceof FormData}function c4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Df="Content-Type",hg="Accept",Hy="X-Request-URL",RA="text/plain",NA="application/json",OA=`${NA}, ${RA}, */*`,Pf=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let o;if(l4(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new hn(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new pl,this.context??=new dg,!this.params)this.params=new pc,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||TA(this.body)||DA(this.body)||PA(this.body)||c4(this.body)?this.body:this.body instanceof pc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||PA(this.body)?null:DA(this.body)?this.body.type||null:TA(this.body)?null:typeof this.body=="string"?RA:this.body instanceof pc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?NA:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,l=t.mode||this.mode,c=t.redirect||this.redirect,h=t.credentials||this.credentials,g=t.referrer||this.referrer,_=t.integrity||this.integrity,p=t.transferCache??this.transferCache,P=t.timeout??this.timeout,O=t.body!==void 0?t.body:this.body,N=t.withCredentials??this.withCredentials,R=t.reportProgress??this.reportProgress,Q=t.headers||this.headers,Z=t.params||this.params,X=t.context??this.context;return t.setHeaders!==void 0&&(Q=Object.keys(t.setHeaders).reduce((he,_e)=>he.set(_e,t.setHeaders[_e]),Q)),t.setParams&&(Z=Object.keys(t.setParams).reduce((he,_e)=>he.set(_e,t.setParams[_e]),Z)),new n(e,i,O,{params:Z,headers:Q,context:X,reportProgress:R,responseType:r,withCredentials:N,transferCache:p,keepalive:o,cache:a,priority:s,timeout:P,mode:l,redirect:c,credentials:h,referrer:g,integrity:_})}},mc=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(mc||{}),Cd=class{headers;status;statusText;url;ok;type;redirected;constructor(t,e=200,i="OK"){this.headers=t.headers||new pl,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},kf=class n extends Cd{constructor(t={}){super(t)}type=mc.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Rf=class n extends Cd{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=mc.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},fl=class extends Cd{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},MA=200,u4=204;function By(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var d4=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Pf)o=e;else{let l;r.headers instanceof pl?l=r.headers:l=new pl(r.headers);let c;r.params&&(r.params instanceof pc?c=r.params:c=new pc({fromObject:r.params})),o=new Pf(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let s=Ct(o).pipe(cc(l=>this.handler.handle(l)));if(e instanceof Pf||r.observe==="events")return s;let a=s.pipe(hr(l=>l instanceof Rf));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(gn(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new hn(2806,!1);return l.body}));case"blob":return a.pipe(gn(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new hn(2807,!1);return l.body}));case"text":return a.pipe(gn(l=>{if(l.body!==null&&typeof l.body!="string")throw new hn(2808,!1);return l.body}));case"json":default:return a.pipe(gn(l=>l.body))}case"response":return a;default:throw new hn(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new pc().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,By(r,i))}post(e,i,r={}){return this.request("POST",e,By(r,i))}put(e,i,r={}){return this.request("PUT",e,By(r,i))}static \u0275fac=function(i){return new(i||n)(_t(Ad))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),h4=/^\)\]\}',?\n/;function kA(n){if(n.url)return n.url;let t=Hy.toLocaleLowerCase();return n.headers.get(t)}var LA=new Gt(""),cg=(()=>{class n{fetchImpl=Ne(zy,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=Ne(di);destroyRef=Ne(ul);handle(e){return new ya(i=>{let r=new AbortController;this.doRequest(e,r.signal,i).then($y,s=>i.error(new fl({error:s})));let o;return e.timeout&&(o=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{r.signal.aborted||r.abort(new DOMException("signal timed out","TimeoutError"))},e.timeout))),()=>{o!==void 0&&clearTimeout(o),r.abort()}})}doRequest(e,i,r){return j(this,null,function*(){let o=this.createRequestInit(e),s;try{let P=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,ze({signal:i},o)));f4(P),r.next({type:mc.Sent}),s=yield P}catch(P){r.error(new fl({error:P,status:P.status??0,statusText:P.statusText,url:e.urlWithParams,headers:P.headers}));return}let a=new pl(s.headers),l=s.statusText,c=kA(s)??e.urlWithParams,h=s.status,g=null;if(e.reportProgress&&r.next(new kf({headers:a,status:h,statusText:l,url:c})),s.body){let P=s.headers.get("content-length"),O=[],N=s.body.getReader(),R=0,Q,Z,X=typeof Zone<"u"&&Zone.current,he=!1;if(yield this.ngZone.runOutsideAngular(()=>j(this,null,function*(){for(;;){if(this.destroyRef.destroyed){yield N.cancel(),he=!0;break}let{done:H,value:T}=yield N.read();if(H)break;if(O.push(T),R+=T.length,e.reportProgress){Z=e.responseType==="text"?(Z??"")+(Q??=new TextDecoder).decode(T,{stream:!0}):void 0;let I=()=>r.next({type:mc.DownloadProgress,total:P?+P:void 0,loaded:R,partialText:Z});X?X.run(I):I()}}})),he){r.complete();return}let _e=this.concatChunks(O,R);try{let H=s.headers.get(Df)??"";g=this.parseBody(e,_e,H,h)}catch(H){r.error(new fl({error:H,headers:new pl(s.headers),status:s.status,statusText:s.statusText,url:kA(s)??e.urlWithParams}));return}}h===0&&(h=g?MA:0);let _=h>=200&&h<300,p=s.redirected;_?(r.next(new Rf({body:g,headers:a,status:h,statusText:l,url:c,redirected:p})),r.complete()):r.error(new fl({error:g,headers:a,status:h,statusText:l,url:c,redirected:p}))})}parseBody(e,i,r,o){switch(e.responseType){case"json":let s=new TextDecoder().decode(i).replace(h4,"");if(s==="")return null;try{return JSON.parse(s)}catch(a){if(o<200||o>=300)return s;throw a}case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},r;if(r=e.credentials,e.withCredentials&&(r="include"),e.headers.forEach((o,s)=>i[o]=s.join(",")),e.headers.has(hg)||(i[hg]=OA),!e.headers.has(Df)){let o=e.detectContentTypeHeader();o!==null&&(i[Df]=o)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r,keepalive:e.keepalive,cache:e.cache,priority:e.priority,mode:e.mode,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}}concatChunks(e,i){let r=new Uint8Array(i),o=0;for(let s of e)r.set(s,o),o+=s.length;return r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),zy=class{};function $y(){}function f4(n){n.then($y,$y)}function p4(n,t){return t(n)}function m4(n,t,e){return(i,r)=>Lr(e,()=>t(i,o=>n(o,r)))}var FA=new Gt(""),g4=new Gt(""),VA=new Gt("",{providedIn:"root",factory:()=>!0});var fg=(()=>{class n extends Ad{backend;injector;chain=null;pendingTasks=Ne(vd);contributeToStability=Ne(VA);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(FA),...this.injector.get(g4,[])]));this.chain=i.reduceRight((r,o)=>m4(r,o,this.injector),p4)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(pd(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(_t(Id),_t(ba))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();var v4=/^\)\]\}',?\n/,y4=RegExp(`^${Hy}:`,"m");function _4(n){return"responseURL"in n&&n.responseURL?n.responseURL:y4.test(n.getAllResponseHeaders())?n.getResponseHeader(Hy):null}var qy=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new hn(-2800,!1);let i=this.xhrFactory;return Ct(null).pipe(Mi(()=>new ya(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((N,R)=>s.setRequestHeader(N,R.join(","))),e.headers.has(hg)||s.setRequestHeader(hg,OA),!e.headers.has(Df)){let N=e.detectContentTypeHeader();N!==null&&s.setRequestHeader(Df,N)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let N=e.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let N=s.statusText||"OK",R=new pl(s.getAllResponseHeaders()),Q=_4(s)||e.url;return l=new kf({headers:R,status:s.status,statusText:N,url:Q}),l},h=()=>{let{headers:N,status:R,statusText:Q,url:Z}=c(),X=null;R!==u4&&(X=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=X?MA:0);let he=R>=200&&R<300;if(e.responseType==="json"&&typeof X=="string"){let _e=X;X=X.replace(v4,"");try{X=X!==""?JSON.parse(X):null}catch(H){X=_e,he&&(he=!1,X={error:H,text:X})}}he?(o.next(new Rf({body:X,headers:N,status:R,statusText:Q,url:Z||void 0})),o.complete()):o.error(new fl({error:X,headers:N,status:R,statusText:Q,url:Z||void 0}))},g=N=>{let{url:R}=c(),Q=new fl({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(Q)},_=g;e.timeout&&(_=N=>{let{url:R}=c(),Q=new fl({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:R||void 0});o.error(Q)});let p=!1,P=N=>{p||(o.next(c()),p=!0);let R={type:mc.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),e.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},O=N=>{let R={type:mc.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",g),s.addEventListener("timeout",_),s.addEventListener("abort",g),e.reportProgress&&(s.addEventListener("progress",P),a!==null&&s.upload&&s.upload.addEventListener("progress",O)),s.send(a),o.next({type:mc.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",h),s.removeEventListener("timeout",_),e.reportProgress&&(s.removeEventListener("progress",P),a!==null&&s.upload&&s.upload.removeEventListener("progress",O)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(_t(mu))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),jA=new Gt(""),w4="XSRF-TOKEN",b4=new Gt("",{providedIn:"root",factory:()=>w4}),S4="X-XSRF-TOKEN",E4=new Gt("",{providedIn:"root",factory:()=>S4}),Nf=class{},A4=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i){this.doc=e,this.cookieName=i}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ef(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(_t(Ei),_t(b4))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),I4=/^(?:https?:)?\/\//i;function C4(n,t){if(!Ne(jA)||n.method==="GET"||n.method==="HEAD"||I4.test(n.url))return t(n);let e=Ne(Nf).getToken(),i=Ne(E4);return e!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,e)})),t(n)}var Wy=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(Wy||{});function x4(n,t){return{\u0275kind:n,\u0275providers:t}}function Gy(...n){let t=[d4,qy,fg,{provide:Ad,useExisting:fg},{provide:Id,useFactory:()=>Ne(LA,{optional:!0})??Ne(qy)},{provide:FA,useValue:C4,multi:!0},{provide:jA,useValue:!0},{provide:Nf,useClass:A4}];for(let e of n)t.push(...e.\u0275providers);return vs(t)}function Ky(){return x4(Wy.Fetch,[cg,{provide:LA,useExisting:cg},{provide:Id,useExisting:cg}])}var UA=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(_t(Ei))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jt="primary",Kf=Symbol("RouteTitle"),Zy=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function yu(n){return new Zy(n)}function KA(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function D4(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Aa(n[e],t[e]))return!1;return!0}function Aa(n,t){let e=n?e_(n):void 0,i=t?e_(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!YA(n[r],t[r]))return!1;return!0}function e_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function YA(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function XA(n){return n.length>0?n[n.length-1]:null}function gl(n){return TE(n)?n:_d(n)?Mr(Promise.resolve(n)):Ct(n)}var P4={exact:QA,subset:ZA},JA={exact:k4,subset:R4,ignored:()=>!0};function BA(n,t,e){return P4[e.paths](n.root,t.root,e.matrixParams)&&JA[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function k4(n,t){return Aa(n,t)}function QA(n,t,e){if(!gu(n.segments,t.segments)||!gg(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!QA(n.children[i],t.children[i],e))return!1;return!0}function R4(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>YA(n[e],t[e]))}function ZA(n,t,e){return eI(n,t,t.segments,e)}function eI(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!gu(r,e)||t.hasChildren()||!gg(r,e,i))}else if(n.segments.length===e.length){if(!gu(n.segments,e)||!gg(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!ZA(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!gu(n.segments,r)||!gg(n.segments,r,i)||!n.children[Jt]?!1:eI(n.children[Jt],t,o,i)}}function gg(n,t,e){return t.every((i,r)=>JA[e](n[r].parameters,i.parameters))}var Ca=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Nn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=yu(this.queryParams),this._queryParamMap}toString(){return M4.serialize(this)}},Nn=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vg(this)}},gc=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=yu(this.parameters),this._parameterMap}toString(){return nI(this)}};function N4(n,t){return gu(n,t)&&n.every((e,i)=>Aa(e.parameters,t[i].parameters))}function gu(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function O4(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Jt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Jt&&(e=e.concat(t(r,i)))}),e}var Yf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:()=>new _u,providedIn:"root"})}return n})(),_u=class{parse(t){let e=new n_(t);return new Ca(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Of(t.root,!0)}`,i=V4(t.queryParams),r=typeof t.fragment=="string"?`#${L4(t.fragment)}`:"";return`${e}${i}${r}`}},M4=new _u;function vg(n){return n.segments.map(t=>nI(t)).join("/")}function Of(n,t){if(!n.hasChildren())return vg(n);if(t){let e=n.children[Jt]?Of(n.children[Jt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Jt&&i.push(`${r}:${Of(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=O4(n,(i,r)=>r===Jt?[Of(n.children[Jt],!1)]:[`${r}:${Of(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Jt]!=null?`${vg(n)}/${e[0]}`:`${vg(n)}/(${e.join("//")})`}}function tI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pg(n){return tI(n).replace(/%3B/gi,";")}function L4(n){return encodeURI(n)}function t_(n){return tI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yg(n){return decodeURIComponent(n)}function zA(n){return yg(n.replace(/\+/g,"%20"))}function nI(n){return`${t_(n.path)}${F4(n.parameters)}`}function F4(n){return Object.entries(n).map(([t,e])=>`;${t_(t)}=${t_(e)}`).join("")}function V4(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${pg(e)}=${pg(r)}`).join("&"):`${pg(e)}=${pg(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var j4=/^[^\/()?;#]+/;function Yy(n){let t=n.match(j4);return t?t[0]:""}var U4=/^[^\/()?;=#]+/;function B4(n){let t=n.match(U4);return t?t[0]:""}var z4=/^[^=?&#]+/;function $4(n){let t=n.match(z4);return t?t[0]:""}var q4=/^[^&#]+/;function H4(n){let t=n.match(q4);return t?t[0]:""}var n_=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Jt]=new Nn(t,e)),i}parseSegment(){let t=Yy(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new hn(4009,!1);return this.capture(t),new gc(yg(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=B4(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Yy(this.remaining);r&&(i=r,this.capture(i))}t[yg(e)]=yg(i)}parseQueryParam(t){let e=$4(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=H4(this.remaining);s&&(i=s,this.capture(i))}let r=zA(e),o=zA(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Yy(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new hn(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Jt);let s=this.parseChildren();e[o??Jt]=Object.keys(s).length===1&&s[Jt]?s[Jt]:new Nn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new hn(4011,!1)}};function iI(n){return n.segments.length>0?new Nn([],{[Jt]:n}):n}function rI(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=rI(r);if(i===Jt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new Nn(n.segments,t);return W4(e)}function W4(n){if(n.numberOfChildren===1&&n.children[Jt]){let t=n.children[Jt];return new Nn(n.segments.concat(t.segments),t.children)}return n}function vc(n){return n instanceof Ca}function oI(n,t,e=null,i=null){let r=sI(n);return aI(r,t,e,i)}function sI(n){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new Nn(o.url,s);return o===n&&(t=a),a}let i=e(n.root),r=iI(i);return t??r}function aI(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return Xy(r,r,r,e,i);let o=G4(t);if(o.toRoot())return Xy(r,r,new Nn([],{}),e,i);let s=K4(o,r,n),a=s.processChildren?Lf(s.segmentGroup,s.index,o.commands):cI(s.segmentGroup,s.index,o.commands);return Xy(r,s.segmentGroup,a,e,i)}function _g(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function jf(n){return typeof n=="object"&&n!=null&&n.outlets}function Xy(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`});let s;n===t?s=e:s=lI(n,t,e);let a=iI(rI(s));return new Ca(a,o,r)}function lI(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=lI(o,t,e)}),new Nn(n.segments,i)}var wg=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&_g(i[0]))throw new hn(4003,!1);let r=i.find(jf);if(r&&r!==XA(i))throw new hn(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function G4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new wg(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new wg(e,t,i)}var Dd=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function K4(n,t,e){if(n.isAbsolute)return new Dd(t,!0,0);if(!e)return new Dd(t,!1,NaN);if(e.parent===null)return new Dd(e,!0,0);let i=_g(n.commands[0])?0:1,r=e.segments.length-1+i;return Y4(e,r,n.numberOfDoubleDots)}function Y4(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new hn(4005,!1);r=i.segments.length}return new Dd(i,!1,r-o)}function X4(n){return jf(n[0])?n[0].outlets:{[Jt]:n}}function cI(n,t,e){if(n??=new Nn([],{}),n.segments.length===0&&n.hasChildren())return Lf(n,t,e);let i=J4(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Nn(n.segments.slice(0,i.pathIndex),{});return o.children[Jt]=new Nn(n.segments.slice(i.pathIndex),n.children),Lf(o,0,r)}else return i.match&&r.length===0?new Nn(n.segments,{}):i.match&&!n.hasChildren()?i_(n,t,e):i.match?Lf(n,0,r):i_(n,t,e)}function Lf(n,t,e){if(e.length===0)return new Nn(n.segments,{});{let i=X4(e),r={};if(Object.keys(i).some(o=>o!==Jt)&&n.children[Jt]&&n.numberOfChildren===1&&n.children[Jt].segments.length===0){let o=Lf(n.children[Jt],t,e);return new Nn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=cI(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Nn(n.segments,r)}}function J4(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let s=n.segments[r],a=e[i];if(jf(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!qA(l,c,s))return o;i+=2}else{if(!qA(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function i_(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(jf(o)){let l=Q4(o.outlets);return new Nn(i,l)}if(r===0&&_g(e[0])){let l=n.segments[t];i.push(new gc(l.path,$A(e[0]))),r++;continue}let s=jf(o)?o.outlets[Jt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&_g(a)?(i.push(new gc(s,$A(a))),r+=2):(i.push(new gc(s,{})),r++)}return new Nn(i,{})}function Q4(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=i_(new Nn([],{}),0,i))}),t}function $A(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function qA(n,t,e){return n==e.path&&Aa(t,e.parameters)}var Ff="imperative",mr=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(mr||{}),Qo=class{id;url;constructor(t,e){this.id=t,this.url=e}},wu=class extends Qo{type=mr.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zo=class extends Qo{urlAfterRedirects;type=mr.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mo=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(mo||{}),Uf=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Uf||{}),Ia=class extends Qo{reason;code;type=mr.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ml=class extends Qo{reason;code;type=mr.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},kd=class extends Qo{error;target;type=mr.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bf=class extends Qo{urlAfterRedirects;state;type=mr.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bg=class extends Qo{urlAfterRedirects;state;type=mr.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sg=class extends Qo{urlAfterRedirects;state;shouldActivate;type=mr.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Eg=class extends Qo{urlAfterRedirects;state;type=mr.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ag=class extends Qo{urlAfterRedirects;state;type=mr.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ig=class{route;type=mr.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Cg=class{route;type=mr.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xg=class{snapshot;type=mr.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tg=class{snapshot;type=mr.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dg=class{snapshot;type=mr.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pg=class{snapshot;type=mr.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var zf=class{},Rd=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Z4(n){return!(n instanceof zf)&&!(n instanceof Rd)}function eO(n,t){return n.providers&&!n._injector&&(n._injector=yy(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ws(n){return n.outlet||Jt}function tO(n,t){let e=n.filter(i=>Ws(i)===t);return e.push(...n.filter(i=>Ws(i)!==t)),e}function Md(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var kg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Md(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ld(this.rootInjector)}},Ld=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new kg(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(_t(ba))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rg=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=r_(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=r_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=o_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return o_(t,this._root).map(e=>e.value)}};function r_(n,t){if(n===t.value)return t;for(let e of t.children){let i=r_(n,e);if(i)return i}return null}function o_(n,t){if(n===t.value)return[t];for(let e of t.children){let i=o_(n,e);if(i.length)return i.unshift(t),i}return[]}var Jo=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Td(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var $f=class extends Rg{snapshot;constructor(t,e){super(t),this.snapshot=e,f_(this,t)}toString(){return this.snapshot.toString()}};function uI(n){let t=nO(n),e=new Oi([new gc("",{})]),i=new Oi({}),r=new Oi({}),o=new Oi({}),s=new Oi(""),a=new go(e,i,o,s,r,Jt,n,t.root);return a.snapshot=t.root,new $f(new Jo(a,[]),t)}function nO(n){let t={},e={},i={},o=new vu([],t,i,"",e,Jt,n,null,{});return new qf("",new Jo(o,[]))}var go=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(gn(c=>c[Kf]))??Ct(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(gn(t=>yu(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(gn(t=>yu(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ng(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:ze(ze({},t.params),n.params),data:ze(ze({},t.data),n.data),resolve:ze(ze(ze(ze({},n.data),t.data),r?.data),n._resolvedData)}:i={params:ze({},n.params),data:ze({},n.data),resolve:ze(ze({},n.data),n._resolvedData??{})},r&&hI(r)&&(i.resolve[Kf]=r.title),i}var vu=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Kf]}constructor(t,e,i,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yu(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},qf=class extends Rg{url;constructor(t,e){super(e),this.url=t,f_(this,e)}toString(){return dI(this._root)}};function f_(n,t){t.value._routerState=n,t.children.forEach(e=>f_(n,e))}function dI(n){let t=n.children.length>0?` { ${n.children.map(dI).join(", ")} } `:"";return`${n.value}${t}`}function Jy(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Aa(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Aa(t.params,e.params)||n.paramsSubject.next(e.params),D4(t.url,e.url)||n.urlSubject.next(e.url),Aa(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function s_(n,t){let e=Aa(n.params,t.params)&&N4(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||s_(n.parent,t.parent))}function hI(n){return typeof n.title=="string"||n.title===null}var fI=new Gt(""),Gs=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Jt;activateEvents=new Xo;deactivateEvents=new Xo;attachEvents=new Xo;detachEvents=new Xo;routerOutletData=Ss();parentContexts=Ne(Ld);location=Ne(yd);changeDetector=Ne(Hs);inputBinder=Ne(Fg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new hn(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new hn(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new hn(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new hn(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new a_(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=kn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[_s]})}return n})(),a_=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===go?this.route:t===Ld?this.childContexts:t===fI?this.outletData:this.parent.get(t,e)}},Fg=new Gt("");var p_=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Qe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&ve(0,"router-outlet")},dependencies:[Gs],encapsulation:2})}return n})();function m_(n){let t=n.children&&n.children.map(m_),e=t?wn(ze({},n),{children:t}):ze({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Jt&&(e.component=p_),e}function iO(n,t,e){let i=Hf(n,t._root,e?e._root:void 0);return new $f(i,t)}function Hf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=rO(n,t,e);return new Jo(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Hf(n,a)),s}}let i=oO(t.value),r=t.children.map(o=>Hf(n,o));return new Jo(i,r)}}function rO(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Hf(n,i,r);return Hf(n,i)})}function oO(n){return new go(new Oi(n.url),new Oi(n.params),new Oi(n.queryParams),new Oi(n.fragment),new Oi(n.data),n.outlet,n.component,n)}var Nd=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},pI="ngNavigationCancelingError";function Og(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=vc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=mI(!1,mo.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function mI(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[pI]=!0,e.cancellationCode=t,e}function sO(n){return gI(n)&&vc(n.url)}function gI(n){return!!n&&n[pI]}var aO=(n,t,e,i)=>gn(r=>(new l_(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),l_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Jy(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=Td(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Td(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Td(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=Td(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Pg(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Tg(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(Jy(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jy(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Mg=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Pd=class{component;route;constructor(t,e){this.component=t,this.route=e}};function lO(n,t,e){let i=n._root,r=t?t._root:null;return Mf(i,r,e,[i.value])}function cO(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Fd(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!UE(n)?n:t.get(n):i}function Mf(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Td(t);return n.children.forEach(s=>{uO(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Vf(a,e.getContext(s),r)),r}function uO(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=dO(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Mg(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Mf(n,t,a?a.children:null,i,r):Mf(n,t,e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Pd(a.outlet.component,s))}else s&&Vf(t,a,r),r.canActivateChecks.push(new Mg(i)),o.component?Mf(n,null,a?a.children:null,i,r):Mf(n,null,e,i,r);return r}function dO(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!gu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!gu(n.url,t.url)||!Aa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!s_(n,t)||!Aa(n.queryParams,t.queryParams);case"paramsChange":default:return!s_(n,t)}}function Vf(n,t,e){let i=Td(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?t?Vf(s,t.children.getContext(o),e):Vf(s,null,e):Vf(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Pd(t.outlet.component,r)):e.canDeactivateChecks.push(new Pd(null,r)):e.canDeactivateChecks.push(new Pd(null,r))}function Xf(n){return typeof n=="function"}function hO(n){return typeof n=="boolean"}function fO(n){return n&&Xf(n.canLoad)}function pO(n){return n&&Xf(n.canActivate)}function mO(n){return n&&Xf(n.canActivateChild)}function gO(n){return n&&Xf(n.canDeactivate)}function vO(n){return n&&Xf(n.canMatch)}function vI(n){return n instanceof DE||n?.name==="EmptyError"}var mg=Symbol("INITIAL_VALUE");function Od(){return Mi(n=>ly(n.map(t=>t.pipe(cl(1),VE(mg)))).pipe(gn(t=>{for(let e of t)if(e!==!0){if(e===mg)return mg;if(e===!1||yO(e))return e}return!0}),hr(t=>t!==mg),cl(1)))}function yO(n){return vc(n)||n instanceof Nd}function _O(n,t){return Yo(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?Ct(wn(ze({},e),{guardsResult:!0})):wO(s,i,r,n).pipe(Yo(a=>a&&hO(a)?bO(i,o,n,t):Ct(a)),gn(a=>wn(ze({},e),{guardsResult:a})))})}function wO(n,t,e,i){return Mr(n).pipe(Yo(r=>CO(r.component,r.route,e,t,i)),gs(r=>r!==!0,!0))}function bO(n,t,e,i){return Mr(t).pipe(cc(r=>PE(EO(r.route.parent,i),SO(r.route,i),IO(n,r.path,e),AO(n,r.route,e))),gs(r=>r!==!0,!0))}function SO(n,t){return n!==null&&t&&t(new Dg(n)),Ct(!0)}function EO(n,t){return n!==null&&t&&t(new xg(n)),Ct(!0)}function AO(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Ct(!0);let r=i.map(o=>jm(()=>{let s=Md(t)??e,a=Fd(o,s),l=pO(a)?a.canActivate(t,n):Lr(s,()=>a(t,n));return gl(l).pipe(gs())}));return Ct(r).pipe(Od())}function IO(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>cO(s)).filter(s=>s!==null).map(s=>jm(()=>{let a=s.guards.map(l=>{let c=Md(s.node)??e,h=Fd(l,c),g=mO(h)?h.canActivateChild(i,n):Lr(c,()=>h(i,n));return gl(g).pipe(gs())});return Ct(a).pipe(Od())}));return Ct(o).pipe(Od())}function CO(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ct(!0);let s=o.map(a=>{let l=Md(t)??r,c=Fd(a,l),h=gO(c)?c.canDeactivate(n,t,e,i):Lr(l,()=>c(n,t,e,i));return gl(h).pipe(gs())});return Ct(s).pipe(Od())}function xO(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return Ct(!0);let o=r.map(s=>{let a=Fd(s,n),l=fO(a)?a.canLoad(t,e):Lr(n,()=>a(t,e));return gl(l)});return Ct(o).pipe(Od(),yI(i))}function yI(n){return AE(Xt(t=>{if(typeof t!="boolean")throw Og(n,t)}),gn(t=>t===!0))}function TO(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return Ct(!0);let o=r.map(s=>{let a=Fd(s,n),l=vO(a)?a.canMatch(t,e):Lr(n,()=>a(t,e));return gl(l)});return Ct(o).pipe(Od(),yI(i))}var Wf=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Gf=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function xd(n){return vf(new Wf(n))}function DO(n){return vf(new hn(4e3,!1))}function PO(n){return vf(mI(!1,mo.GuardRejected))}var c_=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Ct(i);if(r.numberOfChildren>1||!r.children[Jt])return DO(`${t.redirectTo}`);r=r.children[Jt]}}applyRedirectCommands(t,e,i,r,o){return kO(e,r,o).pipe(gn(s=>{if(s instanceof Ca)throw new Gf(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,i);if(s[0]==="/")throw new Gf(a);return a}))}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new Ca(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new Nn(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new hn(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}};function kO(n,t,e){if(typeof n=="string")return Ct(n);let i=n,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:h,title:g}=t;return gl(Lr(e,()=>i({params:c,data:h,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:l,title:g})))}var u_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RO(n,t,e,i,r){let o=_I(n,t,e);return o.matched?(i=eO(t,i),TO(i,t,e,r).pipe(gn(s=>s===!0?o:ze({},u_)))):Ct(o)}function _I(n,t,e){if(t.path==="**")return NO(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?ze({},u_):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||KA)(e,n,t);if(!r)return ze({},u_);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?ze(ze({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function NO(n){return{matched:!0,parameters:n.length>0?XA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function HA(n,t,e,i){return e.length>0&&LO(n,e,i)?{segmentGroup:new Nn(t,MO(i,new Nn(e,n.children))),slicedSegments:[]}:e.length===0&&FO(n,e,i)?{segmentGroup:new Nn(n.segments,OO(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Nn(n.segments,n.children),slicedSegments:e}}function OO(n,t,e,i){let r={};for(let o of e)if(Vg(n,t,o)&&!i[Ws(o)]){let s=new Nn([],{});r[Ws(o)]=s}return ze(ze({},i),r)}function MO(n,t){let e={};e[Jt]=t;for(let i of n)if(i.path===""&&Ws(i)!==Jt){let r=new Nn([],{});e[Ws(i)]=r}return e}function LO(n,t,e){return e.some(i=>Vg(n,t,i)&&Ws(i)!==Jt)}function FO(n,t,e){return e.some(i=>Vg(n,t,i))}function Vg(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function VO(n,t,e){return t.length===0&&!n.children[e]}var d_=class{};function jO(n,t,e,i,r,o,s="emptyOnly"){return new h_(n,t,e,i,r,s,o).recognize()}var UO=31,h_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new c_(this.urlSerializer,this.urlTree)}noMatchError(t){return new hn(4002,`'${t.segmentGroup}'`)}recognize(){let t=HA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(gn(({children:e,rootSnapshot:i})=>{let r=new Jo(i,e),o=new qf("",r),s=oI(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new vu([],Object.freeze({}),Object.freeze(ze({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Jt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Jt,e).pipe(gn(i=>({children:i,rootSnapshot:e})),hu(i=>{if(i instanceof Gf)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Wf?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(gn(s=>s instanceof Jo?[s]:[]))}processChildren(t,e,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Mr(o).pipe(cc(s=>{let a=i.children[s],l=tO(e,s);return this.processSegmentGroup(t,l,a,s,r)}),FE((s,a)=>(s.push(...a),s)),uy(null),ME(),Yo(s=>{if(s===null)return xd(i);let a=wI(s);return BO(a),Ct(a)}))}processSegment(t,e,i,r,o,s,a){return Mr(e).pipe(cc(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,r,o,s,a).pipe(hu(c=>{if(c instanceof Wf)return Ct(null);throw c}))),gs(l=>!!l),hu(l=>{if(vI(l))return VO(i,r,o)?Ct(new d_):xd(i);throw l}))}processSegmentAgainstRoute(t,e,i,r,o,s,a,l){return Ws(i)!==s&&(s===Jt||!Vg(r,o,i))?xd(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,l):xd(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:h,positionalParamSegments:g,remainingSegments:_}=_I(e,r,o);if(!l)return xd(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UO&&(this.allowRedirects=!1));let p=new vu(o,c,Object.freeze(ze({},this.urlTree.queryParams)),this.urlTree.fragment,WA(r),Ws(r),r.component??r._loadedComponent??null,r,GA(r)),P=Ng(p,a,this.paramsInheritanceStrategy);return p.params=Object.freeze(P.params),p.data=Object.freeze(P.data),this.applyRedirects.applyRedirectCommands(h,r.redirectTo,g,p,t).pipe(Mi(N=>this.applyRedirects.lineralizeSegments(r,N)),Yo(N=>this.processSegment(t,i,e,N.concat(_),s,!1,a)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a=RO(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(Mi(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Mi(({routes:c})=>{let h=i._loadedInjector??t,{parameters:g,consumedSegments:_,remainingSegments:p}=l,P=new vu(_,g,Object.freeze(ze({},this.urlTree.queryParams)),this.urlTree.fragment,WA(i),Ws(i),i.component??i._loadedComponent??null,i,GA(i)),O=Ng(P,s,this.paramsInheritanceStrategy);P.params=Object.freeze(O.params),P.data=Object.freeze(O.data);let{segmentGroup:N,slicedSegments:R}=HA(e,_,p,c);if(R.length===0&&N.hasChildren())return this.processChildren(h,c,N,P).pipe(gn(Z=>new Jo(P,Z)));if(c.length===0&&R.length===0)return Ct(new Jo(P,[]));let Q=Ws(i)===o;return this.processSegment(h,c,N,R,Q?Jt:o,!0,P).pipe(gn(Z=>new Jo(P,Z instanceof Jo?[Z]:[])))}))):xd(e)))}getChildConfig(t,e,i){return e.children?Ct({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?Ct({routes:e._loadedRoutes,injector:e._loadedInjector}):xO(t,e,i,this.urlSerializer).pipe(Yo(r=>r?this.configLoader.loadChildren(t,e).pipe(Xt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):PO(e))):Ct({routes:[],injector:t})}};function BO(n){n.sort((t,e)=>t.value.outlet===Jt?-1:e.value.outlet===Jt?1:t.value.outlet.localeCompare(e.value.outlet))}function zO(n){let t=n.value.routeConfig;return t&&t.path===""}function wI(n){let t=[],e=new Set;for(let i of n){if(!zO(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=wI(i.children);t.push(new Jo(i.value,r))}return t.filter(i=>!e.has(i))}function WA(n){return n.data||{}}function GA(n){return n.resolve||{}}function $O(n,t,e,i,r,o){return Yo(s=>jO(n,t,e,i,s.extractedUrl,r,o).pipe(gn(({state:a,tree:l})=>wn(ze({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function qO(n,t){return Yo(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ct(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of bI(l))s.add(c);let a=0;return Mr(s).pipe(cc(l=>o.has(l)?HO(l,i,n,t):(l.data=Ng(l,l.parent,n).resolve,Ct(void 0))),Xt(()=>a++),dy(1),Yo(l=>a===s.size?Ct(e):ll))})}function bI(n){let t=n.children.map(e=>bI(e)).flat();return[n,...t]}function HO(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!hI(r)&&(o[Kf]=r.title),jm(()=>(n.data=Ng(n,n.parent,e).resolve,WO(o,n,t,i).pipe(gn(s=>(n._resolvedData=s,n.data=ze(ze({},n.data),s),null)))))}function WO(n,t,e,i){let r=e_(n);if(r.length===0)return Ct({});let o={};return Mr(r).pipe(Yo(s=>GO(n[s],t,e,i).pipe(gs(),Xt(a=>{if(a instanceof Nd)throw Og(new _u,a);o[s]=a}))),dy(1),gn(()=>o),hu(s=>vI(s)?ll:vf(s)))}function GO(n,t,e,i){let r=Md(t)??i,o=Fd(n,r),s=o.resolve?o.resolve(t,e):Lr(r,()=>o(t,e));return gl(s)}function Qy(n){return Mi(t=>{let e=n(t);return e?Mr(e).pipe(gn(()=>t)):Ct(t)})}var g_=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Jt);return i}getResolvedTitleForRoute(e){return e.data[Kf]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:()=>Ne(SI),providedIn:"root"})}return n})(),SI=(()=>{class n extends g_{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(_t(UA))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vd=new Gt("",{providedIn:"root",factory:()=>({})}),Jf=new Gt(""),EI=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Ne(rA);loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ct(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=gl(Lr(e,()=>i.loadComponent())).pipe(gn(II),Mi(CI),Xt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),pd(()=>{this.componentLoaders.delete(i)})),o=new oy(r,()=>new Nt).pipe(ry());return this.componentLoaders.set(i,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ct({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=AI(i,this.compiler,e,this.onLoadEndListener).pipe(pd(()=>{this.childrenLoaders.delete(i)})),s=new oy(o,()=>new Nt).pipe(ry());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AI(n,t,e,i){return gl(Lr(e,()=>n.loadChildren())).pipe(gn(II),Mi(CI),Yo(r=>r instanceof QE||Array.isArray(r)?Ct(r):Mr(t.compileModuleAsync(r))),gn(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(Jf,[],{optional:!0,self:!0}).flat()),{routes:s.map(m_),injector:o}}))}function KO(n){return n&&typeof n=="object"&&"default"in n}function II(n){return KO(n)?n.default:n}function CI(n){return Ct(n)}var jg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:()=>Ne(YO),providedIn:"root"})}return n})(),YO=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xI=new Gt("");var TI=new Gt(""),DI=(()=>{class n{currentNavigation=li(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Nt;transitionAbortWithErrorSubject=new Nt;configLoader=Ne(EI);environmentInjector=Ne(ba);destroyRef=Ne(ul);urlSerializer=Ne(Yf);rootContexts=Ne(Ld);location=Ne(Ed);inputBindingEnabled=Ne(Fg,{optional:!0})!==null;titleStrategy=Ne(g_);options=Ne(Vd,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Ne(jg);createViewTransition=Ne(xI,{optional:!0});navigationErrorHandler=Ne(TI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ct(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Ig(r)),i=r=>this.events.next(new Cg(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;Ii(()=>{this.transitions?.next(wn(ze({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(e){return this.transitions=new Oi(null),this.transitions.pipe(hr(i=>i!==null),Mi(i=>{let r=!1;return Ct(i).pipe(Mi(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",mo.SupersededByNewNavigation),ll;this.currentTransition=i,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?wn(ze({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new ml(o.id,this.urlSerializer.serialize(o.rawUrl),"",Uf.IgnoredSameUrlNavigation)),o.resolve(!1),ll;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Ct(o).pipe(Mi(l=>(this.events.next(new wu(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?ll:Promise.resolve(l))),$O(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Xt(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=l.urlAfterRedirects,h));let c=new Bf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:h,restoredState:g,extras:_}=o,p=new wu(l,this.urlSerializer.serialize(c),h,g);this.events.next(p);let P=uI(this.rootComponentType).snapshot;return this.currentTransition=i=wn(ze({},o),{targetSnapshot:P,urlAfterRedirects:c,extras:wn(ze({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(O=>(O.finalUrl=c,O)),Ct(i)}else return this.events.next(new ml(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Uf.IgnoredByUrlHandlingStrategy)),o.resolve(!1),ll}),Xt(o=>{let s=new bg(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),gn(o=>(this.currentTransition=i=wn(ze({},o),{guards:lO(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),_O(this.environmentInjector,o=>this.events.next(o)),Xt(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Og(this.urlSerializer,o.guardsResult);let s=new Sg(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),hr(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",mo.GuardRejected),!1)),Qy(o=>{if(o.guards.canActivateChecks.length!==0)return Ct(o).pipe(Xt(s=>{let a=new Eg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Mi(s=>{let a=!1;return Ct(s).pipe(qO(this.paramsInheritanceStrategy,this.environmentInjector),Xt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",mo.NoDataFromResolver)}}))}),Xt(s=>{let a=new Ag(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Qy(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let c=Md(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Xt(h=>{a.component=h}),gn(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return ly(s(o.targetSnapshot.root)).pipe(uy(null),cl(1))}),Qy(()=>this.afterPreactivation()),Mi(()=>{let{currentSnapshot:o,targetSnapshot:s}=i,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Mr(a).pipe(gn(()=>i)):Ct(i)}),gn(o=>{let s=iO(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=wn(ze({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),i}),Xt(()=>{this.events.next(new zf)}),aO(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),cl(1),Li(new ya(o=>{let s=i.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(hr(()=>!r&&!i.targetRouterState),Xt(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",mo.Aborted)}))),Xt({next:o=>{r=!0,this.lastSuccessfulNavigation=Ii(this.currentNavigation),this.events.next(new Zo(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Li(this.transitionAbortWithErrorSubject.pipe(Xt(o=>{throw o}))),pd(()=>{r||this.cancelNavigationTransition(i,"",mo.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),hu(o=>{if(this.destroyed)return i.resolve(!1),ll;if(r=!0,gI(o))this.events.next(new Ia(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),sO(o)?this.events.next(new Rd(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let s=new kd(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let a=Lr(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Nd){let{message:l,cancellationCode:c}=Og(this.urlSerializer,a);this.events.next(new Ia(i.id,this.urlSerializer.serialize(i.extractedUrl),l,c)),this.events.next(new Rd(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(a)}}return ll}))}))}cancelNavigationTransition(e,i,r){let o=new Ia(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Ii(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XO(n){return n!==Ff}var PI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:()=>Ne(JO),providedIn:"root"})}return n})(),Lg=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},JO=(()=>{class n extends Lg{static \u0275fac=(()=>{let e;return function(r){return(e||(e=dl(n)))(r||n)}})();static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kI=(()=>{class n{urlSerializer=Ne(Yf);options=Ne(Vd,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Ne(Ed);urlHandlingStrategy=Ne(jg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ca;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,s=r??o;return s instanceof Ca?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=uI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:()=>Ne(QO),providedIn:"root"})}return n})(),QO=(()=>{class n extends kI{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof wu?this.updateStateMemento():e instanceof ml?this.commitTransition(i):e instanceof Bf?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof zf?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Ia&&e.code!==mo.SupersededByNewNavigation&&e.code!==mo.Redirect?this.restoreHistory(i):e instanceof kd?this.restoreHistory(i,!0):e instanceof Zo&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=ze(ze({},s),this.generateNgRouterState(r,a));this.location.replaceState(e,"",l)}else{let a=ze(ze({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=dl(n)))(r||n)}})();static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v_(n,t){n.events.pipe(hr(e=>e instanceof Zo||e instanceof Ia||e instanceof kd||e instanceof ml),gn(e=>e instanceof Zo||e instanceof ml?0:(e instanceof Ia?e.code===mo.Redirect||e.code===mo.SupersededByNewNavigation:!1)?2:1),hr(e=>e!==2),cl(1)).subscribe(()=>{t()})}var ZO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Ne(eA);stateManager=Ne(kI);options=Ne(Vd,{optional:!0})||{};pendingTasks=Ne(qE);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Ne(DI);urlSerializer=Ne(Yf);location=Ne(Ed);urlHandlingStrategy=Ne(jg);injector=Ne(ba);_events=new Nt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Ne(PI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Ne(Jf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Ne(Fg,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new lc;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=Ii(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ia&&i.code!==mo.Redirect&&i.code!==mo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Zo)this.navigated=!0;else if(i instanceof Rd){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=ze({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XO(r.source)},s);this.scheduleNavigation(a,Ff,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Z4(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ff,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=ze({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o).catch(l=>{this.disposed||this.injector.get(gd)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ii(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(m_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=ze(ze({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let g;try{let _=r?r.snapshot:this.routerState.snapshot.root;g=sI(_)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),g=this.currentUrlTree.root}return aI(g,e,h,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=vc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Ff,null,i)}navigate(e,i={skipLocationChange:!1}){return tM(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(md(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=ze({},ZO):i===!1?r=ze({},eM):r=i,vc(e))return BA(this.currentUrlTree,e,r);let o=this.parseUrl(e);return BA(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((g,_)=>{a=g,l=_});let h=this.pendingTasks.add();return v_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(g=>Promise.reject(g))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tM(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new hn(4008,!1)}var Hi=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=li(null);get href(){return Ii(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Nt;applicationErrorHandler=Ne(gd);options=Ne(Vd,{optional:!0});constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(Ne(new oA("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,i=r=>r==="merge"||r==="preserve";e||=i(this.queryParamsHandling),e||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(r=>{r instanceof Zo&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(vc(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:vc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(ie(gr),ie(go),Bm("tabindex"),ie(Wr),ie(sr),ie(pu))};static \u0275dir=kn({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&ye("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Gm("href",r.reactiveHref(),KE)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Sd],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Sd],replaceUrl:[2,"replaceUrl","replaceUrl",Sd],routerLink:"routerLink"},features:[_s]})}return n})(),Qf=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Xo;constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Zo&&this.update()})}ngAfterContentInit(){Ct(this.links.changes,Ct(null)).pipe(cy()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Mr(e).pipe(cy()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=iM(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(ie(gr),ie(sr),ie(Wr),ie(Hs),ie(Hi,8))};static \u0275dir=kn({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Km(o,Hi,5),i&2){let s;Kr(s=Yr())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[_s]})}return n})();function iM(n){return!!n.paths}var rM=new Gt("");function y_(n,...t){return vs([{provide:Jf,multi:!0,useValue:n},[],{provide:go,useFactory:oM,deps:[gr]},{provide:nA,multi:!0,useFactory:sM},t.map(e=>e.\u0275providers)])}function oM(n){return n.routerState.root}function sM(){let n=Ne(Hr);return t=>{let e=n.get(Wm);if(t!==e.components[0])return;let i=n.get(gr),r=n.get(aM);n.get(lM)===1&&i.initialNavigation(),n.get(cM,null,{optional:!0})?.setUpPreloading(),n.get(rM,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var aM=new Gt("",{factory:()=>new Nt}),lM=new Gt("",{providedIn:"root",factory:()=>1});var cM=new Gt("");var Ug=null,Rn=class n{constructor(t,e,i){this.el=t;this.renderer=e;this.platformId=i}ngOnInit(){Vt(this.platformId)&&(Ug||(Ug=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&(e.target.classList.add("show"),Ug?.unobserve(e.target))})},{threshold:.2})),Ug.observe(this.el.nativeElement))}static \u0275fac=function(e){return new(e||n)(ie(sr),ie(Wr),ie(vn))};static \u0275dir=kn({type:n,selectors:[["","appInView",""]]})};var ln=class n{uid=li(null);username=li(null);static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var RI=()=>{};var MI=function(n){let t=[],e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},uM=function(n){let t=[],e=0,i=0;for(;e<n.length;){let r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[e++],s=n[e++],a=n[e++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{let o=n[e++],s=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Bg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,h=o>>2,g=(o&3)<<4|a>>4,_=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(_=64)),i.push(e[h],e[g],e[_],e[p])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(MI(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):uM(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;let c=r<n.length?e[n.charAt(r)]:64;++r;let g=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||a==null||c==null||g==null)throw new w_;let _=o<<2|a>>4;if(i.push(_),c!==64){let p=a<<4&240|c>>2;if(i.push(p),g!==64){let P=c<<6&192|g;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},w_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dM=function(n){let t=MI(n);return Bg.encodeByteArray(t,!0)},ep=function(n){return dM(n).replace(/\./g,"")},zg=function(n){try{return Bg.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function S_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var hM=()=>S_().__FIREBASE_DEFAULTS__,fM=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&zg(n[1]);return t&&JSON.parse(t)},$g=()=>{try{return RI()||hM()||fM()||pM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},E_=n=>{var t,e;return(e=(t=$g())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},LI=n=>{let t=E_(n);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},A_=()=>{var n;return(n=$g())===null||n===void 0?void 0:n.config},I_=n=>{var t;return(t=$g())===null||t===void 0?void 0:t[`_${n}`]};var Su=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}};function yc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function qg(n){return j(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function FI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ep(JSON.stringify(e)),ep(JSON.stringify(s)),""].join(".")}var Zf={};function mM(){let n={prod:[],emulator:[]};for(let t of Object.keys(Zf))Zf[t]?n.emulator.push(t):n.prod.push(t);return n}function gM(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}var NI=!1;function Hg(n,t){if(typeof window>"u"||typeof document>"u"||!yc(window.location.host)||Zf[n]===t||Zf[n]||NI)return;Zf[n]=t;function e(_){return`__firebase__banner__${_}`}let i="__firebase__banner",o=mM().prod.length>0;function s(){let _=document.getElementById(i);_&&_.remove()}function a(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function l(_,p){_.setAttribute("width","24"),_.setAttribute("id",p),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function c(){let _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{NI=!0,s()},_}function h(_,p){_.setAttribute("id",p),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function g(){let _=gM(i),p=e("text"),P=document.getElementById(p)||document.createElement("span"),O=e("learnmore"),N=document.getElementById(O)||document.createElement("a"),R=e("preprendIcon"),Q=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){let Z=_.element;a(Z),h(N,O);let X=c();l(Q,R),Z.append(Q,P,N,X),document.body.appendChild(Z)}o?(P.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}function vM(){var n;let t=(n=$g())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UI(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zI(){let n=vr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $I(){return!vM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tp(){try{return typeof indexedDB=="object"}catch{return!1}}function qI(){return new Promise((n,t)=>{try{let e=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}var yM="FirebaseError",es=class n extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=yM,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks.prototype.create)}},Ks=class{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){let i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?_M(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new es(r,a,i)}};function _M(n,t){return n.replace(wM,(e,i)=>{let r=t[i];return r!=null?String(r):`<${i}?>`})}var wM=/\{\$([^}]+)}/g;function HI(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function xa(n,t){if(n===t)return!0;let e=Object.keys(n),i=Object.keys(t);for(let r of e){if(!i.includes(r))return!1;let o=n[r],s=t[r];if(OI(o)&&OI(s)){if(!xa(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!e.includes(r))return!1;return!0}function OI(n){return n!==null&&typeof n=="object"}function jd(n){let t=[];for(let[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Ud(n){let t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Bd(n){let t=n.indexOf("?");if(!t)return"";let e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function WI(n,t){let e=new b_(n,t);return e.subscribe.bind(e)}var b_=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");bM(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=__),r.error===void 0&&(r.error=__),r.complete===void 0&&(r.complete=__);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function bM(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function __(){}var UX=14400*1e3;function yr(n){return n&&n._delegate?n._delegate:n}var vo=class{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Eu="[DEFAULT]";var C_=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let i=new Su;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(EM(t))try{this.getOrInitializeService({instanceIdentifier:Eu})}catch{}for(let[e,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Eu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return j(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Eu){return this.instances.has(t)}getOptions(t=Eu){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(t,e){var i;let r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&t(s,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){let i=this.onInitCallbacks.get(e);if(i)for(let r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:SM(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Eu){return this.component?this.component.multipleInstances?t:Eu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function SM(n){return n===Eu?void 0:n}function EM(n){return n.instantiationMode==="EAGER"}var Wg=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new C_(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var AM=[],yn=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(yn||{}),IM={debug:yn.DEBUG,verbose:yn.VERBOSE,info:yn.INFO,warn:yn.WARN,error:yn.ERROR,silent:yn.SILENT},CM=yn.INFO,xM={[yn.DEBUG]:"log",[yn.VERBOSE]:"log",[yn.INFO]:"info",[yn.WARN]:"warn",[yn.ERROR]:"error"},TM=(n,t,...e)=>{if(t<n.logLevel)return;let i=new Date().toISOString(),r=xM[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Ta=class{constructor(t){this.name=t,this._logLevel=CM,this._logHandler=TM,this._userLogHandler=null,AM.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in yn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?IM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,yn.DEBUG,...t),this._logHandler(this,yn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,yn.VERBOSE,...t),this._logHandler(this,yn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,yn.INFO,...t),this._logHandler(this,yn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,yn.WARN,...t),this._logHandler(this,yn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,yn.ERROR,...t),this._logHandler(this,yn.ERROR,...t)}};var DM=(n,t)=>t.some(e=>n instanceof e),GI,KI;function PM(){return GI||(GI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kM(){return KI||(KI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var YI=new WeakMap,T_=new WeakMap,XI=new WeakMap,x_=new WeakMap,P_=new WeakMap;function RM(n){let t=new Promise((e,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{e(Da(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return t.then(e=>{e instanceof IDBCursor&&YI.set(e,n)}).catch(()=>{}),P_.set(t,n),t}function NM(n){if(T_.has(n))return;let t=new Promise((e,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{e(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});T_.set(n,t)}var D_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return T_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||XI.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Da(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function JI(n){D_=n(D_)}function OM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let i=n.call(Gg(this),t,...e);return XI.set(i,t.sort?t.sort():[t]),Da(i)}:kM().includes(n)?function(...t){return n.apply(Gg(this),t),Da(YI.get(this))}:function(...t){return Da(n.apply(Gg(this),t))}}function MM(n){return typeof n=="function"?OM(n):(n instanceof IDBTransaction&&NM(n),DM(n,PM())?new Proxy(n,D_):n)}function Da(n){if(n instanceof IDBRequest)return RM(n);if(x_.has(n))return x_.get(n);let t=MM(n);return t!==n&&(x_.set(n,t),P_.set(t,n)),t}var Gg=n=>P_.get(n);function ZI(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,t),a=Da(s);return i&&s.addEventListener("upgradeneeded",l=>{i(Da(s.result),l.oldVersion,l.newVersion,Da(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var LM=["get","getKey","getAll","getAllKeys","count"],FM=["put","add","delete","clear"],k_=new Map;function QI(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(k_.get(t))return k_.get(t);let e=t.replace(/FromIndex$/,""),i=t!==e,r=FM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||LM.includes(e)))return;let o=function(s,...a){return j(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),c=l.store;return i&&(c=c.index(a.shift())),(yield Promise.all([c[e](...a),r&&l.done]))[0]})};return k_.set(t,o),o}JI(n=>wn(ze({},n),{get:(t,e,i)=>QI(t,e)||n.get(t,e,i),has:(t,e)=>!!QI(t,e)||n.has(t,e)}));var N_=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(VM(e)){let i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}};function VM(n){let t=n.getComponent();return t?.type==="VERSION"}var O_="@firebase/app",eC="0.13.2";var vl=new Ta("@firebase/app"),jM="@firebase/app-compat",UM="@firebase/analytics-compat",BM="@firebase/analytics",zM="@firebase/app-check-compat",$M="@firebase/app-check",qM="@firebase/auth",HM="@firebase/auth-compat",WM="@firebase/database",GM="@firebase/data-connect",KM="@firebase/database-compat",YM="@firebase/functions",XM="@firebase/functions-compat",JM="@firebase/installations",QM="@firebase/installations-compat",ZM="@firebase/messaging",eL="@firebase/messaging-compat",tL="@firebase/performance",nL="@firebase/performance-compat",iL="@firebase/remote-config",rL="@firebase/remote-config-compat",oL="@firebase/storage",sL="@firebase/storage-compat",aL="@firebase/firestore",lL="@firebase/ai",cL="@firebase/firestore-compat",uL="firebase",dL="11.10.0";var M_="[DEFAULT]",hL={[O_]:"fire-core",[jM]:"fire-core-compat",[BM]:"fire-analytics",[UM]:"fire-analytics-compat",[$M]:"fire-app-check",[zM]:"fire-app-check-compat",[qM]:"fire-auth",[HM]:"fire-auth-compat",[WM]:"fire-rtdb",[GM]:"fire-data-connect",[KM]:"fire-rtdb-compat",[YM]:"fire-fn",[XM]:"fire-fn-compat",[JM]:"fire-iid",[QM]:"fire-iid-compat",[ZM]:"fire-fcm",[eL]:"fire-fcm-compat",[tL]:"fire-perf",[nL]:"fire-perf-compat",[iL]:"fire-rc",[rL]:"fire-rc-compat",[oL]:"fire-gcs",[sL]:"fire-gcs-compat",[aL]:"fire-fst",[cL]:"fire-fst-compat",[lL]:"fire-vertex","fire-js":"fire-js",[uL]:"fire-js-all"};var np=new Map,fL=new Map,L_=new Map;function tC(n,t){try{n.container.addComponent(t)}catch(e){vl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ys(n){let t=n.name;if(L_.has(t))return vl.debug(`There were multiple attempts to register component ${t}.`),!1;L_.set(t,n);for(let e of np.values())tC(e,n);for(let e of fL.values())tC(e,n);return!0}function zd(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function yo(n){return n==null?!1:n.settings!==void 0}var pL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_c=new Ks("app","Firebase",pL);var F_=class{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _c.create("app-deleted",{appName:this._name})}};var wc=dL;function U_(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let i=Object.assign({name:M_,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw _c.create("bad-app-name",{appName:String(r)});if(e||(e=A_()),!e)throw _c.create("no-options");let o=np.get(r);if(o){if(xa(e,o.options)&&xa(i,o.config))return o;throw _c.create("duplicate-app",{appName:r})}let s=new Wg(r);for(let l of L_.values())s.addComponent(l);let a=new F_(e,i,s);return np.set(r,a),a}function Au(n=M_){let t=np.get(n);if(!t&&n===M_&&A_())return U_();if(!t)throw _c.create("no-app",{appName:n});return t}function Kg(){return Array.from(np.values())}function Ci(n,t,e){var i;let r=(i=hL[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${t}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vl.warn(a.join(" "));return}Ys(new vo(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var mL="firebase-heartbeat-database",gL=1,ip="firebase-heartbeat-store",R_=null;function oC(){return R_||(R_=ZI(mL,gL,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ip)}catch(e){console.warn(e)}}}}).catch(n=>{throw _c.create("idb-open",{originalErrorMessage:n.message})})),R_}function vL(n){return j(this,null,function*(){try{let e=(yield oC()).transaction(ip),i=yield e.objectStore(ip).get(sC(n));return yield e.done,i}catch(t){if(t instanceof es)vl.warn(t.message);else{let e=_c.create("idb-get",{originalErrorMessage:t?.message});vl.warn(e.message)}}})}function nC(n,t){return j(this,null,function*(){try{let i=(yield oC()).transaction(ip,"readwrite");yield i.objectStore(ip).put(t,sC(n)),yield i.done}catch(e){if(e instanceof es)vl.warn(e.message);else{let i=_c.create("idb-set",{originalErrorMessage:e?.message});vl.warn(i.message)}}})}function sC(n){return`${n.name}!${n.options.appId}`}var yL=1024,_L=30,V_=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new j_(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return j(this,null,function*(){var t,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iC();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>_L){let s=bL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){vl.warn(i)}})}getHeartbeatsHeader(){return j(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=iC(),{heartbeatsToSend:i,unsentEntries:r}=wL(this._heartbeatsCache.heartbeats),o=ep(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vl.warn(e),""}})}};function iC(){return new Date().toISOString().substring(0,10)}function wL(n,t=yL){let e=[],i=n.slice();for(let r of n){let o=e.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),rC(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),rC(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}var j_=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return j(this,null,function*(){return tp()?qI().then(()=>!0).catch(()=>!1):!1})}read(){return j(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield vL(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return j(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return nC(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return j(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return nC(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function rC(n){return ep(JSON.stringify({version:2,heartbeats:n})).length}function bL(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function SL(n){Ys(new vo("platform-logger",t=>new N_(t),"PRIVATE")),Ys(new vo("heartbeat",t=>new V_(t),"PRIVATE")),Ci(O_,eC,n),Ci(O_,eC,"esm2017"),Ci("fire-js","")}SL("");var EL="firebase",AL="11.10.0";Ci(EL,AL,"app");function aC(n,t){let e=t?.injector??Ne(Hr),i=new IE(1),r=fn(()=>{let o;try{o=n()}catch(s){Ii(()=>i.error(s));return}Ii(()=>i.next(o))},{injector:e,manualCleanup:!0});return e.get(ul).onDestroy(()=>{r.destroy(),i.complete()}),i.asObservable()}function lC(n){n===void 0&&(n=Ne(Hr));let t=n.get(vd);return e=>new ya(i=>{let r=t.add(),o=!1;function s(){o||(r(),o=!0)}let a=e.subscribe({next:l=>{i.next(l),s()},complete:()=>{i.complete(),s()},error:l=>{i.error(l),s()}});return a.add(()=>{i.unsubscribe(),s()}),a})}var bc=new Um("ANGULARFIRE2_VERSION");function rp(n,t,e){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===e);if(o.length===1)return o[0]}return e.container.getProvider(n).getImmediate({optional:!0})}var qd=(n,t)=>{let e=t?[t]:Kg(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},$d=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})($d||{}),cC=bf()&&typeof Zone<"u"?$d.WARN:$d.SILENT;var Yg=class{zone;delegate;constructor(t,e=xE){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){let r=this.zone,o=function(s){r?r.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,e,i)}},Sc=(()=>{class n{outsideAngular;insideAngular;constructor(){let e=Ne(di);this.outsideAngular=e.runOutsideAngular(()=>new Yg(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new Yg(typeof Zone>"u"?void 0:Zone.current,CE))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uC=!1;function IL(n,t){!uC&&(cC>$d.SILENT||bf())&&(uC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),cC>=t&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function CL(n){let t=Ne(di,{optional:!0});return t?t.runOutsideAngular(()=>n()):n()}function Iu(n){let t=Ne(di,{optional:!0});return t?t.run(()=>n()):n()}var xL=(n,t,e)=>(...i)=>(t&&setTimeout(t,0),Lr(e,()=>Iu(()=>n.apply(void 0,i)))),lr=(n,t,e)=>(e||=t?$d.WARN:$d.VERBOSE,function(){let i,r=arguments,o,s,a;try{o=Ne(Sc),s=Ne(vd),a=Ne(ba)}catch{return IL(n,e),n.apply(this,r)}for(let c=0;c<arguments.length;c++)typeof r[c]=="function"&&(t&&(i||=Iu(()=>s.add())),r[c]=xL(r[c],i,a));let l=CL(()=>n.apply(this,r));return t?l instanceof ya?l.pipe(ay(o.outsideAngular),sy(o.insideAngular),lC(a)):l instanceof Promise?Iu(()=>{let c=s.add();return new Promise((h,g)=>{l.then(_=>Lr(a,()=>Iu(()=>h(_))),_=>Lr(a,()=>Iu(()=>g(_)))).finally(c)})}):typeof l=="function"&&i?function(){return setTimeout(i,0),l.apply(this,arguments)}:Iu(()=>l):l instanceof ya?l.pipe(ay(o.outsideAngular),sy(o.insideAngular)):Iu(()=>l)});var yl=class{constructor(t){return t}},Cu=class{constructor(){return Kg()}};function TL(n){return n&&n.length===1?n[0]:new yl(Au())}var B_=new Gt("angularfire2._apps"),DL={provide:yl,useFactory:TL,deps:[[new ys,B_]]},PL={provide:Cu,deps:[[new ys,B_]]};function kL(n){return(t,e)=>{let i=e.get(vn);Ci("angularfire",bc.full,"core"),Ci("angularfire",bc.full,"app"),Ci("angular",jE.full,i.toString());let r=t.runOutsideAngular(()=>n(e));return new yl(r)}}function dC(n,...t){return vs([DL,PL,{provide:B_,useFactory:kL(n),multi:!0,deps:[di,Hr,Sc,...t]}])}var hC=lr(U_,!0);var RL=new Map,NL={activated:!1,tokenObservers:[]},OL={initialized:!1,enabled:!1};function Xs(n){return RL.get(n)||Object.assign({},NL)}function gC(){return OL}var ML="https://content-firebaseappcheck.googleapis.com/v1";var LL="exchangeDebugToken",fC={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},WJ=1440*60*1e3;var q_=class{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return j(this,null,function*(){this.stop();try{this.pending=new Su,this.pending.promise.catch(e=>{}),yield FL(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Su,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function FL(n){return new Promise(t=>{setTimeout(t,n)})}var VL={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ec=new Ks("appCheck","AppCheck",VL);function vC(n){if(!Xs(n).activated)throw Ec.create("use-before-activation",{appName:n.name})}function yC(i,r){return j(this,arguments,function*({url:n,body:t},e){let o={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});if(s){let p=yield s.getHeartbeatsHeader();p&&(o["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(n,a)}catch(p){throw Ec.create("fetch-network-error",{originalErrorMessage:p?.message})}if(l.status!==200)throw Ec.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(p){throw Ec.create("fetch-parse-error",{originalErrorMessage:p?.message})}let h=c.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ec.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let g=Number(h[1])*1e3,_=Date.now();return{token:c.token,expireTimeMillis:_+g,issuedAtTimeMillis:_}})}function _C(n,t){let{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${ML}/projects/${e}/apps/${i}:${LL}?key=${r}`,body:{debug_token:t}}}var jL="firebase-app-check-database",UL=1,H_="firebase-app-check-store";var Xg=null;function BL(){return Xg||(Xg=new Promise((n,t)=>{try{let e=indexedDB.open(jL,UL);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Ec.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},e.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(H_,{keyPath:"compositeKey"})}}}catch(e){t(Ec.create("storage-open",{originalErrorMessage:e?.message}))}}),Xg)}function zL(n,t){return $L(qL(n),t)}function $L(n,t){return j(this,null,function*(){let i=(yield BL()).transaction(H_,"readwrite"),o=i.objectStore(H_).put({compositeKey:n,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(Ec.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function qL(n){return`${n.options.appId}-${n.name}`}var op=new Ta("@firebase/app-check");function z_(n,t){return tp()?zL(n,t).catch(e=>{op.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function wC(){return gC().enabled}function bC(){return j(this,null,function*(){let n=gC();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var HL={error:"UNKNOWN_ERROR"};function WL(n){return Bg.encodeString(JSON.stringify(n),!1)}function W_(n,t=!1,e=!1){return j(this,null,function*(){let i=n.app;vC(i);let r=Xs(i),o=r.token,s;if(o&&!sp(o)&&(r.token=void 0,o=void 0),!o){let c=yield r.cachedTokenPromise;c&&(sp(c)?o=c:yield z_(i,void 0))}if(!t&&o&&sp(o))return{token:o.token};let a=!1;if(wC())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=yC(_C(i,yield bC()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);let c=yield r.exchangeTokenPromise;return yield z_(i,c),r.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?op.warn(c.message):e&&op.error(c),$_(c)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),o=yield Xs(i).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?op.warn(c.message):e&&op.error(c),s=c}let l;return o?s?sp(o)?l={token:o.token,internalError:s}:l=$_(s):(l={token:o.token},r.token=o,yield z_(i,o)):l=$_(s),a&&XL(i,l),l})}function GL(n){return j(this,null,function*(){let t=n.app;vC(t);let{provider:e}=Xs(t);if(wC()){let i=yield bC(),{token:r}=yield yC(_C(t,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield e.getToken();return{token:i}}})}function KL(n,t,e,i){let{app:r}=n,o=Xs(r),s={next:e,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&sp(o.token)){let a=o.token;Promise.resolve().then(()=>{e({token:a.token}),pC(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>pC(n))}function SC(n,t){let e=Xs(n),i=e.tokenObservers.filter(r=>r.next!==t);i.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function pC(n){let{app:t}=n,e=Xs(t),i=e.tokenRefresher;i||(i=YL(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function YL(n){let{app:t}=n;return new q_(()=>j(null,null,function*(){let e=Xs(t),i;if(e.token?i=yield W_(n,!0):i=yield W_(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let e=Xs(t);if(e.token){let i=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,r=e.token.expireTimeMillis-300*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},fC.RETRIAL_MIN_WAIT,fC.RETRIAL_MAX_WAIT)}function XL(n,t){let e=Xs(n).tokenObservers;for(let i of e)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function sp(n){return n.expireTimeMillis-Date.now()>0}function $_(n){return{token:WL(HL),error:n}}var G_=class{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:t}=Xs(this.app);for(let e of t)SC(this.app,e.next);return Promise.resolve()}};function JL(n,t){return new G_(n,t)}function QL(n){return{getToken:t=>W_(n,t),getLimitedUseToken:()=>GL(n),addTokenListener:t=>KL(n,"INTERNAL",t),removeTokenListener:t=>SC(n.app,t)}}var ZL="@firebase/app-check",e6="0.10.1";var t6="app-check",mC="app-check-internal";function n6(){Ys(new vo(t6,n=>{let t=n.getProvider("app").getImmediate(),e=n.getProvider("heartbeat");return JL(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(mC).initialize()})),Ys(new vo(mC,n=>{let t=n.getProvider("app-check").getImmediate();return QL(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ci(ZL,e6)}n6();var i6="app-check";var Hd=class{constructor(){return qd(i6)}};var r6=["localhost","0.0.0.0","127.0.0.1"],oQ=typeof window<"u"&&r6.includes(window.location.hostname);function VC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jC=VC,UC=new Ks("auth","Firebase",VC());var n0=new Ta("@firebase/auth");function o6(n,...t){n0.logLevel<=yn.WARN&&n0.warn(`Auth (${wc}): ${n}`,...t)}function Qg(n,...t){n0.logLevel<=yn.ERROR&&n0.error(`Auth (${wc}): ${n}`,...t)}function As(n,...t){throw gw(n,...t)}function Js(n,...t){return gw(n,...t)}function mw(n,t,e){let i=Object.assign(Object.assign({},jC()),{[t]:e});return new Ks("auth","Firebase",i).create(t,{appName:n.name})}function bl(n){return mw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s6(n,t,e){let i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&As(n,"argument-error"),mw(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gw(n,...t){if(typeof n!="string"){let e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return UC.create(n,...t)}function jt(n,t,...e){if(!n)throw gw(t,...e)}function _l(n){let t="INTERNAL ASSERTION FAILED: "+n;throw Qg(t),new Error(t)}function Sl(n,t){n||_l(t)}function X_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function a6(){return EC()==="http:"||EC()==="https:"}function EC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function l6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a6()||UI()||"connection"in navigator)?navigator.onLine:!0}function c6(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var xu=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,Sl(e>t,"Short delay should be less than long delay!"),this.isMobile=VI()||BI()}get(){return l6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vw(n,t){Sl(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var i0=class{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_l("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_l("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_l("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var u6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var d6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h6=new xu(3e4,6e4);function Cc(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function xc(o,s,a,l){return j(this,arguments,function*(n,t,e,i,r={}){return BC(n,r,()=>j(null,null,function*(){let c={},h={};i&&(t==="GET"?h=i:c={body:JSON.stringify(i)});let g=jd(Object.assign({key:n.config.apiKey},h)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let p=Object.assign({method:t,headers:_},c);return jI()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&yc(n.emulatorConfig.host)&&(p.credentials="include"),i0.fetch()(yield zC(n,n.config.apiHost,e,g),p)}))})}function BC(n,t,e){return j(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},u6),t);try{let r=new J_(n),o=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Jg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jg(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Jg(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Jg(n,"user-disabled",s);let h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mw(n,h,c);As(n,h)}}catch(r){if(r instanceof es)throw r;As(n,"network-request-failed",{message:String(r)})}})}function mp(o,s,a,l){return j(this,arguments,function*(n,t,e,i,r={}){let c=yield xc(n,t,e,i,r);return"mfaPendingCredential"in c&&As(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function zC(n,t,e,i){return j(this,null,function*(){let r=`${t}${e}?${i}`,o=n,s=o.config.emulator?vw(n.config,r):`${n.config.apiScheme}://${r}`;return d6.includes(e)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function f6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var J_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Js(this.auth,"network-request-failed")),h6.get())})}};function Jg(n,t,e){let i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);let r=Js(n,t,i);return r.customData._tokenResponse=e,r}function AC(n){return n!==void 0&&n.enterprise!==void 0}var Q_=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return f6(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function p6(n,t){return j(this,null,function*(){return xc(n,"GET","/v2/recaptchaConfig",Cc(n,t))})}function m6(n,t){return j(this,null,function*(){return xc(n,"POST","/v1/accounts:delete",t)})}function r0(n,t){return j(this,null,function*(){return xc(n,"POST","/v1/accounts:lookup",t)})}function lp(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function yw(n,t=!1){return j(this,null,function*(){let e=yr(n),i=yield e.getIdToken(t),r=_w(i);jt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:lp(K_(r.auth_time)),issuedAtTime:lp(K_(r.iat)),expirationTime:lp(K_(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function K_(n){return Number(n)*1e3}function _w(n){let[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Qg("JWT malformed, contained fewer than 3 sections"),null;try{let r=zg(e);return r?JSON.parse(r):(Qg("Failed to decode base64 JWT payload"),null)}catch(r){return Qg("Caught error parsing JWT payload as JSON",r?.toString()),null}}function IC(n){let t=_w(n);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function up(n,t,e=!1){return j(this,null,function*(){if(e)return t;try{return yield t}catch(i){throw i instanceof es&&g6(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function g6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Z_=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>j(this,null,function*(){yield this.iteration()}),e)}iteration(){return j(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var dp=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=lp(this.lastLoginAt),this.creationTime=lp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function o0(n){return j(this,null,function*(){var t;let e=n.auth,i=yield n.getIdToken(),r=yield up(n,r0(e,{idToken:i}));jt(r?.users.length,e,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?$C(o.providerUserInfo):[],a=v6(n.providerData,s),l=n.isAnonymous,c=!(n.email&&o.passwordHash)&&!a?.length,h=l?c:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,g)})}function ww(n){return j(this,null,function*(){let t=yr(n);yield o0(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function v6(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function $C(n){return n.map(t=>{var{providerId:e}=t,i=Vm(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function y6(n,t){return j(this,null,function*(){let e=yield BC(n,{},()=>j(null,null,function*(){let i=jd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=yield zC(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:i};return n.emulatorConfig&&yc(n.emulatorConfig.host)&&(l.credentials="include"),i0.fetch()(s,l)}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function _6(n,t){return j(this,null,function*(){return xc(n,"POST","/v2/accounts:revokeToken",Cc(n,t))})}var cp=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):IC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){jt(t.length!==0,"internal-error");let e=IC(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return j(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return j(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield y6(t,e);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){let{refreshToken:i,accessToken:r,expirationTime:o}=e,s=new n;return i&&(jt(typeof i=="string","internal-error",{appName:t}),s.refreshToken=i),r&&(jt(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(jt(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return _l("not implemented")}};function Ac(n,t){jt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var Ic=class n{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=Vm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dp(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return j(this,null,function*(){let e=yield up(this,this.stsTokenManager.getToken(this.auth,t));return jt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return yw(this,t)}reload(){return ww(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return j(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield o0(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return j(this,null,function*(){if(yo(this.auth.app))return Promise.reject(bl(this.auth));let t=yield this.getIdToken();return yield up(this,m6(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,s,a,l,c,h;let g=(i=e.displayName)!==null&&i!==void 0?i:void 0,_=(r=e.email)!==null&&r!==void 0?r:void 0,p=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,P=(s=e.photoURL)!==null&&s!==void 0?s:void 0,O=(a=e.tenantId)!==null&&a!==void 0?a:void 0,N=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,R=(c=e.createdAt)!==null&&c!==void 0?c:void 0,Q=(h=e.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Z,emailVerified:X,isAnonymous:he,providerData:_e,stsTokenManager:H}=e;jt(Z&&H,t,"internal-error");let T=cp.fromJSON(this.name,H);jt(typeof Z=="string",t,"internal-error"),Ac(g,t.name),Ac(_,t.name),jt(typeof X=="boolean",t,"internal-error"),jt(typeof he=="boolean",t,"internal-error"),Ac(p,t.name),Ac(P,t.name),Ac(O,t.name),Ac(N,t.name),Ac(R,t.name),Ac(Q,t.name);let I=new n({uid:Z,auth:t,email:_,emailVerified:X,displayName:g,isAnonymous:he,photoURL:P,phoneNumber:p,tenantId:O,stsTokenManager:T,createdAt:R,lastLoginAt:Q});return _e&&Array.isArray(_e)&&(I.providerData=_e.map(V=>Object.assign({},V))),N&&(I._redirectEventId=N),I}static _fromIdTokenResponse(t,e,i=!1){return j(this,null,function*(){let r=new cp;r.updateFromServerResponse(e);let o=new n({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield o0(o),o})}static _fromGetAccountInfoResponse(t,e,i){return j(this,null,function*(){let r=e.users[0];jt(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?$C(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new cp;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new dp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,c),l})}};var CC=new Map;function wl(n){Sl(n instanceof Function,"Expected a class definition");let t=CC.get(n);return t?(Sl(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,CC.set(n,t),t)}var w6=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return j(this,null,function*(){return!0})}_set(e,i){return j(this,null,function*(){this.storage[e]=i})}_get(e){return j(this,null,function*(){let i=this.storage[e];return i===void 0?null:i})}_remove(e){return j(this,null,function*(){delete this.storage[e]})}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})(),ew=w6;function Zg(n,t,e){return`firebase:${n}:${t}:${e}`}var s0=class n{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Zg(this.userKey,r.apiKey,o),this.fullPersistenceKey=Zg("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return j(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=yield r0(this.auth,{idToken:t}).catch(()=>{});return e?Ic._fromGetAccountInfoResponse(this.auth,e,t):null}return Ic._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return j(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return j(this,null,function*(){if(!e.length)return new n(wl(ew),t,i);let r=(yield Promise.all(e.map(c=>j(null,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),o=r[0]||wl(ew),s=Zg(i,t.config.apiKey,t.name),a=null;for(let c of e)try{let h=yield c._get(s);if(h){let g;if(typeof h=="string"){let _=yield r0(t,{idToken:h}).catch(()=>{});if(!_)break;g=yield Ic._fromGetAccountInfoResponse(t,_,h)}else g=Ic._fromJSON(t,h);c!==o&&(a=g),o=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,t,i):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(e.map(c=>j(null,null,function*(){if(c!==o)try{yield c._remove(s)}catch{}}))),new n(o,t,i))})}};function xC(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(GC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YC(t))return"Blackberry";if(XC(t))return"Webos";if(HC(t))return"Safari";if((t.includes("chrome/")||WC(t))&&!t.includes("edge/"))return"Chrome";if(KC(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function qC(n=vr()){return/firefox\//i.test(n)}function HC(n=vr()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WC(n=vr()){return/crios\//i.test(n)}function GC(n=vr()){return/iemobile/i.test(n)}function KC(n=vr()){return/android/i.test(n)}function YC(n=vr()){return/blackberry/i.test(n)}function XC(n=vr()){return/webos/i.test(n)}function bw(n=vr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function b6(n=vr()){var t;return bw(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function S6(){return zI()&&document.documentMode===10}function JC(n=vr()){return bw(n)||KC(n)||XC(n)||YC(n)||/windows phone/i.test(n)||GC(n)}function QC(n,t=[]){let e;switch(n){case"Browser":e=xC(vr());break;case"Worker":e=`${xC(vr())}-${n}`;break;default:e=n}let i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${wc}/${i}`}var tw=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let i=o=>new Promise((s,a)=>{try{let l=t(o);s(l)}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return j(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let i of this.queue)yield i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function E6(e){return j(this,arguments,function*(n,t={}){return xc(n,"GET","/v2/passwordPolicy",Cc(n,t))})}var A6=6,nw=class{constructor(t){var e,i,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=s.minPasswordLength)!==null&&e!==void 0?e:A6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,e){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var iw=class{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new tw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=wl(e)),this._initializationPromise=this.queue(()=>j(this,null,function*(){var i,r,o;if(!this._deleted&&(this.persistenceManager=yield s0.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return j(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return j(this,null,function*(){try{let e=yield r0(this,{idToken:t}),i=yield Ic._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return j(this,null,function*(){var e;if(yo(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!s||s===a)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return j(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return j(this,null,function*(){try{yield o0(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=c6()}_delete(){return j(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return j(this,null,function*(){if(yo(this.app))return Promise.reject(bl(this));let e=t?yr(t):null;return e&&jt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return j(this,null,function*(){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>j(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return j(this,null,function*(){return yo(this.app)?Promise.reject(bl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return yo(this.app)?Promise.reject(bl(this)):this.queue(()=>j(this,null,function*(){yield this.assertedPersistence.setPersistence(wl(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return j(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return j(this,null,function*(){let t=yield E6(this),e=new nw(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ks("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){return j(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),yield _6(this,i)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return j(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return j(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&wl(t)||this._popupRedirectResolver;jt(e,this,"argument-error"),this.redirectPersistenceManager=yield s0.create(this,[wl(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return j(this,null,function*(){var e,i;return this._isInitialized&&(yield this.queue(()=>j(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return j(this,null,function*(){if(t===this.currentUser)return this.queue(()=>j(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};let o=typeof e=="function"?e:e.next.bind(e),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof e=="function"){let l=t.addObserver(e,i,r);return()=>{s=!0,l()}}else{let l=t.addObserver(e);return()=>{s=!0,l()}}}directlySetCurrentUser(t){return j(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return j(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return j(this,null,function*(){var t;if(yo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&o6(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function Tc(n){return yr(n)}var a0=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=WI(e=>this.observer=e)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var g0={loadJS(){return j(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I6(n){g0=n}function ZC(n){return g0.loadJS(n)}function C6(){return g0.recaptchaEnterpriseScript}function x6(){return g0.gapiScript}function ex(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var rw=class{constructor(){this.enterprise=new ow}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}},ow=class{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}};var T6="recaptcha-enterprise",tx="NO_RECAPTCHA",sw=class{constructor(t){this.type=T6,this.auth=Tc(t)}verify(t="verify",e=!1){return j(this,null,function*(){function i(o){return j(this,null,function*(){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>j(null,null,function*(){p6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new Q_(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})}))})}function r(o,s,a){let l=window.grecaptcha;AC(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(c=>{s(c)}).catch(()=>{s(tx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rw().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{i(this.auth).then(a=>{if(!e&&AC(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=C6();l.length!==0&&(l+=a),ZC(l).then(()=>{r(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})})}};function ap(n,t,e,i=!1,r=!1){return j(this,null,function*(){let o=new sw(n),s;if(r)s=tx;else try{s=yield o.verify(e)}catch{s=yield o.verify(e,!0)}let a=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function aw(n,t,e,i,r){return j(this,null,function*(){var o,s;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield ap(n,t,e,e==="getOobCode");return i(n,a)}else return i(n,t).catch(a=>j(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield ap(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(a)}));else if(r==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield ap(n,t,e);return i(n,a).catch(l=>j(null,null,function*(){var c;if(((c=n._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let h=yield ap(n,t,e,!1,!0);return i(n,h)}return Promise.reject(l)}))}else{let a=yield ap(n,t,e,!1,!0);return i(n,a)}else return Promise.reject(r+" provider is not supported.")})}function Sw(n,t){let e=zd(n,"auth");if(e.isInitialized()){let r=e.getImmediate(),o=e.getOptions();if(xa(o,t??{}))return r;As(r,"already-initialized")}return e.initialize({options:t})}function D6(n,t){let e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(wl);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function Ew(n,t,e){let i=Tc(n);jt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let r=!!e?.disableWarnings,o=nx(t),{host:s,port:a}=P6(t),l=a===null?"":`:${a}`,c={url:`${o}//${s}${l}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){jt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),jt(xa(c,i.config.emulator)&&xa(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,yc(s)?(qg(`${o}//${s}${l}`),Hg("Auth",!0)):r||k6()}function nx(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function P6(n){let t=nx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:TC(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:TC(s)}}}function TC(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function k6(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Gd=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return _l("not implemented")}_getIdTokenResponse(t){return _l("not implemented")}_linkToIdToken(t,e){return _l("not implemented")}_getReauthenticationResolver(t){return _l("not implemented")}};function R6(n,t){return j(this,null,function*(){return xc(n,"POST","/v1/accounts:signUp",t)})}function N6(n,t){return j(this,null,function*(){return mp(n,"POST","/v1/accounts:signInWithPassword",Cc(n,t))})}function O6(n,t){return j(this,null,function*(){return mp(n,"POST","/v1/accounts:signInWithEmailLink",Cc(n,t))})}function M6(n,t){return j(this,null,function*(){return mp(n,"POST","/v1/accounts:signInWithEmailLink",Cc(n,t))})}var hp=class n extends Gd{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new n(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new n(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){return j(this,null,function*(){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aw(t,e,"signInWithPassword",N6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return O6(t,{email:this._email,oobCode:this._password});default:As(t,"internal-error")}})}_linkToIdToken(t,e){return j(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aw(t,i,"signUpPassword",R6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return M6(t,{idToken:e,email:this._email,oobCode:this._password});default:As(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function Wd(n,t){return j(this,null,function*(){return mp(n,"POST","/v1/accounts:signInWithIdp",Cc(n,t))})}var L6="http://localhost",l0=class n extends Gd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new n(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):As("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=Vm(e,["providerId","signInMethod"]);if(!i||!r)return null;let s=new n(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){let e=this.buildRequest();return Wd(t,e)}_linkToIdToken(t,e){let i=this.buildRequest();return i.idToken=e,Wd(t,i)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,Wd(t,e)}buildRequest(){let t={requestUri:L6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=jd(e)}return t}};function F6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V6(n){let t=Ud(Bd(n)).link,e=t?Ud(Bd(t)).deep_link_id:null,i=Ud(Bd(n)).deep_link_id;return(i?Ud(Bd(i)).link:null)||i||e||t||n}var c0=class n{constructor(t){var e,i,r,o,s,a;let l=Ud(Bd(t)),c=(e=l.apiKey)!==null&&e!==void 0?e:null,h=(i=l.oobCode)!==null&&i!==void 0?i:null,g=F6((r=l.mode)!==null&&r!==void 0?r:null);jt(c&&h&&g,"argument-error"),this.apiKey=c,this.operation=g,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){let e=V6(t);try{return new n(e)}catch{return null}}};var ix=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,i){return hp._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){let r=c0.parseLink(i);return jt(r,"argument-error"),hp._fromEmailAndCode(e,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),fp=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var u0=class extends fp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Aw=(()=>{class n extends u0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return l0._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function j6(n,t){return j(this,null,function*(){return mp(n,"POST","/v1/accounts:signUp",Cc(n,t))})}var Kd=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,r=!1){return j(this,null,function*(){let o=yield Ic._fromIdTokenResponse(t,i,r),s=DC(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:e})})}static _forOperation(t,e,i){return j(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);let r=DC(i);return new n({user:t,providerId:r,_tokenResponse:i,operationType:e})})}};function DC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var lw=class n extends es{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new n(t,e,i,r)}};function rx(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lw._fromErrorAndOperation(n,o,t,i):o})}function U6(n,t,e=!1){return j(this,null,function*(){let i=yield up(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return Kd._forOperation(n,"link",i)})}function B6(n,t,e=!1){return j(this,null,function*(){let{auth:i}=n;if(yo(i.app))return Promise.reject(bl(i));let r="reauthenticate";try{let o=yield up(n,rx(i,r,t,n),e);jt(o.idToken,i,"internal-error");let s=_w(o.idToken);jt(s,i,"internal-error");let{sub:a}=s;return jt(n.uid===a,i,"user-mismatch"),Kd._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&As(i,"user-mismatch"),o}})}function ox(n,t,e=!1){return j(this,null,function*(){if(yo(n.app))return Promise.reject(bl(n));let i="signIn",r=yield rx(n,i,t),o=yield Kd._fromIdTokenResponse(n,i,r);return e||(yield n._updateCurrentUser(o.user)),o})}function Iw(n,t){return j(this,null,function*(){return ox(Tc(n),t)})}function sx(n){return j(this,null,function*(){let t=Tc(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function Cw(n,t,e){return j(this,null,function*(){if(yo(n.app))return Promise.reject(bl(n));let i=Tc(n),s=yield aw(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j6,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&sx(n),l}),a=yield Kd._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(a.user),a})}function xw(n,t,e){return yo(n.app)?Promise.reject(bl(n)):Iw(yr(n),ix.credential(t,e)).catch(i=>j(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&sx(n),i}))}function Tw(n,t,e,i){return yr(n).onIdTokenChanged(t,e,i)}function Dw(n,t,e){return yr(n).beforeAuthStateChanged(t,e)}function Pw(n,t,e,i){return yr(n).onAuthStateChanged(t,e,i)}function kw(n){return yr(n).signOut()}var d0="__sak";var h0=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(d0,"1"),this.storage.removeItem(d0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var z6=1e3,$6=10,q6=(()=>{class n extends h0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let r=e.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);S6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$6):o()}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},z6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,i){return j(this,null,function*(){yield ac(n.prototype,this,"_set").call(this,e,i),this.localCache[e]=JSON.stringify(i)})}_get(e){return j(this,null,function*(){let i=yield ac(n.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(i),i})}_remove(e){return j(this,null,function*(){yield ac(n.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return n.type="LOCAL",n})(),ax=q6;var H6=(()=>{class n extends h0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})(),Rw=H6;function W6(n){return Promise.all(n.map(t=>j(null,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var G6=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;let r=new n(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return j(this,null,function*(){let i=e,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(a).map(h=>j(this,null,function*(){return h(i.origin,s)})),c=yield W6(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:c})})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Nw(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}var cw=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){return j(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let c=Nw("",20);r.port1.start();let h=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(g){let _=g;if(_.data.eventId===c)switch(_.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Pa(){return window}function K6(n){Pa().location.href=n}function lx(){return typeof Pa().WorkerGlobalScope<"u"&&typeof Pa().importScripts=="function"}function Y6(){return j(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function X6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function J6(){return lx()?self:null}var cx="firebaseLocalStorageDb",Q6=1,f0="firebaseLocalStorage",ux="fbase_key",Tu=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function v0(n,t){return n.transaction([f0],t?"readwrite":"readonly").objectStore(f0)}function Z6(){let n=indexedDB.deleteDatabase(cx);return new Tu(n).toPromise()}function uw(){let n=indexedDB.open(cx,Q6);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(f0,{keyPath:ux})}catch(r){e(r)}}),n.addEventListener("success",()=>j(null,null,function*(){let i=n.result;i.objectStoreNames.contains(f0)?t(i):(i.close(),yield Z6(),t(yield uw()))}))})}function PC(n,t,e){return j(this,null,function*(){let i=v0(n,!0).put({[ux]:t,value:e});return new Tu(i).toPromise()})}function eF(n,t){return j(this,null,function*(){let e=v0(n,!1).get(t),i=yield new Tu(e).toPromise();return i===void 0?null:i.value})}function kC(n,t){let e=v0(n,!0).delete(t);return new Tu(e).toPromise()}var tF=800,nF=3,iF=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return j(this,null,function*(){return this.db?this.db:(this.db=yield uw(),this.db)})}_withRetries(e){return j(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(i++>nF)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return j(this,null,function*(){return lx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return j(this,null,function*(){this.receiver=G6._getInstance(J6()),this.receiver._subscribe("keyChanged",(e,i)=>j(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(e,i)=>j(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return j(this,null,function*(){var e,i;if(this.activeServiceWorker=yield Y6(),!this.activeServiceWorker)return;this.sender=new cw(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return j(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||X6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return j(this,null,function*(){try{if(!indexedDB)return!1;let e=yield uw();return yield PC(e,d0,"1"),yield kC(e,d0),!0}catch{}return!1})}_withPendingWrite(e){return j(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,i){return j(this,null,function*(){return this._withPendingWrite(()=>j(this,null,function*(){return yield this._withRetries(r=>PC(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)}))})}_get(e){return j(this,null,function*(){let i=yield this._withRetries(r=>eF(r,e));return this.localCache[e]=i,i})}_remove(e){return j(this,null,function*(){return this._withPendingWrite(()=>j(this,null,function*(){return yield this._withRetries(i=>kC(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return j(this,null,function*(){let e=yield this._withRetries(o=>{let s=v0(o,!1).getAll();return new Tu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(e.length!==0)for(let{fbase_key:o,value:s}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>j(this,null,function*(){return this._poll()}),tF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),dx=iF;var fQ=ex("rcb"),pQ=new xu(3e4,6e4);function hx(n,t){return t?wl(t):(jt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var pp=class extends Gd{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wd(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Wd(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Wd(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function rF(n){return ox(n.auth,new pp(n),n.bypassAuthState)}function oF(n){let{auth:t,user:e}=n;return jt(e,t,"internal-error"),B6(e,new pp(n),n.bypassAuthState)}function sF(n){return j(this,null,function*(){let{auth:t,user:e}=n;return jt(e,t,"internal-error"),U6(e,new pp(n),n.bypassAuthState)})}var p0=class{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>j(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return j(this,null,function*(){let{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rF;case"linkViaPopup":case"linkViaRedirect":return sF;case"reauthViaPopup":case"reauthViaRedirect":return oF;default:As(this.auth,"internal-error")}}resolve(t){Sl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Sl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var aF=new xu(2e3,1e4);function Ow(n,t,e){return j(this,null,function*(){if(yo(n.app))return Promise.reject(Js(n,"operation-not-supported-in-this-environment"));let i=Tc(n);s6(n,t,fp);let r=hx(i,e);return new lF(i,"signInViaPopup",t,r).executeNotNull()})}var lF=(()=>{class n extends p0{constructor(e,i,r,o,s){super(e,i,o,s),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return j(this,null,function*(){let e=yield this.execute();return jt(e,this.auth,"internal-error"),e})}onExecution(){return j(this,null,function*(){Sl(this.filter.length===1,"Popup operations only handle one event");let e=Nw();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aF.get())};e()}}n.currentPopupAction=null;return n})(),cF="pendingRedirect",e0=new Map,dw=class n extends p0{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){return j(this,null,function*(){let t=e0.get(this.auth._key());if(!t){try{let i=(yield uF(this.resolver,this.auth))?yield ac(n.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}e0.set(this.auth._key(),t)}return this.bypassAuthState||e0.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return j(this,null,function*(){if(t.type==="signInViaRedirect")return ac(n.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,ac(n.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return j(this,null,function*(){})}cleanUp(){}};function uF(n,t){return j(this,null,function*(){let e=fF(t),i=hF(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(e))==="true";return yield i._remove(e),r})}function dF(n,t){e0.set(n._key(),t)}function hF(n){return wl(n._redirectPersistence)}function fF(n){return Zg(cF,n.config.apiKey,n.name)}function pF(n,t,e=!1){return j(this,null,function*(){if(yo(n.app))return Promise.reject(bl(n));let i=Tc(n),r=hx(i,t),s=yield new dw(i,r,e).execute();return s&&!e&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,t)),s})}var mF=600*1e3,hw=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gF(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!fx(t)){let r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Js(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mF&&this.cachedEventUids.clear(),this.cachedEventUids.has(RC(t))}saveEventToCache(t){this.cachedEventUids.add(RC(t)),this.lastProcessedEventTime=Date.now()}};function RC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function fx({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function gF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fx(n);default:return!1}}function vF(e){return j(this,arguments,function*(n,t={}){return xc(n,"GET","/v1/projects",t)})}var yF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_F=/^https?/;function wF(n){return j(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:t}=yield vF(n);for(let e of t)try{if(bF(e))return}catch{}As(n,"unauthorized-domain")})}function bF(n){let t=X_(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&s.hostname===i}if(!_F.test(e))return!1;if(yF.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var SF=new xu(3e4,6e4);function NC(){let n=Pa().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function EF(n){return new Promise((t,e)=>{var i,r,o;function s(){NC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{NC(),e(Js(n,"network-request-failed"))},timeout:SF.get()})}if(!((r=(i=Pa().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Pa().gapi)===null||o===void 0)&&o.load)s();else{let a=ex("iframefcb");return Pa()[a]=()=>{gapi.load?s():e(Js(n,"network-request-failed"))},ZC(`${x6()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw t0=null,t})}var t0=null;function AF(n){return t0=t0||EF(n),t0}var IF=new xu(5e3,15e3),CF="__/auth/iframe",xF="emulator/auth/iframe",TF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PF(n){let t=n.config;jt(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?vw(t,xF):`https://${n.config.authDomain}/${CF}`,i={apiKey:t.apiKey,appName:n.name,v:wc},r=DF.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${jd(i).slice(1)}`}function kF(n){return j(this,null,function*(){let t=yield AF(n),e=Pa().gapi;return jt(e,n,"internal-error"),t.open({where:document.body,url:PF(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TF,dontclear:!0},i=>new Promise((r,o)=>j(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=Js(n,"network-request-failed"),a=Pa().setTimeout(()=>{o(s)},IF.get());function l(){Pa().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{o(s)})})))})}var RF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NF=500,OF=600,MF="_blank",LF="http://localhost",m0=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function FF(n,t,e,i=NF,r=OF){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},RF),{width:i.toString(),height:r.toString(),top:o,left:s}),c=vr().toLowerCase();e&&(a=WC(c)?MF:e),qC(c)&&(t=t||LF,l.scrollbars="yes");let h=Object.entries(l).reduce((_,[p,P])=>`${_}${p}=${P},`,"");if(b6(c)&&a!=="_self")return VF(t||"",a),new m0(null);let g=window.open(t||"",a,h);jt(g,n,"popup-blocked");try{g.focus()}catch{}return new m0(g)}function VF(n,t){let e=document.createElement("a");e.href=n,e.target=t;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}var jF="__/auth/handler",UF="emulator/auth/handler",BF=encodeURIComponent("fac");function OC(n,t,e,i,r,o){return j(this,null,function*(){jt(n.config.authDomain,n,"auth-domain-config-required"),jt(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:wc,eventId:r};if(t instanceof fp){t.setDefaultLanguage(n.languageCode),s.providerId=t.providerId||"",HI(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[h,g]of Object.entries(o||{}))s[h]=g}if(t instanceof u0){let h=t.getScopes().filter(g=>g!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let l=yield n._getAppCheckToken(),c=l?`#${BF}=${encodeURIComponent(l)}`:"";return`${zF(n)}?${jd(a).slice(1)}${c}`})}function zF({config:n}){return n.emulator?vw(n,UF):`https://${n.authDomain}/${jF}`}var Y_="webStorageSupport",fw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rw,this._completeRedirectFn=pF,this._overrideRedirectResult=dF}_openPopup(t,e,i,r){return j(this,null,function*(){var o;Sl((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield OC(t,e,i,X_(),r);return FF(t,s,Nw())})}_openRedirect(t,e,i,r){return j(this,null,function*(){yield this._originValidation(t);let o=yield OC(t,e,i,X_(),r);return K6(o),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Sl(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){return j(this,null,function*(){let e=yield kF(t),i=new hw(t);return e.register("authEvent",r=>(jt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Y_,{type:Y_},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[Y_];s!==void 0&&e(!!s),As(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=wF(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return JC()||HC()||bw()}},px=fw;var MC="@firebase/auth",LC="1.10.8";var pw=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return j(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $F(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qF(n){Ys(new vo("auth",(t,{options:e})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;jt(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(n)},c=new iw(i,r,o,l);return D6(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ys(new vo("auth-internal",t=>{let e=Tc(t.getProvider("auth").getImmediate());return(i=>new pw(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(MC,LC,$F(n)),Ci(MC,LC,"esm2017")}var HF=300,WF=I_("authIdTokenMaxAge")||HF,FC=null,GF=n=>t=>j(null,null,function*(){let e=t&&(yield t.getIdTokenResult()),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>WF)return;let r=e?.token;FC!==r&&(FC=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Mw(n=Au()){let t=zd(n,"auth");if(t.isInitialized())return t.getImmediate();let e=Sw(n,{popupRedirectResolver:px,persistence:[dx,ax,Rw]}),i=I_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=GF(o.toString());Dw(e,s,()=>s(e.currentUser)),Tw(e,a=>s(a))}}let r=E_("auth");return r&&Ew(e,`http://${r}`),e}function KF(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}I6({loadJS(n){return new Promise((t,e)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{let o=Js("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",KF().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qF("Browser");var mx="auth",Du=class{constructor(t){return t}},gp=class{constructor(){return qd(mx)}};var Lw=new Gt("angularfire2.auth-instances");function M8(n,t){let e=rp(mx,n,t);return e&&new Du(e)}function L8(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new Du(i)}}var F8={provide:gp,deps:[[new ys,Lw]]},V8={provide:Du,useFactory:M8,deps:[[new ys,Lw],yl]};function gx(n,...t){return Ci("angularfire",bc.full,"auth"),vs([V8,F8,{provide:Lw,useFactory:L8(n),multi:!0,deps:[di,Hr,Sc,Cu,[new ys,Hd],...t]}])}var vx=lr(Cw,!0,2);var yx=lr(Mw,!0);var _x=lr(Pw,!0);var wx=lr(xw,!0,2);var bx=lr(Ow,!0,2);var Sx=lr(kw,!0,2);var Ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ax={};var El,Fw;(function(){var n;function t(H,T){function I(){}I.prototype=T.prototype,H.D=T.prototype,H.prototype=new I,H.prototype.constructor=H,H.C=function(V,b,C){for(var x=Array(arguments.length-2),te=2;te<arguments.length;te++)x[te-2]=arguments[te];return T.prototype[b].apply(V,x)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(H,T,I){I||(I=0);var V=Array(16);if(typeof T=="string")for(var b=0;16>b;++b)V[b]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(b=0;16>b;++b)V[b]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=H.g[0],I=H.g[1],b=H.g[2];var C=H.g[3],x=T+(C^I&(b^C))+V[0]+3614090360&4294967295;T=I+(x<<7&4294967295|x>>>25),x=C+(b^T&(I^b))+V[1]+3905402710&4294967295,C=T+(x<<12&4294967295|x>>>20),x=b+(I^C&(T^I))+V[2]+606105819&4294967295,b=C+(x<<17&4294967295|x>>>15),x=I+(T^b&(C^T))+V[3]+3250441966&4294967295,I=b+(x<<22&4294967295|x>>>10),x=T+(C^I&(b^C))+V[4]+4118548399&4294967295,T=I+(x<<7&4294967295|x>>>25),x=C+(b^T&(I^b))+V[5]+1200080426&4294967295,C=T+(x<<12&4294967295|x>>>20),x=b+(I^C&(T^I))+V[6]+2821735955&4294967295,b=C+(x<<17&4294967295|x>>>15),x=I+(T^b&(C^T))+V[7]+4249261313&4294967295,I=b+(x<<22&4294967295|x>>>10),x=T+(C^I&(b^C))+V[8]+1770035416&4294967295,T=I+(x<<7&4294967295|x>>>25),x=C+(b^T&(I^b))+V[9]+2336552879&4294967295,C=T+(x<<12&4294967295|x>>>20),x=b+(I^C&(T^I))+V[10]+4294925233&4294967295,b=C+(x<<17&4294967295|x>>>15),x=I+(T^b&(C^T))+V[11]+2304563134&4294967295,I=b+(x<<22&4294967295|x>>>10),x=T+(C^I&(b^C))+V[12]+1804603682&4294967295,T=I+(x<<7&4294967295|x>>>25),x=C+(b^T&(I^b))+V[13]+4254626195&4294967295,C=T+(x<<12&4294967295|x>>>20),x=b+(I^C&(T^I))+V[14]+2792965006&4294967295,b=C+(x<<17&4294967295|x>>>15),x=I+(T^b&(C^T))+V[15]+1236535329&4294967295,I=b+(x<<22&4294967295|x>>>10),x=T+(b^C&(I^b))+V[1]+4129170786&4294967295,T=I+(x<<5&4294967295|x>>>27),x=C+(I^b&(T^I))+V[6]+3225465664&4294967295,C=T+(x<<9&4294967295|x>>>23),x=b+(T^I&(C^T))+V[11]+643717713&4294967295,b=C+(x<<14&4294967295|x>>>18),x=I+(C^T&(b^C))+V[0]+3921069994&4294967295,I=b+(x<<20&4294967295|x>>>12),x=T+(b^C&(I^b))+V[5]+3593408605&4294967295,T=I+(x<<5&4294967295|x>>>27),x=C+(I^b&(T^I))+V[10]+38016083&4294967295,C=T+(x<<9&4294967295|x>>>23),x=b+(T^I&(C^T))+V[15]+3634488961&4294967295,b=C+(x<<14&4294967295|x>>>18),x=I+(C^T&(b^C))+V[4]+3889429448&4294967295,I=b+(x<<20&4294967295|x>>>12),x=T+(b^C&(I^b))+V[9]+568446438&4294967295,T=I+(x<<5&4294967295|x>>>27),x=C+(I^b&(T^I))+V[14]+3275163606&4294967295,C=T+(x<<9&4294967295|x>>>23),x=b+(T^I&(C^T))+V[3]+4107603335&4294967295,b=C+(x<<14&4294967295|x>>>18),x=I+(C^T&(b^C))+V[8]+1163531501&4294967295,I=b+(x<<20&4294967295|x>>>12),x=T+(b^C&(I^b))+V[13]+2850285829&4294967295,T=I+(x<<5&4294967295|x>>>27),x=C+(I^b&(T^I))+V[2]+4243563512&4294967295,C=T+(x<<9&4294967295|x>>>23),x=b+(T^I&(C^T))+V[7]+1735328473&4294967295,b=C+(x<<14&4294967295|x>>>18),x=I+(C^T&(b^C))+V[12]+2368359562&4294967295,I=b+(x<<20&4294967295|x>>>12),x=T+(I^b^C)+V[5]+4294588738&4294967295,T=I+(x<<4&4294967295|x>>>28),x=C+(T^I^b)+V[8]+2272392833&4294967295,C=T+(x<<11&4294967295|x>>>21),x=b+(C^T^I)+V[11]+1839030562&4294967295,b=C+(x<<16&4294967295|x>>>16),x=I+(b^C^T)+V[14]+4259657740&4294967295,I=b+(x<<23&4294967295|x>>>9),x=T+(I^b^C)+V[1]+2763975236&4294967295,T=I+(x<<4&4294967295|x>>>28),x=C+(T^I^b)+V[4]+1272893353&4294967295,C=T+(x<<11&4294967295|x>>>21),x=b+(C^T^I)+V[7]+4139469664&4294967295,b=C+(x<<16&4294967295|x>>>16),x=I+(b^C^T)+V[10]+3200236656&4294967295,I=b+(x<<23&4294967295|x>>>9),x=T+(I^b^C)+V[13]+681279174&4294967295,T=I+(x<<4&4294967295|x>>>28),x=C+(T^I^b)+V[0]+3936430074&4294967295,C=T+(x<<11&4294967295|x>>>21),x=b+(C^T^I)+V[3]+3572445317&4294967295,b=C+(x<<16&4294967295|x>>>16),x=I+(b^C^T)+V[6]+76029189&4294967295,I=b+(x<<23&4294967295|x>>>9),x=T+(I^b^C)+V[9]+3654602809&4294967295,T=I+(x<<4&4294967295|x>>>28),x=C+(T^I^b)+V[12]+3873151461&4294967295,C=T+(x<<11&4294967295|x>>>21),x=b+(C^T^I)+V[15]+530742520&4294967295,b=C+(x<<16&4294967295|x>>>16),x=I+(b^C^T)+V[2]+3299628645&4294967295,I=b+(x<<23&4294967295|x>>>9),x=T+(b^(I|~C))+V[0]+4096336452&4294967295,T=I+(x<<6&4294967295|x>>>26),x=C+(I^(T|~b))+V[7]+1126891415&4294967295,C=T+(x<<10&4294967295|x>>>22),x=b+(T^(C|~I))+V[14]+2878612391&4294967295,b=C+(x<<15&4294967295|x>>>17),x=I+(C^(b|~T))+V[5]+4237533241&4294967295,I=b+(x<<21&4294967295|x>>>11),x=T+(b^(I|~C))+V[12]+1700485571&4294967295,T=I+(x<<6&4294967295|x>>>26),x=C+(I^(T|~b))+V[3]+2399980690&4294967295,C=T+(x<<10&4294967295|x>>>22),x=b+(T^(C|~I))+V[10]+4293915773&4294967295,b=C+(x<<15&4294967295|x>>>17),x=I+(C^(b|~T))+V[1]+2240044497&4294967295,I=b+(x<<21&4294967295|x>>>11),x=T+(b^(I|~C))+V[8]+1873313359&4294967295,T=I+(x<<6&4294967295|x>>>26),x=C+(I^(T|~b))+V[15]+4264355552&4294967295,C=T+(x<<10&4294967295|x>>>22),x=b+(T^(C|~I))+V[6]+2734768916&4294967295,b=C+(x<<15&4294967295|x>>>17),x=I+(C^(b|~T))+V[13]+1309151649&4294967295,I=b+(x<<21&4294967295|x>>>11),x=T+(b^(I|~C))+V[4]+4149444226&4294967295,T=I+(x<<6&4294967295|x>>>26),x=C+(I^(T|~b))+V[11]+3174756917&4294967295,C=T+(x<<10&4294967295|x>>>22),x=b+(T^(C|~I))+V[2]+718787259&4294967295,b=C+(x<<15&4294967295|x>>>17),x=I+(C^(b|~T))+V[9]+3951481745&4294967295,H.g[0]=H.g[0]+T&4294967295,H.g[1]=H.g[1]+(b+(x<<21&4294967295|x>>>11))&4294967295,H.g[2]=H.g[2]+b&4294967295,H.g[3]=H.g[3]+C&4294967295}i.prototype.u=function(H,T){T===void 0&&(T=H.length);for(var I=T-this.blockSize,V=this.B,b=this.h,C=0;C<T;){if(b==0)for(;C<=I;)r(this,H,C),C+=this.blockSize;if(typeof H=="string"){for(;C<T;)if(V[b++]=H.charCodeAt(C++),b==this.blockSize){r(this,V),b=0;break}}else for(;C<T;)if(V[b++]=H[C++],b==this.blockSize){r(this,V),b=0;break}}this.h=b,this.o+=T},i.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var T=1;T<H.length-8;++T)H[T]=0;var I=8*this.o;for(T=H.length-8;T<H.length;++T)H[T]=I&255,I/=256;for(this.u(H),H=Array(16),T=I=0;4>T;++T)for(var V=0;32>V;V+=8)H[I++]=this.g[T]>>>V&255;return H};function o(H,T){var I=a;return Object.prototype.hasOwnProperty.call(I,H)?I[H]:I[H]=T(H)}function s(H,T){this.h=T;for(var I=[],V=!0,b=H.length-1;0<=b;b--){var C=H[b]|0;V&&C==T||(I[b]=C,V=!1)}this.g=I}var a={};function l(H){return-128<=H&&128>H?o(H,function(T){return new s([T|0],0>T?-1:0)}):new s([H|0],0>H?-1:0)}function c(H){if(isNaN(H)||!isFinite(H))return g;if(0>H)return N(c(-H));for(var T=[],I=1,V=0;H>=I;V++)T[V]=H/I|0,I*=4294967296;return new s(T,0)}function h(H,T){if(H.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(H.charAt(0)=="-")return N(h(H.substring(1),T));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(T,8)),V=g,b=0;b<H.length;b+=8){var C=Math.min(8,H.length-b),x=parseInt(H.substring(b,b+C),T);8>C?(C=c(Math.pow(T,C)),V=V.j(C).add(c(x))):(V=V.j(I),V=V.add(c(x)))}return V}var g=l(0),_=l(1),p=l(16777216);n=s.prototype,n.m=function(){if(O(this))return-N(this).m();for(var H=0,T=1,I=0;I<this.g.length;I++){var V=this.i(I);H+=(0<=V?V:4294967296+V)*T,T*=4294967296}return H},n.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(P(this))return"0";if(O(this))return"-"+N(this).toString(H);for(var T=c(Math.pow(H,6)),I=this,V="";;){var b=X(I,T).g;I=R(I,b.j(T));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(H);if(I=b,P(I))return C+V;for(;6>C.length;)C="0"+C;V=C+V}},n.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function P(H){if(H.h!=0)return!1;for(var T=0;T<H.g.length;T++)if(H.g[T]!=0)return!1;return!0}function O(H){return H.h==-1}n.l=function(H){return H=R(this,H),O(H)?-1:P(H)?0:1};function N(H){for(var T=H.g.length,I=[],V=0;V<T;V++)I[V]=~H.g[V];return new s(I,~H.h).add(_)}n.abs=function(){return O(this)?N(this):this},n.add=function(H){for(var T=Math.max(this.g.length,H.g.length),I=[],V=0,b=0;b<=T;b++){var C=V+(this.i(b)&65535)+(H.i(b)&65535),x=(C>>>16)+(this.i(b)>>>16)+(H.i(b)>>>16);V=x>>>16,C&=65535,x&=65535,I[b]=x<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function R(H,T){return H.add(N(T))}n.j=function(H){if(P(this)||P(H))return g;if(O(this))return O(H)?N(this).j(N(H)):N(N(this).j(H));if(O(H))return N(this.j(N(H)));if(0>this.l(p)&&0>H.l(p))return c(this.m()*H.m());for(var T=this.g.length+H.g.length,I=[],V=0;V<2*T;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var b=0;b<H.g.length;b++){var C=this.i(V)>>>16,x=this.i(V)&65535,te=H.i(b)>>>16,we=H.i(b)&65535;I[2*V+2*b]+=x*we,Q(I,2*V+2*b),I[2*V+2*b+1]+=C*we,Q(I,2*V+2*b+1),I[2*V+2*b+1]+=x*te,Q(I,2*V+2*b+1),I[2*V+2*b+2]+=C*te,Q(I,2*V+2*b+2)}for(V=0;V<T;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=T;V<2*T;V++)I[V]=0;return new s(I,0)};function Q(H,T){for(;(H[T]&65535)!=H[T];)H[T+1]+=H[T]>>>16,H[T]&=65535,T++}function Z(H,T){this.g=H,this.h=T}function X(H,T){if(P(T))throw Error("division by zero");if(P(H))return new Z(g,g);if(O(H))return T=X(N(H),T),new Z(N(T.g),N(T.h));if(O(T))return T=X(H,N(T)),new Z(N(T.g),T.h);if(30<H.g.length){if(O(H)||O(T))throw Error("slowDivide_ only works with positive integers.");for(var I=_,V=T;0>=V.l(H);)I=he(I),V=he(V);var b=_e(I,1),C=_e(V,1);for(V=_e(V,2),I=_e(I,2);!P(V);){var x=C.add(V);0>=x.l(H)&&(b=b.add(I),C=x),V=_e(V,1),I=_e(I,1)}return T=R(H,b.j(T)),new Z(b,T)}for(b=g;0<=H.l(T);){for(I=Math.max(1,Math.floor(H.m()/T.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),C=c(I),x=C.j(T);O(x)||0<x.l(H);)I-=V,C=c(I),x=C.j(T);P(C)&&(C=_),b=b.add(C),H=R(H,x)}return new Z(b,H)}n.A=function(H){return X(this,H).h},n.and=function(H){for(var T=Math.max(this.g.length,H.g.length),I=[],V=0;V<T;V++)I[V]=this.i(V)&H.i(V);return new s(I,this.h&H.h)},n.or=function(H){for(var T=Math.max(this.g.length,H.g.length),I=[],V=0;V<T;V++)I[V]=this.i(V)|H.i(V);return new s(I,this.h|H.h)},n.xor=function(H){for(var T=Math.max(this.g.length,H.g.length),I=[],V=0;V<T;V++)I[V]=this.i(V)^H.i(V);return new s(I,this.h^H.h)};function he(H){for(var T=H.g.length+1,I=[],V=0;V<T;V++)I[V]=H.i(V)<<1|H.i(V-1)>>>31;return new s(I,H.h)}function _e(H,T){var I=T>>5;T%=32;for(var V=H.g.length-I,b=[],C=0;C<V;C++)b[C]=0<T?H.i(C+I)>>>T|H.i(C+I+1)<<32-T:H.i(C+I);return new s(b,H.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Fw=Ax.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,El=Ax.Integer=s}).apply(typeof Ex<"u"?Ex:typeof self<"u"?self:typeof window<"u"?window:{});var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Al={};var Vw,j8,Yd,jw,vp,_0,Uw,Bw,zw;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,S){return d==Array.prototype||d==Object.prototype||(d[y]=S.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof y0=="object"&&y0];for(var y=0;y<d.length;++y){var S=d[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=e(this);function r(d,y){if(y)e:{var S=i;d=d.split(".");for(var B=0;B<d.length-1;B++){var ae=d[B];if(!(ae in S))break e;S=S[ae]}d=d[d.length-1],B=S[d],y=y(B),y!=B&&y!=null&&t(S,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var S=0,B=!1,ae={next:function(){if(!B&&S<d.length){var be=S++;return{value:y(be,d[be]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}r("Array.prototype.values",function(d){return d||function(){return o(this,function(y,S){return S})}});var s=s||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function c(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function h(d,y,S){return d.call.apply(d.bind,arguments)}function g(d,y,S){if(!d)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,B),d.apply(y,ae)}}return function(){return d.apply(y,arguments)}}function _(d,y,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,_.apply(null,arguments)}function p(d,y){var S=Array.prototype.slice.call(arguments,1);return function(){var B=S.slice();return B.push.apply(B,arguments),d.apply(this,B)}}function P(d,y){function S(){}S.prototype=y.prototype,d.aa=y.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(B,ae,be){for(var We=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)We[Dn-2]=arguments[Dn];return y.prototype[ae].apply(B,We)}}function O(d){let y=d.length;if(0<y){let S=Array(y);for(let B=0;B<y;B++)S[B]=d[B];return S}return[]}function N(d,y){for(let S=1;S<arguments.length;S++){let B=arguments[S];if(l(B)){let ae=d.length||0,be=B.length||0;d.length=ae+be;for(let We=0;We<be;We++)d[ae+We]=B[We]}else d.push(B)}}class R{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(d){return/^[\s\xa0]*$/.test(d)}function Z(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function X(d){return X[" "](d),d}X[" "]=function(){};var he=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function _e(d,y,S){for(let B in d)y.call(S,d[B],B,d)}function H(d,y){for(let S in d)y.call(void 0,d[S],S,d)}function T(d){let y={};for(let S in d)y[S]=d[S];return y}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(d,y){let S,B;for(let ae=1;ae<arguments.length;ae++){B=arguments[ae];for(S in B)d[S]=B[S];for(let be=0;be<I.length;be++)S=I[be],Object.prototype.hasOwnProperty.call(B,S)&&(d[S]=B[S])}}function b(d){var y=1;d=d.split(":");let S=[];for(;0<y&&d.length;)S.push(d.shift()),y--;return d.length&&S.push(d.join(":")),S}function C(d){a.setTimeout(()=>{throw d},0)}function x(){var d=Ce;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,S){let B=we.get();B.set(y,S),this.h?this.h.next=B:this.g=B,this.h=B}}var we=new R(()=>new Ie,d=>d.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,pe=!1,Ce=new te,He=()=>{let d=a.Promise.resolve(void 0);Ae=()=>{d.then(Le)}};var Le=()=>{for(var d;d=x();){try{d.h.call(d.g)}catch(S){C(S)}var y=we;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}pe=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ee=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let S=()=>{};a.addEventListener("test",S,y),a.removeEventListener("test",S,y)}catch{}return d})();function re(d,y){if(J.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,B=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(he){e:{try{X(y.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(y=null)}}else S=="mouseover"?y=d.fromElement:S=="mouseout"&&(y=d.toElement);this.relatedTarget=y,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ce[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&re.aa.h.call(this)}}P(re,J);var ce={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ee(d,y,S,B,ae){this.listener=d,this.proxy=null,this.src=y,this.type=S,this.capture=!!B,this.ha=ae,this.key=++Se,this.da=this.fa=!1}function Pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ue(d){this.src=d,this.g={},this.h=0}Ue.prototype.add=function(d,y,S,B,ae){var be=d.toString();d=this.g[be],d||(d=this.g[be]=[],this.h++);var We=Xe(d,y,B,ae);return-1<We?(y=d[We],S||(y.fa=!1)):(y=new Ee(y,this.src,be,!!B,ae),y.fa=S,d.push(y)),y};function Je(d,y){var S=y.type;if(S in d.g){var B=d.g[S],ae=Array.prototype.indexOf.call(B,y,void 0),be;(be=0<=ae)&&Array.prototype.splice.call(B,ae,1),be&&(Pe(y),d.g[S].length==0&&(delete d.g[S],d.h--))}}function Xe(d,y,S,B){for(var ae=0;ae<d.length;++ae){var be=d[ae];if(!be.da&&be.listener==y&&be.capture==!!S&&be.ha==B)return ae}return-1}var pt="closure_lm_"+(1e6*Math.random()|0),W={};function Ye(d,y,S,B,ae){if(B&&B.once)return Ve(d,y,S,B,ae);if(Array.isArray(y)){for(var be=0;be<y.length;be++)Ye(d,y[be],S,B,ae);return null}return S=$t(S),d&&d[fe]?d.K(y,S,c(B)?!!B.capture:!!B,ae):en(d,y,S,!1,B,ae)}function en(d,y,S,B,ae,be){if(!y)throw Error("Invalid event type");var We=c(ae)?!!ae.capture:!!ae,Dn=An(d);if(Dn||(d[pt]=Dn=new Ue(d)),S=Dn.add(y,S,B,We,be),S.proxy)return S;if(B=xt(),S.proxy=B,B.src=d,B.listener=S,d.addEventListener)ee||(ae=We),ae===void 0&&(ae=!1),d.addEventListener(y.toString(),B,ae);else if(d.attachEvent)d.attachEvent(St(y.toString()),B);else if(d.addListener&&d.removeListener)d.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return S}function xt(){function d(S){return y.call(d.src,d.listener,S)}let y=wt;return d}function Ve(d,y,S,B,ae){if(Array.isArray(y)){for(var be=0;be<y.length;be++)Ve(d,y[be],S,B,ae);return null}return S=$t(S),d&&d[fe]?d.L(y,S,c(B)?!!B.capture:!!B,ae):en(d,y,S,!0,B,ae)}function At(d,y,S,B,ae){if(Array.isArray(y))for(var be=0;be<y.length;be++)At(d,y[be],S,B,ae);else B=c(B)?!!B.capture:!!B,S=$t(S),d&&d[fe]?(d=d.i,y=String(y).toString(),y in d.g&&(be=d.g[y],S=Xe(be,S,B,ae),-1<S&&(Pe(be[S]),Array.prototype.splice.call(be,S,1),be.length==0&&(delete d.g[y],d.h--)))):d&&(d=An(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Xe(y,S,B,ae)),(S=-1<d?y[d]:null)&&it(S))}function it(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[fe])Je(y.i,d);else{var S=d.type,B=d.proxy;y.removeEventListener?y.removeEventListener(S,B,d.capture):y.detachEvent?y.detachEvent(St(S),B):y.addListener&&y.removeListener&&y.removeListener(B),(S=An(y))?(Je(S,d),S.h==0&&(S.src=null,y[pt]=null)):Pe(d)}}}function St(d){return d in W?W[d]:W[d]="on"+d}function wt(d,y){if(d.da)d=!0;else{y=new re(y,this);var S=d.listener,B=d.ha||d.src;d.fa&&it(d),d=S.call(B,y)}return d}function An(d){return d=d[pt],d instanceof Ue?d:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function $t(d){return typeof d=="function"?d:(d[dn]||(d[dn]=function(y){return d.handleEvent(y)}),d[dn])}function kt(){L.call(this),this.i=new Ue(this),this.M=this,this.F=null}P(kt,L),kt.prototype[fe]=!0,kt.prototype.removeEventListener=function(d,y,S,B){At(this,d,y,S,B)};function Rt(d,y){var S,B=d.F;if(B)for(S=[];B;B=B.F)S.push(B);if(d=d.M,B=y.type||y,typeof y=="string")y=new J(y,d);else if(y instanceof J)y.target=y.target||d;else{var ae=y;y=new J(B,d),V(y,ae)}if(ae=!0,S)for(var be=S.length-1;0<=be;be--){var We=y.g=S[be];ae=at(We,B,!0,y)&&ae}if(We=y.g=d,ae=at(We,B,!0,y)&&ae,ae=at(We,B,!1,y)&&ae,S)for(be=0;be<S.length;be++)We=y.g=S[be],ae=at(We,B,!1,y)&&ae}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var S=d.g[y],B=0;B<S.length;B++)Pe(S[B]);delete d.g[y],d.h--}}this.F=null},kt.prototype.K=function(d,y,S,B){return this.i.add(String(d),y,!1,S,B)},kt.prototype.L=function(d,y,S,B){return this.i.add(String(d),y,!0,S,B)};function at(d,y,S,B){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var ae=!0,be=0;be<y.length;++be){var We=y[be];if(We&&!We.da&&We.capture==S){var Dn=We.listener,yi=We.ha||We.src;We.fa&&Je(d.i,We),ae=Dn.call(yi,B)!==!1&&ae}}return ae&&!B.defaultPrevented}function Kt(d,y,S){if(typeof d=="function")S&&(d=_(d,S));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function ht(d){d.g=Kt(()=>{d.g=null,d.i&&(d.i=!1,ht(d))},d.l);let y=d.h;d.h=null,d.m.apply(null,y)}class mi extends L{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(d){L.call(this),this.h=d,this.g={}}P(pn,L);var rn=[];function on(d){_e(d.g,function(y,S){this.g.hasOwnProperty(S)&&it(y)},d),d.g={}}pn.prototype.N=function(){pn.aa.N.call(this),on(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=a.JSON.stringify,Et=a.JSON.parse,$n=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Tt(){}Tt.prototype.h=null;function Wt(d){return d.h||(d.h=d.i())}function Xn(){}var Yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function It(){J.call(this,"d")}P(It,J);function In(){J.call(this,"c")}P(In,J);var ro={},er=null;function bo(){return er=er||new kt}ro.La="serverreachability";function No(d){J.call(this,ro.La,d)}P(No,J);function bt(d){let y=bo();Rt(y,new No(y))}ro.STAT_EVENT="statevent";function os(d,y){J.call(this,ro.STAT_EVENT,d),this.stat=y}P(os,J);function oi(d){let y=bo();Rt(y,new os(y,d))}ro.Ma="timingevent";function oo(d,y){J.call(this,ro.Ma,d),this.size=y}P(oo,J);function ur(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function qn(){this.g=!0}qn.prototype.xa=function(){this.g=!1};function Bi(d,y,S,B,ae,be){d.info(function(){if(d.g)if(be)for(var We="",Dn=be.split("&"),yi=0;yi<Dn.length;yi++){var Bt=Dn[yi].split("=");if(1<Bt.length){var ni=Bt[0];Bt=Bt[1];var _i=ni.split("_");We=2<=_i.length&&_i[1]=="type"?We+(ni+"="+Bt+"&"):We+(ni+"=redacted&")}}else We=null;else We=be;return"XMLHTTP REQ ("+B+") [attempt "+ae+"]: "+y+`
`+S+`
`+We})}function tr(d,y,S,B,ae,be,We){d.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ae+"]: "+y+`
`+S+`
`+be+" "+We})}function So(d,y,S,B){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Oo(d,S)+(B?" "+B:"")})}function aa(d,y){d.info(function(){return"TIMEOUT: "+y})}qn.prototype.info=function(){};function Oo(d,y){if(!d.g)return y;if(!y)return null;try{var S=JSON.parse(y);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var B=S[d];if(!(2>B.length)){var ae=B[1];if(Array.isArray(ae)&&!(1>ae.length)){var be=ae[0];if(be!="noop"&&be!="stop"&&be!="close")for(var We=1;We<ae.length;We++)ae[We]=""}}}}return zn(S)}catch{return y}}var so={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Eo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ao;function Pr(){}P(Pr,Tt),Pr.prototype.g=function(){return new XMLHttpRequest},Pr.prototype.i=function(){return{}},ao=new Pr;function Br(d,y,S,B){this.j=d,this.i=y,this.l=S,this.R=B||1,this.U=new pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mo}function Mo(){this.i=null,this.g="",this.h=!1}var la={},ca={};function ua(d,y,S){d.L=1,d.v=Xa(Ao(y)),d.m=S,d.P=!0,Ga(d,null)}function Ga(d,y){d.F=Date.now(),Ka(d),d.A=Ao(d.v);var S=d.A,B=d.R;Array.isArray(B)||(B=[String(B)]),Ut(S.i,"t",B),d.C=0,S=d.j.J,d.h=new Mo,d.g=vi(d.j,S?y:null,!d.m),0<d.O&&(d.M=new mi(_(d.Y,d,d.g),d.O)),y=d.U,S=d.g,B=d.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(rn[0]=ae.toString()),ae=rn);for(var be=0;be<ae.length;be++){var We=Ye(S,ae[be],B||y.handleEvent,!1,y.h||y);if(!We)break;y.g[We.key]=We}y=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),bt(),Bi(d.i,d.u,d.A,d.l,d.R,d.m)}Br.prototype.ca=function(d){d=d.target;let y=this.M;y&&Io(d)==3?y.j():this.Y(d)},Br.prototype.Y=function(d){try{if(d==this.g)e:{let _i=Io(this.g);var y=this.g.Ba();let Ls=this.g.Z();if(!(3>_i)&&(_i!=3||this.g&&(this.h.h||this.g.oa()||su(this.g)))){this.J||_i!=4||y==7||(y==8||0>=Ls?bt(3):bt(2)),zr(this);var S=this.g.Z();this.X=S;t:if(rd(this)){var B=su(this.g);d="";var ae=B.length,be=Io(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),ks(this);var We="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ae;y++)this.h.h=!0,d+=this.h.i.decode(B[y],{stream:!(be&&y==ae-1)});B.length=0,this.h.g+=d,this.C=0,We=this.h.g}else We=this.g.oa();if(this.o=S==200,tr(this.i,this.u,this.A,this.l,this.R,_i,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Dn,yi=this.g;if((Dn=yi.g?yi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Dn)){var Bt=Dn;break t}}Bt=null}if(S=Bt)So(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,S);else{this.o=!1,this.s=3,oi(12),ss(this),ks(this);break e}}if(this.P){S=!0;let ui;for(;!this.J&&this.C<We.length;)if(ui=Qc(this,We),ui==ca){_i==4&&(this.s=4,oi(14),S=!1),So(this.i,this.l,null,"[Incomplete Response]");break}else if(ui==la){this.s=4,oi(15),So(this.i,this.l,We,"[Invalid Chunk]"),S=!1;break}else So(this.i,this.l,ui,null),Ya(this,ui);if(rd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_i!=4||We.length!=0||this.h.h||(this.s=1,oi(16),S=!1),this.o=this.o&&S,!S)So(this.i,this.l,We,"[Invalid Chunked Response]"),ss(this),ks(this);else if(0<We.length&&!this.W){this.W=!0;var ni=this.j;ni.g==this&&ni.ba&&!ni.M&&(ni.j.info("Great, no buffering proxy detected. Bytes received: "+We.length),ct(ni),ni.M=!0,oi(11))}}else So(this.i,this.l,We,null),Ya(this,We);_i==4&&ss(this),this.o&&!this.J&&(_i==4?_n(this.j,this):(this.o=!1,Ka(this)))}else Os(this.g),S==400&&0<We.indexOf("Unknown SID")?(this.s=3,oi(12)):(this.s=0,oi(13)),ss(this),ks(this)}}}catch{}finally{}};function rd(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Qc(d,y){var S=d.C,B=y.indexOf(`
`,S);return B==-1?ca:(S=Number(y.substring(S,B)),isNaN(S)?la:(B+=1,B+S>y.length?ca:(y=y.slice(B,B+S),d.C=B+S,y)))}Br.prototype.cancel=function(){this.J=!0,ss(this)};function Ka(d){d.S=Date.now()+d.I,Zc(d,d.I)}function Zc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ur(_(d.ba,d),y)}function zr(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Br.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(aa(this.i,this.A),this.L!=2&&(bt(),oi(17)),ss(this),this.s=2,ks(this)):Zc(this,this.S-d)};function ks(d){d.j.G==0||d.J||_n(d.j,d)}function ss(d){zr(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,on(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Ya(d,y){try{var S=d.j;if(S.G!=0&&(S.g==d||da(S.h,d))){if(!d.K&&da(S.h,d)&&S.G==3){try{var B=S.Da.g.parse(y)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ae=B;if(ae[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)qt(S),tl(S);else break e;rt(S),oi(18)}}else S.za=ae[1],0<S.za-S.T&&37500>ae[2]&&S.F&&S.v==0&&!S.C&&(S.C=ur(_(S.Za,S),6e3));if(1>=Lo(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Wn(S,11)}else if((d.K||S.g==d)&&qt(S),!Q(y))for(ae=S.Da.g.parse(y),y=0;y<ae.length;y++){let Bt=ae[y];if(S.T=Bt[0],Bt=Bt[1],S.G==2)if(Bt[0]=="c"){S.K=Bt[1],S.ia=Bt[2];let ni=Bt[3];ni!=null&&(S.la=ni,S.j.info("VER="+S.la));let _i=Bt[4];_i!=null&&(S.Aa=_i,S.j.info("SVER="+S.Aa));let Ls=Bt[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(B=1.5*Ls,S.L=B,S.j.info("backChannelRequestTimeoutMs_="+B)),B=S;let ui=d.g;if(ui){let hs=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var be=B.h;be.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(nu(be,be.h),be.h=null))}if(B.D){let nl=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(B.ya=nl,Ln(B.I,B.D,nl))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),B=S;var We=d;if(B.qa=wi(B,B.J?B.ia:null,B.W),We.K){gi(B.h,We);var Dn=We,yi=B.L;yi&&(Dn.I=yi),Dn.B&&(zr(Dn),Ka(Dn)),B.g=We}else Me(B);0<S.i.length&&D(S)}else Bt[0]!="stop"&&Bt[0]!="close"||Wn(S,7);else S.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Wn(S,7):Ms(S):Bt[0]!="noop"&&S.l&&S.l.ta(Bt),S.v=0)}}bt(4)}catch{}}var od=class{constructor(d,y){this.g=d,this.map=y}};function eu(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tu(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Lo(d){return d.h?1:d.g?d.g.size:0}function da(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function nu(d,y){d.g?d.g.add(y):d.h=y}function gi(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}eu.prototype.cancel=function(){if(this.i=iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function iu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(let S of d.g.values())y=y.concat(S.D);return y}return O(d.i)}function as(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],S=d.length,B=0;B<S;B++)y.push(d[B]);return y}y=[],S=0;for(B in d)y[S++]=d[B];return y}function Ul(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var S=0;S<d;S++)y.push(S);return y}y=[],S=0;for(let B in d)y[S++]=B;return y}}}function ru(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var S=Ul(d),B=as(d),ae=B.length,be=0;be<ae;be++)y.call(void 0,B[be],S&&S[be],d)}var lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Di(d,y){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var B=d[S].indexOf("="),ae=null;if(0<=B){var be=d[S].substring(0,B);ae=d[S].substring(B+1)}else be=d[S];y(be,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function kr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof kr){this.h=d.h,Bl(this,d.j),this.o=d.o,this.g=d.g,zl(this,d.s),this.l=d.l;var y=d.i,S=new Ja;S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),Fo(this,S),this.m=d.m}else d&&(y=String(d).match(lo))?(this.h=!1,Bl(this,y[1]||"",!0),this.o=ls(y[2]||""),this.g=ls(y[3]||"",!0),zl(this,y[4]),this.l=ls(y[5]||"",!0),Fo(this,y[6]||"",!0),this.m=ls(y[7]||"")):(this.h=!1,this.i=new Ja(null,this.h))}kr.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Vo(y,sd,!0),":");var S=this.g;return(S||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Vo(y,sd,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Vo(S,S.charAt(0)=="/"?ou:Qh,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Vo(S,jo)),d.join("")};function Ao(d){return new kr(d)}function Bl(d,y,S){d.j=S?ls(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function zl(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Fo(d,y,S){y instanceof Ja?(d.i=y,Zh(d.i,d.h)):(S||(y=Vo(y,ad)),d.i=new Ja(y,d.h))}function Ln(d,y,S){d.i.set(y,S)}function Xa(d){return Ln(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ls(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Vo(d,y,S){return typeof d=="string"?(d=encodeURI(d).replace(y,Jh),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Jh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var sd=/[#\/\?@]/g,Qh=/[#\?:]/g,ou=/[#\?]/g,ad=/[#\?@]/g,jo=/#/g;function Ja(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function $r(d){d.g||(d.g=new Map,d.h=0,d.i&&Di(d.i,function(y,S){d.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}n=Ja.prototype,n.add=function(d,y){$r(this),this.i=null,d=ha(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(y),this.h+=1,this};function $l(d,y){$r(d),y=ha(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function ld(d,y){return $r(d),y=ha(d,y),d.g.has(y)}n.forEach=function(d,y){$r(this),this.g.forEach(function(S,B){S.forEach(function(ae){d.call(y,ae,B,this)},this)},this)},n.na=function(){$r(this);let d=Array.from(this.g.values()),y=Array.from(this.g.keys()),S=[];for(let B=0;B<y.length;B++){let ae=d[B];for(let be=0;be<ae.length;be++)S.push(y[B])}return S},n.V=function(d){$r(this);let y=[];if(typeof d=="string")ld(this,d)&&(y=y.concat(this.g.get(ha(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)y=y.concat(d[S])}return y},n.set=function(d,y){return $r(this),this.i=null,d=ha(this,d),ld(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Ut(d,y,S){$l(d,y),0<S.length&&(d.i=null,d.g.set(ha(d,y),O(S)),d.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],y=Array.from(this.g.keys());for(var S=0;S<y.length;S++){var B=y[S];let be=encodeURIComponent(String(B)),We=this.V(B);for(B=0;B<We.length;B++){var ae=be;We[B]!==""&&(ae+="="+encodeURIComponent(String(We[B]))),d.push(ae)}}return this.i=d.join("&")};function ha(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Zh(d,y){y&&!d.j&&($r(d),d.i=null,d.g.forEach(function(S,B){var ae=B.toLowerCase();B!=ae&&($l(this,B),Ut(this,ae,S))},d)),d.j=y}function ef(d,y){let S=new qn;if(a.Image){let B=new Image;B.onload=p(dr,S,"TestLoadImage: loaded",!0,y,B),B.onerror=p(dr,S,"TestLoadImage: error",!1,y,B),B.onabort=p(dr,S,"TestLoadImage: abort",!1,y,B),B.ontimeout=p(dr,S,"TestLoadImage: timeout",!1,y,B),a.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=d}else y(!1)}function Rs(d,y){let S=new qn,B=new AbortController,ae=setTimeout(()=>{B.abort(),dr(S,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:B.signal}).then(be=>{clearTimeout(ae),be.ok?dr(S,"TestPingServer: ok",!0,y):dr(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ae),dr(S,"TestPingServer: error",!1,y)})}function dr(d,y,S,B,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),B(S)}catch{}}function tf(){this.g=new $n}function nf(d,y,S){let B=S||"";try{ru(d,function(ae,be){let We=ae;c(ae)&&(We=zn(ae)),y.push(B+be+"="+encodeURIComponent(We))})}catch(ae){throw y.push(B+"type="+encodeURIComponent("_badmap")),ae}}function cs(d){this.l=d.Ub||null,this.j=d.eb||!1}P(cs,Tt),cs.prototype.g=function(){return new fa(this.l,this.j)},cs.prototype.i=(function(d){return function(){return d}})({});function fa(d,y){kt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(fa,kt),n=fa.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,co(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,co(this)),this.g&&(this.readyState=3,co(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pa(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function pa(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Qa(this):co(this),this.readyState==3&&pa(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Qa(this))},n.Qa=function(d){this.g&&(this.response=d,Qa(this))},n.ga=function(){this.g&&Qa(this)};function Qa(d){d.readyState=4,d.l=null,d.j=null,d.v=null,co(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=y.next();return d.join(`\r
`)};function co(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function cd(d){let y="";return _e(d,function(S,B){y+=B,y+=":",y+=S,y+=`\r
`}),y}function Za(d,y,S){e:{for(B in S){var B=!1;break e}B=!0}B||(S=cd(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):Ln(d,y,S))}function Hn(d){kt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Hn,kt);var ud=/^https?$/i,Ns=["POST","PUT"];n=Hn.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,S,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ao.g(),this.v=this.o?Wt(this.o):Wt(ao),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(be){ql(this,be);return}if(d=S||"",S=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ae in B)S.set(ae,B[ae]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(let be of B.keys())S.set(be,B.get(be));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(S.keys()).find(be=>be.toLowerCase()=="content-type"),ae=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ns,y,void 0))||B||ae||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[be,We]of S)this.g.setRequestHeader(be,We);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wl(this),this.u=!0,this.g.send(d),this.u=!1}catch(be){ql(this,be)}};function ql(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,el(d),us(d)}function el(d){d.A||(d.A=!0,Rt(d,"complete"),Rt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Rt(this,"complete"),Rt(this,"abort"),us(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),us(this,!0)),Hn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Hl(this):this.bb())},n.bb=function(){Hl(this)};function Hl(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Io(d)!=4||d.Z()!=2)){if(d.u&&Io(d)==4)Kt(d.Ea,0,d);else if(Rt(d,"readystatechange"),Io(d)==4){d.h=!1;try{let We=d.Z();e:switch(We){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var S;if(!(S=y)){var B;if(B=We===0){var ae=String(d.D).match(lo)[1]||null;!ae&&a.self&&a.self.location&&(ae=a.self.location.protocol.slice(0,-1)),B=!ud.test(ae?ae.toLowerCase():"")}S=B}if(S)Rt(d,"complete"),Rt(d,"success");else{d.m=6;try{var be=2<Io(d)?d.g.statusText:""}catch{be=""}d.l=be+" ["+d.Z()+"]",el(d)}}finally{us(d)}}}}function us(d,y){if(d.g){Wl(d);let S=d.g,B=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Rt(d,"ready");try{S.onreadystatechange=B}catch{}}}function Wl(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Io(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Io(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Et(y)}};function su(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Os(d){let y={};d=(d.g&&2<=Io(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<d.length;B++){if(Q(d[B]))continue;var S=b(d[B]);let ae=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();let be=y[ae]||[];y[ae]=be,be.push(S)}H(y,function(B){return B.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uo(d,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||y}function au(d){this.Aa=0,this.i=[],this.j=new qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uo("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uo("baseRetryDelayMs",5e3,d),this.cb=uo("retryDelaySeedMs",1e4,d),this.Wa=uo("forwardChannelMaxRetries",2,d),this.wa=uo("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new eu(d&&d.concurrentRequestLimit),this.Da=new tf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=au.prototype,n.la=8,n.G=1,n.connect=function(d,y,S,B){oi(0),this.W=d,this.H=y||{},S&&B!==void 0&&(this.H.OSID=S,this.H.OAID=B),this.F=this.X,this.I=wi(this,null,this.W),D(this)};function Ms(d){if(m(d),d.G==3){var y=d.U++,S=Ao(d.I);if(Ln(S,"SID",d.K),Ln(S,"RID",y),Ln(S,"TYPE","terminate"),ue(d,S),y=new Br(d,d.j,y),y.L=2,y.v=Xa(Ao(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=y.v,S=!0),S||(y.g=vi(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ka(y)}jn(d)}function tl(d){d.g&&(ct(d),d.g.cancel(),d.g=null)}function m(d){tl(d),d.u&&(a.clearTimeout(d.u),d.u=null),qt(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function D(d){if(!tu(d.h)&&!d.s){d.s=!0;var y=d.Ga;Ae||He(),pe||(Ae(),pe=!0),Ce.add(y,d),d.B=0}}function G(d,y){return Lo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ur(_(d.Ga,d,y),ti(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let ae=new Br(this,this.j,d),be=this.o;if(this.S&&(be?(be=T(be),V(be,this.S)):be=this.S),this.m!==null||this.O||(ae.H=be,be=null),this.P)e:{for(var y=0,S=0;S<this.i.length;S++){t:{var B=this.i[S];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(y+=B,4096<y){y=S;break e}if(y===4096||S===this.i.length-1){y=S+1;break e}}y=1e3}else y=1e3;y=Te(this,ae,y),S=Ao(this.I),Ln(S,"RID",d),Ln(S,"CVER",22),this.D&&Ln(S,"X-HTTP-Session-Id",this.D),ue(this,S),be&&(this.O?y="headers="+encodeURIComponent(String(cd(be)))+"&"+y:this.m&&Za(S,this.m,be)),nu(this.h,ae),this.Ua&&Ln(S,"TYPE","init"),this.P?(Ln(S,"$req",y),Ln(S,"SID","null"),ae.T=!0,ua(ae,S,null)):ua(ae,S,y),this.G=2}}else this.G==3&&(d?ne(this,d):this.i.length==0||tu(this.h)||ne(this))};function ne(d,y){var S;y?S=y.l:S=d.U++;let B=Ao(d.I);Ln(B,"SID",d.K),Ln(B,"RID",S),Ln(B,"AID",d.T),ue(d,B),d.m&&d.o&&Za(B,d.m,d.o),S=new Br(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Te(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),nu(d.h,S),ua(S,B,y)}function ue(d,y){d.H&&_e(d.H,function(S,B){Ln(y,B,S)}),d.l&&ru({},function(S,B){Ln(y,B,S)})}function Te(d,y,S){S=Math.min(d.i.length,S);var B=d.l?_(d.l.Na,d.l,d):null;e:{var ae=d.i;let be=-1;for(;;){let We=["count="+S];be==-1?0<S?(be=ae[0].g,We.push("ofs="+be)):be=0:We.push("ofs="+be);let Dn=!0;for(let yi=0;yi<S;yi++){let Bt=ae[yi].g,ni=ae[yi].map;if(Bt-=be,0>Bt)be=Math.max(0,ae[yi].g-100),Dn=!1;else try{nf(ni,We,"req"+Bt+"_")}catch{B&&B(ni)}}if(Dn){B=We.join("&");break e}}}return d=d.i.splice(0,S),y.D=d,B}function Me(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Ae||He(),pe||(Ae(),pe=!0),Ce.add(y,d),d.v=0}}function rt(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ur(_(d.Fa,d),ti(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Mt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ur(_(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oi(10),tl(this),Mt(this))};function ct(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Mt(d){d.g=new Br(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Ao(d.qa);Ln(y,"RID","rpc"),Ln(y,"SID",d.K),Ln(y,"AID",d.T),Ln(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ln(y,"TO",d.ja),Ln(y,"TYPE","xmlhttp"),ue(d,y),d.m&&d.o&&Za(y,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=Xa(Ao(y)),S.m=null,S.P=!0,Ga(S,d)}n.Za=function(){this.C!=null&&(this.C=null,tl(this),rt(this),oi(19))};function qt(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function _n(d,y){var S=null;if(d.g==y){qt(d),ct(d),d.g=null;var B=2}else if(da(d.h,y))S=y.D,gi(d.h,y),B=1;else return;if(d.G!=0){if(y.o)if(B==1){S=y.m?y.m.length:0,y=Date.now()-y.F;var ae=d.B;B=bo(),Rt(B,new oo(B,S)),D(d)}else Me(d);else if(ae=y.s,ae==3||ae==0&&0<y.X||!(B==1&&G(d,y)||B==2&&rt(d)))switch(S&&0<S.length&&(y=d.h,y.i=y.i.concat(S)),ae){case 1:Wn(d,5);break;case 4:Wn(d,10);break;case 3:Wn(d,6);break;default:Wn(d,2)}}}function ti(d,y){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*y}function Wn(d,y){if(d.j.info("Error code "+y),y==2){var S=_(d.fb,d),B=d.Xa;let ae=!B;B=new kr(B||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bl(B,"https"),Xa(B),ae?ef(B.toString(),S):Rs(B.toString(),S)}else oi(2);d.G=0,d.l&&d.l.sa(y),jn(d),m(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),oi(2)):(this.j.info("Failed to ping google.com"),oi(1))};function jn(d){if(d.G=0,d.ka=[],d.l){let y=iu(d.h);(y.length!=0||d.i.length!=0)&&(N(d.ka,y),N(d.ka,d.i),d.h.i.length=0,O(d.i),d.i.length=0),d.l.ra()}}function wi(d,y,S){var B=S instanceof kr?Ao(S):new kr(S);if(B.g!="")y&&(B.g=y+"."+B.g),zl(B,B.s);else{var ae=a.location;B=ae.protocol,y=y?y+"."+ae.hostname:ae.hostname,ae=+ae.port;var be=new kr(null);B&&Bl(be,B),y&&(be.g=y),ae&&zl(be,ae),S&&(be.l=S),B=be}return S=d.D,y=d.ya,S&&y&&Ln(B,S,y),Ln(B,"VER",d.la),ue(d,B),B}function vi(d,y,S){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Hn(new cs({eb:S})):new Hn(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zi(){}n=zi.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Co(){}Co.prototype.g=function(d,y){return new si(d,y)};function si(d,y){kt.call(this),this.g=new au(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!Q(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Uo(this)}P(si,kt),si.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},si.prototype.close=function(){Ms(this.g)},si.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=zn(d),d=S);y.i.push(new od(y.Ya++,d)),y.G==3&&D(y)},si.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,si.aa.N.call(this)};function ds(d){It.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(let S in y){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}P(ds,It);function Gl(){In.call(this),this.status=1}P(Gl,In);function Uo(d){this.g=d}P(Uo,zi),Uo.prototype.ua=function(){Rt(this.g,"a")},Uo.prototype.ta=function(d){Rt(this.g,new ds(d))},Uo.prototype.sa=function(d){Rt(this.g,new Gl)},Uo.prototype.ra=function(){Rt(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,si.prototype.send=si.prototype.o,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,zw=Al.createWebChannelTransport=function(){return new Co},Bw=Al.getStatEventTarget=function(){return bo()},Uw=Al.Event=ro,_0=Al.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},so.NO_ERROR=0,so.TIMEOUT=8,so.HTTP_ERROR=6,vp=Al.ErrorCode=so,Eo.COMPLETE="complete",jw=Al.EventType=Eo,Xn.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Yd=Al.WebChannel=Xn,j8=Al.FetchXmlHttpFactory=cs,Hn.prototype.listenOnce=Hn.prototype.L,Hn.prototype.getLastError=Hn.prototype.Ka,Hn.prototype.getLastErrorCode=Hn.prototype.Ba,Hn.prototype.getStatus=Hn.prototype.Z,Hn.prototype.getResponseJson=Hn.prototype.Oa,Hn.prototype.getResponseText=Hn.prototype.oa,Hn.prototype.send=Hn.prototype.ea,Hn.prototype.setWithCredentials=Hn.prototype.Ha,Vw=Al.XhrIo=Hn}).apply(typeof y0<"u"?y0:typeof self<"u"?self:typeof window<"u"?window:{});var Ix="@firebase/firestore",Cx="4.8.0";var _r=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");var yh="11.10.0";var Mu=new Ta("@firebase/firestore");function Xd(){return Mu.logLevel}function nt(n,...t){if(Mu.logLevel<=yn.DEBUG){let e=t.map(Db);Mu.debug(`Firestore (${yh}): ${n}`,...e)}}function Il(n,...t){if(Mu.logLevel<=yn.ERROR){let e=t.map(Db);Mu.error(`Firestore (${yh}): ${n}`,...e)}}function Nc(n,...t){if(Mu.logLevel<=yn.WARN){let e=t.map(Db);Mu.warn(`Firestore (${yh}): ${n}`,...e)}}function Db(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Ot(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,vT(n,i,e)}function vT(n,t,e){let i=`FIRESTORE (${yh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Il(i),new Error(i)}function Vn(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||vT(t,r,i)}function Qt(n,t){return n}var Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ze=class extends es{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Zs=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var C0=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Gw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(_r.UNAUTHENTICATED))}shutdown(){}},Kw=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},Yw=class{constructor(t){this.t=t,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Vn(this.o===void 0,42304);let i=this.i,r=l=>this.i!==i?(i=this.i,e(l)):Promise.resolve(),o=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zs,t.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;t.enqueueRetryable(()=>j(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zs)}},0),s()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Vn(typeof i.accessToken=="string",31837,{l:i}),new C0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return Vn(t===null||typeof t=="string",2055,{h:t}),new _r(t)}},Xw=class{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Jw=class{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new Xw(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}},x0=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Qw=class{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yo(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Vn(this.o===void 0,3512);let i=o=>{o.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,nt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};let r=o=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?r(o):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Vn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new x0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function U8(n){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}function yT(){return new TextEncoder}var Ep=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let r=U8(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}};function mn(n,t){return n<t?-1:n>t?1:0}function Zw(n,t){let e=0;for(;e<n.length&&e<t.length;){let i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return mn(i,r);{let o=yT(),s=B8(o.encode(xx(n,e)),o.encode(xx(t,e)));return s!==0?s:mn(i,r)}}e+=i>65535?2:1}return mn(n.length,t.length)}function xx(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function B8(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return mn(n[e],t[e]);return mn(n.length,t.length)}function rh(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}var Tx="__name__",T0=class n{constructor(t,e,i){e===void 0?e=0:e>t.length&&Ot(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Ot(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return n.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let i=Math.min(t.length,e.length);for(let r=0;r<i;r++){let o=n.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return mn(t.length,e.length)}static compareSegments(t,e){let i=n.isNumericId(t),r=n.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?n.extractNumericId(t).compare(n.extractNumericId(e)):Zw(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return El.fromString(t.substring(4,t.length-2))}},fi=class n extends T0{construct(t,e,i){return new n(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let i of t){if(i.indexOf("//")>=0)throw new Ze(Oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new n(e)}static emptyPath(){return new n([])}},z8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ts=class n extends T0{construct(t,e,i){return new n(t,e,i)}static isValidIdentifier(t){return z8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tx}static keyField(){return new n([Tx])}static fromServerFormat(t){let e=[],i="",r=0,o=()=>{if(i.length===0)throw new Ze(Oe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""},s=!1;for(;r<t.length;){let a=t[r];if(a==="\\"){if(r+1===t.length)throw new Ze(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ze(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new Ze(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}static emptyPath(){return new n([])}};var Pt=class n{constructor(t){this.path=t}static fromPath(t){return new n(fi.fromString(t))}static fromName(t){return new n(fi.fromString(t).popFirst(5))}static empty(){return new n(fi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return fi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new n(new fi(t.slice()))}};function _T(n,t,e){if(!e)throw new Ze(Oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function $8(n,t,e,i){if(t===!0&&i===!0)throw new Ze(Oe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Dx(n){if(!Pt.isDocumentKey(n))throw new Ze(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Px(n){if(Pt.isDocumentKey(n))throw new Ze(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function av(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ot(12329,{type:typeof n})}function Lu(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ze(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=av(n);throw new Ze(Oe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Yi(n,t){let e={typeString:n};return t&&(e.value=t),e}function Op(n,t){if(!wT(n))throw new Ze(Oe.INVALID_ARGUMENT,"JSON must be an object");let e;for(let i in t)if(t[i]){let r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}let s=n[i];if(r&&typeof s!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&s!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new Ze(Oe.INVALID_ARGUMENT,e);return!0}var kx=-62135596800,Rx=1e6,Xi=class n{static now(){return n.fromMillis(Date.now())}static fromDate(t){return n.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Rx);return new n(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ze(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ze(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<kx)throw new Ze(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ze(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rx}_compareTo(t){return this.seconds===t.seconds?mn(this.nanoseconds,t.nanoseconds):mn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Op(t,n._jsonSchema))return new n(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-kx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Xi._jsonSchemaVersion="firestore/timestamp/1.0",Xi._jsonSchema={type:Yi("string",Xi._jsonSchemaVersion),seconds:Yi("number"),nanoseconds:Yi("number")};var nn=class n{static fromTimestamp(t){return new n(t)}static min(){return new n(new Xi(0,0))}static max(){return new n(new Xi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ap=-1,e2=class{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}};e2.UNKNOWN_ID=-1;function q8(n,t){let e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=nn.fromTimestamp(i===1e9?new Xi(e+1,0):new Xi(e,i));return new Fu(r,Pt.empty(),t)}function H8(n){return new Fu(n.readTime,n.key,Ap)}var Fu=class n{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new n(nn.min(),Pt.empty(),Ap)}static max(){return new n(nn.max(),Pt.empty(),Ap)}};function W8(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Pt.comparator(n.documentKey,t.documentKey),e!==0?e:mn(n.largestBatchId,t.largestBatchId))}var G8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",t2=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function _h(n){return j(this,null,function*(){if(n.code!==Oe.FAILED_PRECONDITION||n.message!==G8)throw n;nt("LocalStore","Unexpectedly lost primary lease")})}var je=class n{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{let e=t();return e instanceof n?e:n.resolve(e)}catch(e){return n.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):n.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):n.reject(e)}static resolve(t){return new n((e,i)=>{e(t)})}static reject(t){return new n((e,i)=>{i(t)})}static waitFor(t){return new n((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},l=>i(l))}),s=!0,o===r&&e()})}static or(t){let e=n.resolve(!1);for(let i of t)e=e.next(r=>r?n.resolve(r):i());return e}static forEach(t,e){let i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new n((i,r)=>{let o=t.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let c=l;e(t[c]).next(h=>{s[c]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(t,e){return new n((i,r)=>{let o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}};function K8(n){let t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function wh(n){return n.name==="IndexedDbTransactionError"}var Pb=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this._e(r),this.ae=r=>i.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ae&&this.ae(e),e}}n.ue=-1;return n})(),kb=-1;function lv(n){return n==null}function Ip(n){return n===0&&1/n==-1/0}function Y8(n){return typeof n=="number"&&Number.isInteger(n)&&!Ip(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var bT="";function X8(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Nx(t)),t=J8(n.get(e),t);return Nx(t)}function J8(n,t){let e=t,i=n.length;for(let r=0;r<i;r++){let o=n.charAt(r);switch(o){case"\0":e+="";break;case bT:e+="";break;default:e+=o}}return e}function Nx(n){return n+bT+""}var Q8="remoteDocuments",ST="owner";var ET="mutationQueues";var AT="mutations";var IT="documentMutations",Z8="remoteDocumentsV14";var CT="remoteDocumentGlobal";var xT="targets";var TT="targetDocuments";var DT="targetGlobal",PT="collectionParents";var kT="clientMetadata";var RT="bundles";var NT="namedQueries";var eV="indexConfiguration";var tV="indexState";var nV="indexEntries";var OT="documentOverlays";var iV="globals";var rV=[ET,AT,IT,Q8,xT,ST,DT,TT,kT,CT,PT,RT,NT],hZ=[...rV,OT],oV=[ET,AT,IT,Z8,xT,ST,DT,TT,kT,CT,PT,RT,NT,OT],sV=oV,aV=[...sV,eV,tV,nV];var fZ=[...aV,iV];function Ox(n){let t=0;for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function $u(n,t){for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function MT(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}var xi=class n{constructor(t,e){this.comparator=t,this.root=e||Ra.EMPTY}insert(t,e){return new n(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ra.BLACK,null,null))}remove(t){return new n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ra.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){let t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eh(this.root,t,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eh(this.root,t,this.comparator,!0)}},eh=class{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Ra=class n{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new n(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this,o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ot(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw Ot(27949);return t+(this.isRed()?0:1)}};Ra.EMPTY=null,Ra.RED=!0,Ra.BLACK=!1;Ra.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot(57766)}get value(){throw Ot(16141)}get color(){throw Ot(16727)}get left(){throw Ot(29726)}get right(){throw Ot(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Ra(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var wr=class n{constructor(t){this.comparator=t,this.data=new xi(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){let i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(t){return new D0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){let r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new n(this.comparator);return e.data=t,e}},D0=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ka=class n{constructor(t){this.fields=t,t.sort(ts.comparator)}static empty(){return new n([])}unionWith(t){let e=new wr(ts.comparator);for(let i of this.fields)e=e.add(i);for(let i of t)e=e.add(i);return new n(e.toArray())}covers(t){for(let e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return rh(this.fields,t.fields,(e,i)=>e.isEqual(i))}};var P0=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Jr=class n{constructor(t){this.binaryString=t}static fromBase64String(t){let e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new P0("Invalid base64 string: "+o):o}})(t);return new n(e)}static fromUint8Array(t){let e=(function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o})(t);return new n(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){let i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return mn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Jr.EMPTY_BYTE_STRING=new Jr("");var lV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cl(n){if(Vn(!!n,39018),typeof n=="string"){let t=0,e=lV.exec(n);if(Vn(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hi(n.seconds),nanos:hi(n.nanos)}}function hi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xl(n){return typeof n=="string"?Jr.fromBase64String(n):Jr.fromUint8Array(n)}var LT="server_timestamp",FT="__type__",VT="__previous_value__",jT="__local_write_time__";function Rb(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[FT])===null||e===void 0?void 0:e.stringValue)===LT}function cv(n){let t=n.mapValue.fields[VT];return Rb(t)?cv(t):t}function Cp(n){let t=Cl(n.mapValue.fields[jT].timestampValue);return new Xi(t.seconds,t.nanos)}var n2=class{constructor(t,e,i,r,o,s,a,l,c,h){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}},k0="(default)",R0=class n{constructor(t,e){this.projectId=t,this.database=e||k0}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===k0}isEqual(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database}};var Nb="__type__",UT="__max__",w0={mapValue:{fields:{__type__:{stringValue:UT}}}},Ob="__vector__",oh="value";function Oc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rb(n)?4:zT(n)?9007199254740991:BT(n)?10:11:Ot(28295,{value:n})}function Ma(n,t){if(n===t)return!0;let e=Oc(n);if(e!==Oc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Cp(n).isEqual(Cp(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Cl(r.timestampValue),a=Cl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return xl(r.bytesValue).isEqual(xl(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return hi(r.geoPointValue.latitude)===hi(o.geoPointValue.latitude)&&hi(r.geoPointValue.longitude)===hi(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return hi(r.integerValue)===hi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=hi(r.doubleValue),a=hi(o.doubleValue);return s===a?Ip(s)===Ip(a):isNaN(s)&&isNaN(a)}return!1})(n,t);case 9:return rh(n.arrayValue.values||[],t.arrayValue.values||[],Ma);case 10:case 11:return(function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(Ox(s)!==Ox(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Ma(s[l],a[l])))return!1;return!0})(n,t);default:return Ot(52216,{left:n})}}function xp(n,t){return(n.values||[]).find(e=>Ma(e,t))!==void 0}function sh(n,t){if(n===t)return 0;let e=Oc(n),i=Oc(t);if(e!==i)return mn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return mn(n.booleanValue,t.booleanValue);case 2:return(function(o,s){let a=hi(o.integerValue||o.doubleValue),l=hi(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(n,t);case 3:return Mx(n.timestampValue,t.timestampValue);case 4:return Mx(Cp(n),Cp(t));case 5:return Zw(n.stringValue,t.stringValue);case 6:return(function(o,s){let a=xl(o),l=xl(s);return a.compareTo(l)})(n.bytesValue,t.bytesValue);case 7:return(function(o,s){let a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){let h=mn(a[c],l[c]);if(h!==0)return h}return mn(a.length,l.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,s){let a=mn(hi(o.latitude),hi(s.latitude));return a!==0?a:mn(hi(o.longitude),hi(s.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Lx(n.arrayValue,t.arrayValue);case 10:return(function(o,s){var a,l,c,h;let g=o.fields||{},_=s.fields||{},p=(a=g[oh])===null||a===void 0?void 0:a.arrayValue,P=(l=_[oh])===null||l===void 0?void 0:l.arrayValue,O=mn(((c=p?.values)===null||c===void 0?void 0:c.length)||0,((h=P?.values)===null||h===void 0?void 0:h.length)||0);return O!==0?O:Lx(p,P)})(n.mapValue,t.mapValue);case 11:return(function(o,s){if(o===w0.mapValue&&s===w0.mapValue)return 0;if(o===w0.mapValue)return 1;if(s===w0.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let g=0;g<l.length&&g<h.length;++g){let _=Zw(l[g],h[g]);if(_!==0)return _;let p=sh(a[l[g]],c[h[g]]);if(p!==0)return p}return mn(l.length,h.length)})(n.mapValue,t.mapValue);default:throw Ot(23264,{le:e})}}function Mx(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return mn(n,t);let e=Cl(n),i=Cl(t),r=mn(e.seconds,i.seconds);return r!==0?r:mn(e.nanos,i.nanos)}function Lx(n,t){let e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){let o=sh(e[r],i[r]);if(o)return o}return mn(e.length,i.length)}function ah(n){return i2(n)}function i2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){let i=Cl(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return xl(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Pt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(let o of e.values||[])r?r=!1:i+=",",i+=i2(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){let i=Object.keys(e.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${i2(e.fields[s])}`;return r+"}"})(n.mapValue):Ot(61005,{value:n})}function E0(n){switch(Oc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=cv(n);return t?16+E0(t):16;case 5:return 2*n.stringValue.length;case 6:return xl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce((r,o)=>r+E0(o),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return $u(i.fields,(o,s)=>{r+=o.length+E0(s)}),r})(n.mapValue);default:throw Ot(13486,{value:n})}}function Fx(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function r2(n){return!!n&&"integerValue"in n}function Mb(n){return!!n&&"arrayValue"in n}function Vx(n){return!!n&&"nullValue"in n}function jx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function A0(n){return!!n&&"mapValue"in n}function BT(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[Nb])===null||e===void 0?void 0:e.stringValue)===Ob}function _p(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let t={mapValue:{fields:{}}};return $u(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=_p(i)),t}if(n.arrayValue){let t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=_p(n.arrayValue.values[e]);return t}return Object.assign({},n)}function zT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UT}var mZ={mapValue:{fields:{[Nb]:{stringValue:Ob},[oh]:{arrayValue:{}}}}};var Qs=class n{constructor(t){this.value=t}static empty(){return new n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!A0(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_p(e)}setAll(t){let e=ts.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){let l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=_p(s):r.push(a.lastSegment())});let o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){let e=this.field(t.popLast());A0(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ma(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];A0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){$u(e,(r,o)=>t[r]=o);for(let r of i)delete t[r]}clone(){return new n(_p(this.value))}};function $T(n){let t=[];return $u(n.fields,(e,i)=>{let r=new ts([e]);if(A0(i)){let o=$T(i.mapValue).fields;if(o.length===0)t.push(r);else for(let s of o)t.push(r.child(s))}else t.push(r)}),new ka(t)}var ea=class n{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new n(t,0,nn.min(),nn.min(),nn.min(),Qs.empty(),0)}static newFoundDocument(t,e,i,r){return new n(t,1,e,nn.min(),i,r,0)}static newNoDocument(t,e){return new n(t,2,e,nn.min(),nn.min(),Qs.empty(),0)}static newUnknownDocument(t,e){return new n(t,3,e,nn.min(),nn.min(),Qs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(nn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var lh=class{constructor(t,e){this.position=t,this.inclusive=e}};function Ux(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){let o=t[r],s=n.position[r];if(o.field.isKeyField()?i=Pt.comparator(Pt.fromName(s.referenceValue),e.key):i=sh(s,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Bx(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ma(n.position[e],t.position[e]))return!1;return!0}var ch=class{constructor(t,e="asc"){this.field=t,this.dir=e}};function cV(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}var N0=class{},Ki=class n extends N0{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new s2(t,e,i):e==="array-contains"?new c2(t,i):e==="in"?new u2(t,i):e==="not-in"?new d2(t,i):e==="array-contains-any"?new h2(t,i):new n(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new a2(t,i):new l2(t,i)}matches(t){let e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(sh(e,this.value)):e!==null&&Oc(this.value)===Oc(e)&&this.matchesComparison(sh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ta=class n extends N0{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new n(t,e)}matches(t){return qT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function qT(n){return n.op==="and"}function HT(n){return uV(n)&&qT(n)}function uV(n){for(let t of n.filters)if(t instanceof ta)return!1;return!0}function o2(n){if(n instanceof Ki)return n.field.canonicalString()+n.op.toString()+ah(n.value);if(HT(n))return n.filters.map(t=>o2(t)).join(",");{let t=n.filters.map(e=>o2(e)).join(",");return`${n.op}(${t})`}}function WT(n,t){return n instanceof Ki?(function(i,r){return r instanceof Ki&&i.op===r.op&&i.field.isEqual(r.field)&&Ma(i.value,r.value)})(n,t):n instanceof ta?(function(i,r){return r instanceof ta&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&WT(s,r.filters[a]),!0):!1})(n,t):void Ot(19439)}function GT(n){return n instanceof Ki?(function(e){return`${e.field.canonicalString()} ${e.op} ${ah(e.value)}`})(n):n instanceof ta?(function(e){return e.op.toString()+" {"+e.getFilters().map(GT).join(" ,")+"}"})(n):"Filter"}var s2=class extends Ki{constructor(t,e,i){super(t,e,i),this.key=Pt.fromName(i.referenceValue)}matches(t){let e=Pt.comparator(t.key,this.key);return this.matchesComparison(e)}},a2=class extends Ki{constructor(t,e){super(t,"in",e),this.keys=KT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}},l2=class extends Ki{constructor(t,e){super(t,"not-in",e),this.keys=KT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}};function KT(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Pt.fromName(i.referenceValue))}var c2=class extends Ki{constructor(t,e){super(t,"array-contains",e)}matches(t){let e=t.data.field(this.field);return Mb(e)&&xp(e.arrayValue,this.value)}},u2=class extends Ki{constructor(t,e){super(t,"in",e)}matches(t){let e=t.data.field(this.field);return e!==null&&xp(this.value.arrayValue,e)}},d2=class extends Ki{constructor(t,e){super(t,"not-in",e)}matches(t){if(xp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!xp(this.value.arrayValue,e)}},h2=class extends Ki{constructor(t,e){super(t,"array-contains-any",e)}matches(t){let e=t.data.field(this.field);return!(!Mb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>xp(this.value.arrayValue,i))}};var f2=class{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function zx(n,t=null,e=[],i=[],r=null,o=null,s=null){return new f2(n,t,e,i,r,o,s)}function Lb(n){let t=Qt(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>o2(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>(function(o){return o.field.canonicalString()+o.dir})(i)).join(","),lv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ah(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ah(i)).join(",")),t.Pe=e}return t.Pe}function Fb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!cV(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!WT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Bx(n.startAt,t.startAt)&&Bx(n.endAt,t.endAt)}function p2(n){return Pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Vu=class{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function dV(n,t,e,i,r,o,s,a){return new Vu(n,t,e,i,r,o,s,a)}function Vb(n){return new Vu(n)}function $x(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YT(n){return n.collectionGroup!==null}function wp(n){let t=Qt(n);if(t.Te===null){t.Te=[];let e=new Set;for(let o of t.explicitOrderBy)t.Te.push(o),e.add(o.field.canonicalString());let i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new wr(ts.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Te.push(new ch(o,i))}),e.has(ts.keyField().canonicalString())||t.Te.push(new ch(ts.keyField(),i))}return t.Te}function Na(n){let t=Qt(n);return t.Ie||(t.Ie=hV(t,wp(n))),t.Ie}function hV(n,t){if(n.limitType==="F")return zx(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new ch(r.field,o)});let e=n.endAt?new lh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new lh(n.startAt.position,n.startAt.inclusive):null;return zx(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function m2(n,t){let e=n.filters.concat([t]);return new Vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function g2(n,t,e){return new Vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function uv(n,t){return Fb(Na(n),Na(t))&&n.limitType===t.limitType}function XT(n){return`${Lb(Na(n))}|lt:${n.limitType}`}function Jd(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>GT(r)).join(", ")}]`),lv(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>ah(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>ah(r)).join(",")),`Target(${i})`})(Na(n))}; limitType=${n.limitType})`}function dv(n,t){return t.isFoundDocument()&&(function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Pt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(let o of wp(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(s,a,l){let c=Ux(s,a,l);return s.inclusive?c<=0:c<0})(i.startAt,wp(i),r)||i.endAt&&!(function(s,a,l){let c=Ux(s,a,l);return s.inclusive?c>=0:c>0})(i.endAt,wp(i),r))})(n,t)}function fV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JT(n){return(t,e)=>{let i=!1;for(let r of wp(n)){let o=pV(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function pV(n,t,e){let i=n.field.isKeyField()?Pt.comparator(t.key,e.key):(function(o,s,a){let l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?sh(l,c):Ot(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ot(19790,{direction:n.dir})}}var Tl=class{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){let e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){let i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){let e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){$u(this.inner,(e,i)=>{for(let[r,o]of i)t(r,o)})}isEmpty(){return MT(this.inner)}size(){return this.innerSize}};var mV=new xi(Pt.comparator);function Dl(){return mV}var QT=new xi(Pt.comparator);function yp(...n){let t=QT;for(let e of n)t=t.insert(e.key,e);return t}function ZT(n){let t=QT;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Pu(){return bp()}function eD(){return bp()}function bp(){return new Tl(n=>n.toString(),(n,t)=>n.isEqual(t))}var gV=new xi(Pt.comparator),vV=new wr(Pt.comparator);function bn(...n){let t=vV;for(let e of n)t=t.add(e);return t}var yV=new wr(mn);function _V(){return yV}function jb(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ip(t)?"-0":t}}function tD(n){return{integerValue:""+n}}function wV(n,t){return Y8(t)?tD(t):jb(n,t)}var uh=class{constructor(){this._=void 0}};function bV(n,t,e){return n instanceof dh?(function(r,o){let s={fields:{[FT]:{stringValue:LT},[jT]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Rb(o)&&(o=cv(o)),o&&(s.fields[VT]=o),{mapValue:s}})(e,t):n instanceof ju?iD(n,t):n instanceof Uu?rD(n,t):(function(r,o){let s=nD(r,o),a=qx(s)+qx(r.Ee);return r2(s)&&r2(r.Ee)?tD(a):jb(r.serializer,a)})(n,t)}function SV(n,t,e){return n instanceof ju?iD(n,t):n instanceof Uu?rD(n,t):e}function nD(n,t){return n instanceof hh?(function(i){return r2(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}var dh=class extends uh{},ju=class extends uh{constructor(t){super(),this.elements=t}};function iD(n,t){let e=oD(t);for(let i of n.elements)e.some(r=>Ma(r,i))||e.push(i);return{arrayValue:{values:e}}}var Uu=class extends uh{constructor(t){super(),this.elements=t}};function rD(n,t){let e=oD(t);for(let i of n.elements)e=e.filter(r=>!Ma(r,i));return{arrayValue:{values:e}}}var hh=class extends uh{constructor(t,e){super(),this.serializer=t,this.Ee=e}};function qx(n){return hi(n.integerValue||n.doubleValue)}function oD(n){return Mb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function EV(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof ju&&r instanceof ju||i instanceof Uu&&r instanceof Uu?rh(i.elements,r.elements,Ma):i instanceof hh&&r instanceof hh?Ma(i.Ee,r.Ee):i instanceof dh&&r instanceof dh})(n.transform,t.transform)}var v2=class{constructor(t,e){this.version=t,this.transformResults=e}},Nu=class n{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new n}static exists(t){return new n(void 0,t)}static updateTime(t){return new n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function I0(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}var fh=class{};function sD(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new O0(n.key,Nu.none()):new Bu(n.key,n.data,Nu.none());{let e=n.data,i=Qs.empty(),r=new wr(ts.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);s===null&&o.length>1&&(o=o.popLast(),s=e.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Pl(n.key,i,new ka(r.toArray()),Nu.none())}}function AV(n,t,e){n instanceof Bu?(function(r,o,s){let a=r.value.clone(),l=Wx(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,t,e):n instanceof Pl?(function(r,o,s){if(!I0(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Wx(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(aD(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(n,t,e):(function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,t,e)}function Sp(n,t,e,i){return n instanceof Bu?(function(o,s,a,l){if(!I0(o.precondition,s))return a;let c=o.value.clone(),h=Gx(o.fieldTransforms,l,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null})(n,t,e,i):n instanceof Pl?(function(o,s,a,l){if(!I0(o.precondition,s))return a;let c=Gx(o.fieldTransforms,l,s),h=s.data;return h.setAll(aD(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))})(n,t,e,i):(function(o,s,a){return I0(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,t,e)}function IV(n,t){let e=null;for(let i of n.fieldTransforms){let r=t.data.field(i.field),o=nD(i.transform,r||null);o!=null&&(e===null&&(e=Qs.empty()),e.set(i.field,o))}return e||null}function Hx(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&rh(i,r,(o,s)=>EV(o,s))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}var Bu=class extends fh{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Pl=class extends fh{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function aD(n){let t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){let i=n.data.field(e);t.set(e,i)}}),t}function Wx(n,t,e){let i=new Map;Vn(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let r=0;r<e.length;r++){let o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,SV(s,a,e[r]))}return i}function Gx(n,t,e){let i=new Map;for(let r of n){let o=r.transform,s=e.data.field(r.field);i.set(r.field,bV(o,s,t))}return i}var O0=class extends fh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},y2=class extends fh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var _2=class{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){let i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(t.key)&&AV(o,t,i[r])}}applyToLocalView(t,e){for(let i of this.baseMutations)i.key.isEqual(t.key)&&(e=Sp(i,t,e,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(t.key)&&(e=Sp(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){let i=eD();return this.mutations.forEach(r=>{let o=t.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;let l=sD(s,a);l!==null&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(nn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),bn())}isEqual(t){return this.batchId===t.batchId&&rh(this.mutations,t.mutations,(e,i)=>Hx(e,i))&&rh(this.baseMutations,t.baseMutations,(e,i)=>Hx(e,i))}},w2=class n{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Vn(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let r=(function(){return gV})(),o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(t,e,i,r)}};var b2=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var S2=class{constructor(t,e){this.count=t,this.unchangedNames=e}};var Wi,xn;function CV(n){switch(n){case Oe.OK:return Ot(64938);case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0;default:return Ot(15467,{code:n})}}function lD(n){if(n===void 0)return Il("GRPC error has no .code"),Oe.UNKNOWN;switch(n){case Wi.OK:return Oe.OK;case Wi.CANCELLED:return Oe.CANCELLED;case Wi.UNKNOWN:return Oe.UNKNOWN;case Wi.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Wi.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Wi.INTERNAL:return Oe.INTERNAL;case Wi.UNAVAILABLE:return Oe.UNAVAILABLE;case Wi.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Wi.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Wi.NOT_FOUND:return Oe.NOT_FOUND;case Wi.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Wi.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Wi.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Wi.ABORTED:return Oe.ABORTED;case Wi.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Wi.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Wi.DATA_LOSS:return Oe.DATA_LOSS;default:return Ot(39323,{code:n})}}(xn=Wi||(Wi={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";var Kx=null;var xV=new El([4294967295,4294967295],0);function Yx(n){let t=yT().encode(n),e=new Fw;return e.update(t),new Uint8Array(e.digest())}function Xx(n){let t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new El([e,i],0),new El([r,o],0)]}var E2=class n{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new ku(`Invalid padding: ${e}`);if(i<0)throw new ku(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new ku(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=El.fromNumber(this.fe)}pe(t,e,i){let r=t.add(e.multiply(El.fromNumber(i)));return r.compare(xV)===1&&(r=new El([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;let e=Yx(t),[i,r]=Xx(e);for(let o=0;o<this.hashCount;o++){let s=this.pe(i,r,o);if(!this.ye(s))return!1}return!0}static create(t,e,i){let r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new n(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(this.fe===0)return;let e=Yx(t),[i,r]=Xx(e);for(let o=0;o<this.hashCount;o++){let s=this.pe(i,r,o);this.we(s)}}we(t){let e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}},ku=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var M0=class n{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){let r=new Map;return r.set(t,Tp.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new n(nn.min(),r,new xi(mn),Dl(),bn())}},Tp=class n{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new n(i,e,bn(),bn(),bn())}};var th=class{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.be=r}},L0=class{constructor(t,e){this.targetId=t,this.De=e}},F0=class{constructor(t,e,i=Jr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}},V0=class{constructor(){this.ve=0,this.Ce=Jx(),this.Fe=Jr.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=bn(),e=bn(),i=bn();return this.Ce.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ot(38017,{changeType:o})}}),new Tp(this.Fe,this.Me,t,e,i)}ke(){this.xe=!1,this.Ce=Jx()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Vn(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},A2=class{constructor(t){this.We=t,this.Ge=new Map,this.ze=Dl(),this.je=b0(),this.Je=b0(),this.He=new xi(mn)}Ye(t){for(let e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(let e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{let i=this.tt(e);switch(t.state){case 0:this.nt(e)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),i.Be(t.resumeToken));break;default:Ot(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((i,r)=>{this.nt(r)&&e(r)})}it(t){let e=t.targetId,i=t.De.count,r=this.st(e);if(r){let o=r.target;if(p2(o))if(i===0){let s=new Pt(o.path);this.Xe(e,s,ea.newNoDocument(s,nn.min()))}else Vn(i===1,20013,{expectedCount:i});else{let s=this.ot(e);if(s!==i){let a=this._t(t),l=a?this.ut(a,t,s):1;if(l!==0){this.rt(e);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,c)}Kx?.ct((function(h,g,_,p,P){var O,N,R,Q,Z,X;let he={localCacheCount:h,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},_e=g.unchangedNames;return _e&&(he.bloomFilter={applied:P===0,hashCount:(O=_e?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(Q=(R=(N=_e?.bits)===null||N===void 0?void 0:N.bitmap)===null||R===void 0?void 0:R.length)!==null&&Q!==void 0?Q:0,padding:(X=(Z=_e?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&X!==void 0?X:0,mightContain:H=>{var T;return(T=p?.mightContain(H))!==null&&T!==void 0&&T}}),he})(s,t.De,this.We.lt(),a,l))}}}}_t(t){let e=t.De.unchangedNames;if(!e||!e.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e,s,a;try{s=xl(i).toUint8Array()}catch(l){if(l instanceof P0)return Nc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new E2(s,r,o)}catch(l){return Nc(l instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(t,e,i){return e.De.count===i-this.ht(t,e.targetId)?0:2}ht(t,e){let i=this.We.getRemoteKeysForTarget(e),r=0;return i.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Xe(e,o,null),r++)}),r}Pt(t){let e=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&p2(a.target)){let l=new Pt(a.target.path);this.Tt(l).has(s)||this.It(s,l)||this.Xe(s,l,ea.newNoDocument(l,t))}o.Ne&&(e.set(s,o.Le()),o.ke())}});let i=bn();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(t));let r=new M0(t,e,this.He,this.ze,i);return this.ze=Dl(),this.je=b0(),this.Je=b0(),this.He=new xi(mn),r}Ze(t,e){if(!this.nt(t))return;let i=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,i),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,i){if(!this.nt(t))return;let r=this.tt(t);this.It(t,e)?r.qe(e,1):r.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),i&&(this.ze=this.ze.insert(e,i))}removeTarget(t){this.Ge.delete(t)}ot(t){let e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new V0,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new wr(mn),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new wr(mn),this.je=this.je.insert(t,e)),e}nt(t){let e=this.st(t)!==null;return e||nt("WatchChangeAggregator","Detected inactive target",t),e}st(t){let e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new V0),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}};function b0(){return new xi(Pt.comparator)}function Jx(){return new xi(Pt.comparator)}var TV={asc:"ASCENDING",desc:"DESCENDING"},DV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PV={and:"AND",or:"OR"},I2=class{constructor(t,e){this.databaseId=t,this.useProto3Json=e}};function C2(n,t){return n.useProto3Json||lv(t)?t:{value:t}}function j0(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cD(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function kV(n,t){return j0(n,t.toTimestamp())}function Oa(n){return Vn(!!n,49232),nn.fromTimestamp((function(e){let i=Cl(e);return new Xi(i.seconds,i.nanos)})(n))}function Ub(n,t){return x2(n,t).canonicalString()}function x2(n,t){let e=(function(r){return new fi(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function uD(n){let t=fi.fromString(n);return Vn(mD(t),10190,{key:t.toString()}),t}function T2(n,t){return Ub(n.databaseId,t.path)}function $w(n,t){let e=uD(t);if(e.get(1)!==n.databaseId.projectId)throw new Ze(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ze(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Pt(hD(e))}function dD(n,t){return Ub(n.databaseId,t)}function RV(n){let t=uD(n);return t.length===4?fi.emptyPath():hD(t)}function D2(n){return new fi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hD(n){return Vn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Qx(n,t,e){return{name:T2(n,t),fields:e.value.mapValue.fields}}function NV(n,t){let e;if("targetChange"in t){t.targetChange;let i=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ot(39313,{state:c})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(c,h){return c.useProto3Json?(Vn(h===void 0||typeof h=="string",58123),Jr.fromBase64String(h||"")):(Vn(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Jr.fromUint8Array(h||new Uint8Array))})(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&(function(c){let h=c.code===void 0?Oe.UNKNOWN:lD(c.code);return new Ze(h,c.message||"")})(s);e=new F0(i,r,o,a||null)}else if("documentChange"in t){t.documentChange;let i=t.documentChange;i.document,i.document.name,i.document.updateTime;let r=$w(n,i.document.name),o=Oa(i.document.updateTime),s=i.document.createTime?Oa(i.document.createTime):nn.min(),a=new Qs({mapValue:{fields:i.document.fields}}),l=ea.newFoundDocument(r,o,s,a),c=i.targetIds||[],h=i.removedTargetIds||[];e=new th(c,h,l.key,l)}else if("documentDelete"in t){t.documentDelete;let i=t.documentDelete;i.document;let r=$w(n,i.document),o=i.readTime?Oa(i.readTime):nn.min(),s=ea.newNoDocument(r,o),a=i.removedTargetIds||[];e=new th([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;let i=t.documentRemove;i.document;let r=$w(n,i.document),o=i.removedTargetIds||[];e=new th([],o,r,null)}else{if(!("filter"in t))return Ot(11601,{At:t});{t.filter;let i=t.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new S2(r,o),a=i.targetId;e=new L0(a,s)}}return e}function OV(n,t){let e;if(t instanceof Bu)e={update:Qx(n,t.key,t.value)};else if(t instanceof O0)e={delete:T2(n,t.key)};else if(t instanceof Pl)e={update:Qx(n,t.key,t.data),updateMask:$V(t.fieldMask)};else{if(!(t instanceof y2))return Ot(16599,{Rt:t.type});e={verify:T2(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>(function(o,s){let a=s.transform;if(a instanceof dh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ju)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Uu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hh)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Ot(20930,{transform:s.transform})})(0,i))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:kV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ot(27497)})(n,t.precondition)),e}function MV(n,t){return n&&n.length>0?(Vn(t!==void 0,14353),n.map(e=>(function(r,o){let s=r.updateTime?Oa(r.updateTime):Oa(o);return s.isEqual(nn.min())&&(s=Oa(o)),new v2(s,r.transformResults||[])})(e,t))):[]}function LV(n,t){return{documents:[dD(n,t.path)]}}function FV(n,t){let e={structuredQuery:{}},i=t.path,r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=dD(n,r);let o=(function(c){if(c.length!==0)return pD(ta.create(c,"and"))})(t.filters);o&&(e.structuredQuery.where=o);let s=(function(c){if(c.length!==0)return c.map(h=>(function(_){return{field:Qd(_.field),direction:UV(_.dir)}})(h))})(t.orderBy);s&&(e.structuredQuery.orderBy=s);let a=C2(n,t.limit);return a!==null&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(t.endAt)),{Vt:e,parent:r}}function VV(n){let t=RV(n.parent),e=n.structuredQuery,i=e.from?e.from.length:0,r=null;if(i>0){Vn(i===1,65062);let h=e.from[0];h.allDescendants?r=h.collectionId:t=t.child(h.collectionId)}let o=[];e.where&&(o=(function(g){let _=fD(g);return _ instanceof ta&&HT(_)?_.getFilters():[_]})(e.where));let s=[];e.orderBy&&(s=(function(g){return g.map(_=>(function(P){return new ch(Zd(P.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(_))})(e.orderBy));let a=null;e.limit&&(a=(function(g){let _;return _=typeof g=="object"?g.value:g,lv(_)?null:_})(e.limit));let l=null;e.startAt&&(l=(function(g){let _=!!g.before,p=g.values||[];return new lh(p,_)})(e.startAt));let c=null;return e.endAt&&(c=(function(g){let _=!g.before,p=g.values||[];return new lh(p,_)})(e.endAt)),dV(t,r,s,o,a,"F",l,c)}function jV(n,t){let e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function fD(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":let i=Zd(e.unaryFilter.field);return Ki.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Zd(e.unaryFilter.field);return Ki.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Zd(e.unaryFilter.field);return Ki.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Zd(e.unaryFilter.field);return Ki.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ot(61313);default:return Ot(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ki.create(Zd(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ot(58110);default:return Ot(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ta.create(e.compositeFilter.filters.map(i=>fD(i)),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ot(1026)}})(e.compositeFilter.op))})(n):Ot(30097,{filter:n})}function UV(n){return TV[n]}function BV(n){return DV[n]}function zV(n){return PV[n]}function Qd(n){return{fieldPath:n.canonicalString()}}function Zd(n){return ts.fromServerFormat(n.fieldPath)}function pD(n){return n instanceof Ki?(function(e){if(e.op==="=="){if(jx(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NAN"}};if(Vx(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jx(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NOT_NAN"}};if(Vx(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qd(e.field),op:BV(e.op),value:e.value}}})(n):n instanceof ta?(function(e){let i=e.getFilters().map(r=>pD(r));return i.length===1?i[0]:{compositeFilter:{op:zV(e.op),filters:i}}})(n):Ot(54877,{filter:n})}function $V(n){let t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function mD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Dp=class n{constructor(t,e,i,r,o=nn.min(),s=nn.min(),a=Jr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new n(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var P2=class{constructor(t){this.gt=t}};function qV(n){let t=VV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?g2(t,t.limit,"L"):t}var U0=class{constructor(){}bt(t,e){this.Dt(t,e),e.vt()}Dt(t,e){if("nullValue"in t)this.Ct(e,5);else if("booleanValue"in t)this.Ct(e,10),e.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(e,15),e.Ft(hi(t.integerValue));else if("doubleValue"in t){let i=hi(t.doubleValue);isNaN(i)?this.Ct(e,13):(this.Ct(e,15),Ip(i)?e.Ft(0):e.Ft(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ct(e,20),typeof i=="string"&&(i=Cl(i)),e.Mt(`${i.seconds||""}`),e.Ft(i.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,e),this.Ot(e);else if("bytesValue"in t)this.Ct(e,30),e.Nt(xl(t.bytesValue)),this.Ot(e);else if("referenceValue"in t)this.Bt(t.referenceValue,e);else if("geoPointValue"in t){let i=t.geoPointValue;this.Ct(e,45),e.Ft(i.latitude||0),e.Ft(i.longitude||0)}else"mapValue"in t?zT(t)?this.Ct(e,Number.MAX_SAFE_INTEGER):BT(t)?this.Lt(t.mapValue,e):(this.kt(t.mapValue,e),this.Ot(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Ot(e)):Ot(19022,{Qt:t})}xt(t,e){this.Ct(e,25),this.$t(t,e)}$t(t,e){e.Mt(t)}kt(t,e){let i=t.fields||{};this.Ct(e,55);for(let r of Object.keys(i))this.xt(r,e),this.Dt(i[r],e)}Lt(t,e){var i,r;let o=t.fields||{};this.Ct(e,53);let s=oh,a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.Ct(e,15),e.Ft(hi(a)),this.xt(s,e),this.Dt(o[s],e)}qt(t,e){let i=t.values||[];this.Ct(e,50);for(let r of i)this.Dt(r,e)}Bt(t,e){this.Ct(e,37),Pt.fromName(t).path.forEach(i=>{this.Ct(e,60),this.$t(i,e)})}Ct(t,e){t.Ft(e)}Ot(t){t.Ft(2)}};U0.Ut=new U0;var k2=class{constructor(){this.Dn=new R2}addToCollectionParentIndex(t,e){return this.Dn.add(e),je.resolve()}getCollectionParents(t,e){return je.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return je.resolve()}deleteFieldIndex(t,e){return je.resolve()}deleteAllFieldIndexes(t){return je.resolve()}createTargetIndexes(t,e){return je.resolve()}getDocumentsMatchingTarget(t,e){return je.resolve(null)}getIndexType(t,e){return je.resolve(0)}getFieldIndexes(t,e){return je.resolve([])}getNextCollectionGroupToUpdate(t){return je.resolve(null)}getMinOffset(t,e){return je.resolve(Fu.min())}getMinOffsetFromCollectionGroup(t,e){return je.resolve(Fu.min())}updateCollectionGroup(t,e,i){return je.resolve()}updateIndexEntries(t,e){return je.resolve()}},R2=class{constructor(){this.index={}}add(t){let e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new wr(fi.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){let e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new wr(fi.comparator)).toArray()}};var gZ=new Uint8Array(0);var Zx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gD=41943040,Is=class n{static withCacheSize(t){return new n(t,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}};Is.DEFAULT_COLLECTION_PERCENTILE=10,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Is.DEFAULT=new Is(gD,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Is.DISABLED=new Is(-1,0,0);var Pp=class n{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var eT="LruGarbageCollector",HV=1048576;function tT([n,t],[e,i]){let r=mn(n,e);return r===0?mn(t,i):r}var N2=class{constructor(t){this.Tr=t,this.buffer=new wr(tT),this.Ir=0}dr(){return++this.Ir}Er(t){let e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{let i=this.buffer.last();tT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}},O2=class{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){nt(eT,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,()=>j(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(e){wh(e)?nt(eT,"Ignoring IndexedDB error during garbage collection: ",e):yield _h(e)}yield this.Rr(3e5)}))}},M2=class{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return je.resolve(Pb.ue);let i=new N2(e);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(Zx)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zx):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let i,r,o,s,a,l,c,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,s=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,a=Date.now(),this.removeTargets(t,i,e))).next(g=>(o=g,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(c=Date.now(),Xd()<=yn.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${g} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:g})))}};function WV(n,t){return new M2(n,t)}var L2=class{constructor(){this.changes=new Tl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ea.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();let i=this.changes.get(e);return i!==void 0?je.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var F2=class{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}};var V2=class{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Sp(i.mutation,r,ka.empty(),Xi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,bn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=bn()){let r=Pu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=yp();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){let i=Pu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,bn()))}populateOverlays(t,e,i){let r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=Dl(),s=bp(),a=(function(){return bp()})();return e.forEach((l,c)=>{let h=i.get(c.key);r.has(c.key)&&(h===void 0||h.mutation instanceof Pl)?o=o.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),Sp(h.mutation,c,h.mutation.getFieldMask(),Xi.now())):s.set(c.key,ka.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((c,h)=>s.set(c,h)),e.forEach((c,h)=>{var g;return a.set(c,new F2(h,(g=s.get(c))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(t,e){let i=bp(),r=new xi((s,a)=>s-a),o=bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(let a of s)a.keys().forEach(l=>{let c=e.get(l);if(c===null)return;let h=i.get(l)||ka.empty();h=a.applyToLocalView(c,h),i.set(l,h);let g=(r.get(a.batchId)||bn()).add(l);r=r.insert(a.batchId,g)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,h=l.value,g=eD();h.forEach(_=>{if(!o.has(_)){let p=sD(e.get(_),i.get(_));p!==null&&g.set(_,p),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,g))}return je.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return(function(s){return Pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):YT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):je.resolve(Pu()),a=Ap,l=o;return s.next(c=>je.forEach(c,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?je.resolve():this.remoteDocumentCache.getEntry(t,h).next(_=>{l=l.insert(h,_)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,l,c,bn())).next(h=>({batchId:a,changes:ZT(h)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Pt(e)).next(i=>{let r=yp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){let o=e.collectionGroup,s=yp();return this.indexManager.getCollectionParents(t,o).next(a=>je.forEach(a,l=>{let c=(function(g,_){return new Vu(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(e,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(h=>{h.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((l,c)=>{let h=c.getKey();s.get(h)===null&&(s=s.insert(h,ea.newInvalidDocument(h)))});let a=yp();return s.forEach((l,c)=>{let h=o.get(l);h!==void 0&&Sp(h.mutation,c,ka.empty(),Xi.now()),dv(e,c)&&(a=a.insert(l,c))}),a})}};var j2=class{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return je.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Oa(r.createTime)}})(e)),je.resolve()}getNamedQuery(t,e){return je.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,(function(r){return{name:r.name,query:qV(r.bundledQuery),readTime:Oa(r.readTime)}})(e)),je.resolve()}};var U2=class{constructor(){this.overlays=new xi(Pt.comparator),this.kr=new Map}getOverlay(t,e){return je.resolve(this.overlays.get(e))}getOverlays(t,e){let i=Pu();return je.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.wt(t,e,o)}),je.resolve()}removeOverlaysForBatchId(t,e,i){let r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),je.resolve()}getOverlaysForCollection(t,e,i){let r=Pu(),o=e.length+1,s=new Pt(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return je.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new xi((c,h)=>c-h),s=this.overlays.getIterator();for(;s.hasNext();){let c=s.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let h=o.get(c.largestBatchId);h===null&&(h=Pu(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}let a=Pu(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return je.resolve(a)}wt(t,e,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new b2(e,i));let o=this.kr.get(e);o===void 0&&(o=bn(),this.kr.set(e,o)),this.kr.set(e,o.add(i.key))}};var B2=class{constructor(){this.sessionToken=Jr.EMPTY_BYTE_STRING}getSessionToken(t){return je.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,je.resolve()}};var kp=class{constructor(){this.qr=new wr(Gi.Qr),this.$r=new wr(Gi.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){let i=new Gi(t,e);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Wr(new Gi(t,e))}Gr(t,e){t.forEach(i=>this.removeReference(i,e))}zr(t){let e=new Pt(new fi([])),i=new Gi(e,t),r=new Gi(e,t+1),o=[];return this.$r.forEachInRange([i,r],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){let e=new Pt(new fi([])),i=new Gi(e,t),r=new Gi(e,t+1),o=bn();return this.$r.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){let e=new Gi(t,0),i=this.qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}},Gi=class{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return Pt.comparator(t.key,e.key)||mn(t.Hr,e.Hr)}static Ur(t,e){return mn(t.Hr,e.Hr)||Pt.comparator(t.key,e.key)}};var z2=class{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new wr(Gi.Qr)}checkEmpty(t){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new _2(o,e,i,r);this.mutationQueue.push(s);for(let a of r)this.Yr=this.Yr.add(new Gi(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return je.resolve(s)}lookupMutationBatch(t,e){return je.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){let i=e+1,r=this.Xr(i),o=r<0?0:r;return je.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?kb:this.er-1)}getAllMutationBatches(t){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){let i=new Gi(e,0),r=new Gi(e,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],s=>{let a=this.Zr(s.Hr);o.push(a)}),je.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new wr(mn);return e.forEach(r=>{let o=new Gi(r,0),s=new Gi(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{i=i.add(a.Hr)})}),je.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,e){let i=e.path,r=i.length+1,o=i;Pt.isDocumentKey(o)||(o=o.child(""));let s=new Gi(new Pt(o),0),a=new wr(mn);return this.Yr.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Hr)),!0)},s),je.resolve(this.ei(a))}ei(t){let e=[];return t.forEach(i=>{let r=this.Zr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Vn(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return je.forEach(e.mutations,r=>{let o=new Gi(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,e){let i=new Gi(e,0),r=this.Yr.firstAfterOrEqual(i);return je.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,je.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){let e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}};var $2=class{constructor(t){this.ni=t,this.docs=(function(){return new xi(Pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){let i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.ni(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){let e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){let i=this.docs.get(e);return je.resolve(i?i.document.mutableCopy():ea.newInvalidDocument(e))}getEntries(t,e){let i=Dl();return e.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ea.newInvalidDocument(r))}),je.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Dl(),s=e.path,a=new Pt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:h}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||W8(H8(h),i)<=0||(r.has(h.key)||dv(e,h))&&(o=o.insert(h.key,h.mutableCopy()))}return je.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Ot(9500)}ri(t,e){return je.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new q2(this)}getSize(t){return je.resolve(this.size)}},q2=class extends L2{constructor(t){super(),this.Or=t}applyChanges(t){let e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Or.addEntry(t,r)):this.Or.removeEntry(i)}),je.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}};var H2=class{constructor(t){this.persistence=t,this.ii=new Tl(e=>Lb(e),Fb),this.lastRemoteSnapshotVersion=nn.min(),this.highestTargetId=0,this.si=0,this.oi=new kp,this.targetCount=0,this._i=Pp.ar()}forEachTarget(t,e){return this.ii.forEach((i,r)=>e(r)),je.resolve()}getLastRemoteSnapshotVersion(t){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return je.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.si&&(this.si=e),je.resolve()}hr(t){this.ii.set(t.target,t);let e=t.targetId;e>this.highestTargetId&&(this._i=new Pp(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,je.resolve()}updateTargetData(t,e){return this.hr(e),je.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,je.resolve()}removeTargets(t,e,i){let r=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=e&&i.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),je.waitFor(o).next(()=>r)}getTargetCount(t){return je.resolve(this.targetCount)}getTargetData(t,e){let i=this.ii.get(e)||null;return je.resolve(i)}addMatchingKeys(t,e,i){return this.oi.Kr(e,i),je.resolve()}removeMatchingKeys(t,e,i){this.oi.Gr(e,i);let r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),je.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),je.resolve()}getMatchingKeysForTargetId(t,e){let i=this.oi.Jr(e);return je.resolve(i)}containsKey(t,e){return je.resolve(this.oi.containsKey(e))}};var B0=class{constructor(t,e){this.ai={},this.overlays={},this.ui=new Pb(0),this.ci=!1,this.ci=!0,this.li=new B2,this.referenceDelegate=t(this),this.hi=new H2(this),this.indexManager=new k2,this.remoteDocumentCache=(function(r){return new $2(r)})(i=>this.referenceDelegate.Pi(i)),this.serializer=new P2(e),this.Ti=new j2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new U2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ai[t.toKey()];return i||(i=new z2(e,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,i){nt("MemoryPersistence","Starting transaction:",t);let r=new W2(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(t,e){return je.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,e)))}},W2=class extends t2{constructor(t){super(),this.currentSequenceNumber=t}},G2=class n{constructor(t){this.persistence=t,this.Ai=new kp,this.Ri=null}static Vi(t){return new n(t)}get mi(){if(this.Ri)return this.Ri;throw Ot(60996)}addReference(t,e,i){return this.Ai.addReference(i,e),this.mi.delete(i.toString()),je.resolve()}removeReference(t,e,i){return this.Ai.removeReference(i,e),this.mi.add(i.toString()),je.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),je.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(r=>this.mi.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){let e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.mi,i=>{let r=Pt.fromPath(i);return this.fi(t,r).next(o=>{o||e.removeEntry(r,nn.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(i=>{i?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return je.or([()=>je.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}},z0=class n{constructor(t,e){this.persistence=t,this.gi=new Tl(i=>X8(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=WV(this,e)}static Vi(t,e){return new n(t,e)}Ii(){}di(t){return je.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){let e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}yr(t){let e=0;return this.gr(t,i=>{e++}).next(()=>e)}gr(t,e){return je.forEach(this.gi,(i,r)=>this.Sr(t,i,r).next(o=>o?je.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0,r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(t,s=>this.Sr(t,s,e).next(a=>{a||(i++,o.removeEntry(s,nn.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),je.resolve()}removeTarget(t,e){let i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),je.resolve()}removeReference(t,e,i){return this.gi.set(i,t.currentSequenceNumber),je.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),je.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=E0(t.data.value)),e}Sr(t,e,i){return je.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{let r=this.gi.get(e);return je.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}};var K2=class n{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Is=i,this.ds=r}static Es(t,e){let i=bn(),r=bn();for(let o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(t,e.fromCache,i,r)}};var Y2=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var X2=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return $I()?8:K8(vr())>0?6:4})()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,i,r){let o={result:null};return this.ps(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Y2;return this.ws(t,e,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(t,e,s,a.size)})}).next(()=>o.result)}Ss(t,e,i,r){return i.documentReadCount<this.Vs?(Xd()<=yn.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Jd(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),je.resolve()):(Xd()<=yn.DEBUG&&nt("QueryEngine","Query:",Jd(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Xd()<=yn.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Jd(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Na(e))):je.resolve())}ps(t,e){if($x(e))return je.resolve(null);let i=Na(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=g2(e,null,"F"),i=Na(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{let s=bn(...o);return this.gs.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{let c=this.bs(e,a);return this.Ds(e,c,s,l.readTime)?this.ps(t,g2(e,null,"F")):this.vs(t,c,e,l)}))})))}ys(t,e,i,r){return $x(e)||r.isEqual(nn.min())?je.resolve(null):this.gs.getDocuments(t,i).next(o=>{let s=this.bs(e,o);return this.Ds(e,s,i,r)?je.resolve(null):(Xd()<=yn.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jd(e)),this.vs(t,s,e,q8(r,Ap)).next(a=>a))})}bs(t,e){let i=new wr(JT(t));return e.forEach((r,o)=>{dv(t,o)&&(i=i.add(o))}),i}Ds(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;let o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(t,e,i){return Xd()<=yn.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Jd(e)),this.gs.getDocumentsMatchingQuery(t,e,Fu.min(),i)}vs(t,e,i,r){return this.gs.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Bb="LocalStore",GV=3e8,J2=class{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.Fs=new xi(mn),this.Ms=new Tl(o=>Lb(o),Fb),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new V2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}};function KV(n,t,e,i){return new J2(n,t,e,i)}function vD(n,t){return j(this,null,function*(){let e=Qt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Ns(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],l=bn();for(let c of r){s.push(c.batchId);for(let h of c.mutations)l=l.add(h.key)}for(let c of o){a.push(c.batchId);for(let h of c.mutations)l=l.add(h.key)}return e.localDocuments.getDocuments(i,l).next(c=>({Bs:c,removedBatchIds:s,addedBatchIds:a}))})})})}function YV(n,t){let e=Qt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=t.batch.keys(),o=e.Os.newChangeBuffer({trackRemovals:!0});return(function(a,l,c,h){let g=c.batch,_=g.keys(),p=je.resolve();return _.forEach(P=>{p=p.next(()=>h.getEntry(l,P)).next(O=>{let N=c.docVersions.get(P);Vn(N!==null,48541),O.version.compareTo(N)<0&&(g.applyToRemoteDocument(O,c),O.isValidDocument()&&(O.setReadTime(c.commitVersion),h.addEntry(O)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,g))})(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(a){let l=bn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l})(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function yD(n){let t=Qt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function XV(n,t){let e=Qt(n),i=t.snapshotVersion,r=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=e.Os.newChangeBuffer({trackRemovals:!0});r=e.Fs;let a=[];t.targetChanges.forEach((h,g)=>{let _=r.get(g);if(!_)return;a.push(e.hi.removeMatchingKeys(o,h.removedDocuments,g).next(()=>e.hi.addMatchingKeys(o,h.addedDocuments,g)));let p=_.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(g)!==null?p=p.withResumeToken(Jr.EMPTY_BYTE_STRING,nn.min()).withLastLimboFreeSnapshotVersion(nn.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,i)),r=r.insert(g,p),(function(O,N,R){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=GV?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(_,p,h)&&a.push(e.hi.updateTargetData(o,p))});let l=Dl(),c=bn();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(JV(o,s,t.documentUpdates).next(h=>{l=h.Ls,c=h.ks})),!i.isEqual(nn.min())){let h=e.hi.getLastRemoteSnapshotVersion(o).next(g=>e.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return je.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(e.Fs=r,o))}function JV(n,t,e){let i=bn(),r=bn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=Dl();return e.forEach((a,l)=>{let c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(nn.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):nt(Bb,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:s,ks:r}})}function QV(n,t){let e=Qt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=kb),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ZV(n,t){let e=Qt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.hi.getTargetData(i,t).next(o=>o?(r=o,je.resolve(r)):e.hi.allocateTargetId(i).next(s=>(r=new Dp(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=e.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(i.targetId,i),e.Ms.set(t,i.targetId)),i})}function Q2(n,t,e){return j(this,null,function*(){let i=Qt(n),r=i.Fs.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!wh(s))throw s;nt(Bb,`Failed to update sequence numbers for target ${t}: ${s}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(r.target)})}function nT(n,t,e){let i=Qt(n),r=nn.min(),o=bn();return i.persistence.runTransaction("Execute query","readwrite",s=>(function(l,c,h){let g=Qt(l),_=g.Ms.get(h);return _!==void 0?je.resolve(g.Fs.get(_)):g.hi.getTargetData(c,h)})(i,s,Na(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.Cs.getDocumentsMatchingQuery(s,t,e?r:nn.min(),e?o:bn())).next(a=>(e7(i,fV(t),a),{documents:a,qs:o})))}function e7(n,t,e){let i=n.xs.get(t)||nn.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(t,i)}var $0=class{constructor(){this.activeTargetIds=_V()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var Z2=class{constructor(){this.Fo=new $0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,i){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new $0,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var eb=class{xo(t){}shutdown(){}};var iT="ConnectivityMonitor",q0=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){nt(iT,"Network connectivity changed: AVAILABLE");for(let t of this.ko)t(0)}Lo(){nt(iT,"Network connectivity changed: UNAVAILABLE");for(let t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var S0=null;function tb(){return S0===null?S0=(function(){return 268435456+Math.round(2147483648*Math.random())})():S0++,"0x"+S0.toString(16)}var qw="RestConnection",t7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},nb=class{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===k0?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){let s=tb(),a=this.Go(t,e.toUriEncodedString());nt(qw,`Sending RPC '${t}' ${s}:`,a,i);let l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,r,o);let{host:c}=new URL(a),h=yc(c);return this.jo(t,a,l,i,h).then(g=>(nt(qw,`Received RPC '${t}' ${s}: `,g),g),g=>{throw Nc(qw,`RPC '${t}' ${s} failed with error: `,g,"url: ",a,"request:",i),g})}Jo(t,e,i,r,o,s){return this.Wo(t,e,i,r,o)}zo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Go(t,e){let i=t7[t];return`${this.$o}/v1/${e}:${i}`}terminate(){}};var ib=class{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}};var Xr="WebChannelConnection",rb=class extends nb{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,i,r,o){let s=tb();return new Promise((a,l)=>{let c=new Vw;c.setWithCredentials(!0),c.listenOnce(jw.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vp.NO_ERROR:let g=c.getResponseJson();nt(Xr,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(g)),a(g);break;case vp.TIMEOUT:nt(Xr,`RPC '${t}' ${s} timed out`),l(new Ze(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case vp.HTTP_ERROR:let _=c.getStatus();if(nt(Xr,`RPC '${t}' ${s} failed with status:`,_,"response text:",c.getResponseText()),_>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);let P=p?.error;if(P&&P.status&&P.message){let O=(function(R){let Q=R.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(Q)>=0?Q:Oe.UNKNOWN})(P.status);l(new Ze(O,P.message))}else l(new Ze(Oe.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ze(Oe.UNAVAILABLE,"Connection failed."));break;default:Ot(9055,{c_:t,streamId:s,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{nt(Xr,`RPC '${t}' ${s} completed.`)}});let h=JSON.stringify(r);nt(Xr,`RPC '${t}' ${s} sending request:`,r),c.send(e,"POST",h,i,15)})}P_(t,e,i){let r=tb(),o=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=zw(),a=Bw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;let h=o.join("");nt(Xr,`Creating RPC '${t}' stream ${r}: ${h}`,l);let g=s.createWebChannel(h,l);this.T_(g);let _=!1,p=!1,P=new ib({Ho:N=>{p?nt(Xr,`Not sending because RPC '${t}' stream ${r} is closed:`,N):(_||(nt(Xr,`Opening RPC '${t}' stream ${r} transport.`),g.open(),_=!0),nt(Xr,`RPC '${t}' stream ${r} sending:`,N),g.send(N))},Yo:()=>g.close()}),O=(N,R,Q)=>{N.listen(R,Z=>{try{Q(Z)}catch(X){setTimeout(()=>{throw X},0)}})};return O(g,Yd.EventType.OPEN,()=>{p||(nt(Xr,`RPC '${t}' stream ${r} transport opened.`),P.s_())}),O(g,Yd.EventType.CLOSE,()=>{p||(p=!0,nt(Xr,`RPC '${t}' stream ${r} transport closed`),P.__(),this.I_(g))}),O(g,Yd.EventType.ERROR,N=>{p||(p=!0,Nc(Xr,`RPC '${t}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),P.__(new Ze(Oe.UNAVAILABLE,"The operation could not be completed")))}),O(g,Yd.EventType.MESSAGE,N=>{var R;if(!p){let Q=N.data[0];Vn(!!Q,16349);let Z=Q,X=Z?.error||((R=Z[0])===null||R===void 0?void 0:R.error);if(X){nt(Xr,`RPC '${t}' stream ${r} received error:`,X);let he=X.status,_e=(function(I){let V=Wi[I];if(V!==void 0)return lD(V)})(he),H=X.message;_e===void 0&&(_e=Oe.INTERNAL,H="Unknown error status: "+he+" with message "+X.message),p=!0,P.__(new Ze(_e,H)),g.close()}else nt(Xr,`RPC '${t}' stream ${r} received:`,Q),P.a_(Q)}}),O(a,Uw.STAT_EVENT,N=>{N.stat===_0.PROXY?nt(Xr,`RPC '${t}' stream ${r} detected buffering proxy`):N.stat===_0.NOPROXY&&nt(Xr,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{P.o_()},0),P}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}};function Hw(){return typeof document<"u"?document:null}function hv(n){return new I2(n,!0)}var H0=class{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Fi=t,this.timerId=e,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let e=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-i);r>0&&nt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var rT="PersistentStream",W0=class{constructor(t,e,i,r,o,s,a,l){this.Fi=t,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new H0(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return j(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}L_(){return j(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(t,e){return j(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===Oe.RESOURCE_EXHAUSTED?(Il(e.toString()),Il("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.n_(e)})}U_(){}auth(){this.state=1;let t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===e&&this.W_(i,r)},i=>{t(()=>{let r=new Ze(Oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(t,e){let i=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(()=>j(this,null,function*(){this.state=0,this.start()}))}G_(t){return nt(rT,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(nt(rT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ob=class extends W0{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();let e=NV(this.serializer,t),i=(function(o){if(!("targetChange"in o))return nn.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?nn.min():s.readTime?Oa(s.readTime):nn.min()})(t);return this.listener.J_(e,i)}H_(t){let e={};e.database=D2(this.serializer),e.addTarget=(function(o,s){let a,l=s.target;if(a=p2(l)?{documents:LV(o,l)}:{query:FV(o,l).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=cD(o,s.resumeToken);let c=C2(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(nn.min())>0){a.readTime=j0(o,s.snapshotVersion.toTimestamp());let c=C2(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a})(this.serializer,t);let i=jV(this.serializer,t);i&&(e.labels=i),this.k_(e)}Y_(t){let e={};e.database=D2(this.serializer),e.removeTarget=t,this.k_(e)}},sb=class extends W0{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return Vn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Vn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Vn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();let e=MV(t.writeResults,t.commitTime),i=Oa(t.commitTime);return this.listener.ta(i,e)}na(){let t={};t.database=D2(this.serializer),this.k_(t)}X_(t){let e={streamToken:this.lastStreamToken,writes:t.map(i=>OV(this.serializer,i))};this.k_(e)}};var ab=class{},lb=class extends ab{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new Ze(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(t,x2(e,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ze(Oe.UNKNOWN,o.toString())})}Jo(t,e,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(t,x2(e,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ze(Oe.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},cb=class{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){let e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Il(e),this._a=!1):nt("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var zu="RemoteStore",ub=class{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{i.enqueueAndForget(()=>j(this,null,function*(){qu(this)&&(nt(zu,"Restarting streams for network reachability change."),yield(function(l){return j(this,null,function*(){let c=Qt(l);c.Ia.add(4),yield Mp(c),c.Aa.set("Unknown"),c.Ia.delete(4),yield fv(c)})})(this))}))}),this.Aa=new cb(i,r)}};function fv(n){return j(this,null,function*(){if(qu(n))for(let t of n.da)yield t(!0)})}function Mp(n){return j(this,null,function*(){for(let t of n.da)yield t(!1)})}function _D(n,t){let e=Qt(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),Hb(e)?qb(e):bh(e).x_()&&$b(e,t))}function zb(n,t){let e=Qt(n),i=bh(e);e.Ta.delete(t),i.x_()&&wD(e,t),e.Ta.size===0&&(i.x_()?i.B_():qu(e)&&e.Aa.set("Unknown"))}function $b(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nn.min())>0){let e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}bh(n).H_(t)}function wD(n,t){n.Ra.$e(t),bh(n).Y_(t)}function qb(n){n.Ra=new A2({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),bh(n).start(),n.Aa.aa()}function Hb(n){return qu(n)&&!bh(n).M_()&&n.Ta.size>0}function qu(n){return Qt(n).Ia.size===0}function bD(n){n.Ra=void 0}function n7(n){return j(this,null,function*(){n.Aa.set("Online")})}function i7(n){return j(this,null,function*(){n.Ta.forEach((t,e)=>{$b(n,t)})})}function r7(n,t){return j(this,null,function*(){bD(n),Hb(n)?(n.Aa.la(t),qb(n)):n.Aa.set("Unknown")})}function o7(n,t,e){return j(this,null,function*(){if(n.Aa.set("Online"),t instanceof F0&&t.state===2&&t.cause)try{yield(function(r,o){return j(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.Ta.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Ta.delete(a),r.Ra.removeTarget(a))})})(n,t)}catch(i){nt(zu,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield G0(n,i)}else if(t instanceof th?n.Ra.Ye(t):t instanceof L0?n.Ra.it(t):n.Ra.et(t),!e.isEqual(nn.min()))try{let i=yield yD(n.localStore);e.compareTo(i)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.Ta.get(c);h&&o.Ta.set(c,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{let h=o.Ta.get(l);if(!h)return;o.Ta.set(l,h.withResumeToken(Jr.EMPTY_BYTE_STRING,h.snapshotVersion)),wD(o,l);let g=new Dp(h.target,l,c,h.sequenceNumber);$b(o,g)}),o.remoteSyncer.applyRemoteEvent(a)})(n,e))}catch(i){nt(zu,"Failed to raise snapshot:",i),yield G0(n,i)}})}function G0(n,t,e){return j(this,null,function*(){if(!wh(t))throw t;n.Ia.add(1),yield Mp(n),n.Aa.set("Offline"),e||(e=()=>yD(n.localStore)),n.asyncQueue.enqueueRetryable(()=>j(null,null,function*(){nt(zu,"Retrying IndexedDB access"),yield e(),n.Ia.delete(1),yield fv(n)}))})}function SD(n,t){return t().catch(e=>G0(n,e,t))}function pv(n){return j(this,null,function*(){let t=Qt(n),e=Mc(t),i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:kb;for(;s7(t);)try{let r=yield QV(t.localStore,i);if(r===null){t.Pa.length===0&&e.B_();break}i=r.batchId,a7(t,r)}catch(r){yield G0(t,r)}ED(t)&&AD(t)})}function s7(n){return qu(n)&&n.Pa.length<10}function a7(n,t){n.Pa.push(t);let e=Mc(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function ED(n){return qu(n)&&!Mc(n).M_()&&n.Pa.length>0}function AD(n){Mc(n).start()}function l7(n){return j(this,null,function*(){Mc(n).na()})}function c7(n){return j(this,null,function*(){let t=Mc(n);for(let e of n.Pa)t.X_(e.mutations)})}function u7(n,t,e){return j(this,null,function*(){let i=n.Pa.shift(),r=w2.from(i,t,e);yield SD(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield pv(n)})}function d7(n,t){return j(this,null,function*(){t&&Mc(n).Z_&&(yield(function(i,r){return j(this,null,function*(){if((function(s){return CV(s)&&s!==Oe.ABORTED})(r.code)){let o=i.Pa.shift();Mc(i).N_(),yield SD(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield pv(i)}})})(n,t)),ED(n)&&AD(n)})}function oT(n,t){return j(this,null,function*(){let e=Qt(n);e.asyncQueue.verifyOperationInProgress(),nt(zu,"RemoteStore received new credentials");let i=qu(e);e.Ia.add(3),yield Mp(e),i&&e.Aa.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),yield fv(e)})}function h7(n,t){return j(this,null,function*(){let e=Qt(n);t?(e.Ia.delete(2),yield fv(e)):t||(e.Ia.add(2),yield Mp(e),e.Aa.set("Unknown"))})}function bh(n){return n.Va||(n.Va=(function(e,i,r){let o=Qt(e);return o.ia(),new ob(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:n7.bind(null,n),e_:i7.bind(null,n),n_:r7.bind(null,n),J_:o7.bind(null,n)}),n.da.push(t=>j(null,null,function*(){t?(n.Va.N_(),Hb(n)?qb(n):n.Aa.set("Unknown")):(yield n.Va.stop(),bD(n))}))),n.Va}function Mc(n){return n.ma||(n.ma=(function(e,i,r){let o=Qt(e);return o.ia(),new sb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:l7.bind(null,n),n_:d7.bind(null,n),ea:c7.bind(null,n),ta:u7.bind(null,n)}),n.da.push(t=>j(null,null,function*(){t?(n.ma.N_(),yield pv(n)):(yield n.ma.stop(),n.Pa.length>0&&(nt(zu,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var db=class n{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){let s=Date.now()+i,a=new n(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Oe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Wb(n,t){if(Il("AsyncQueue",`${t}: ${n}`),wh(n))return new Ze(Oe.UNAVAILABLE,`${t}: ${n}`);throw n}var K0=class n{static emptySet(t){return new n(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Pt.comparator(e.key,i.key):(e,i)=>Pt.comparator(e.key,i.key),this.keyedMap=yp(),this.sortedSet=new xi(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){let e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){let e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){let r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){let i=new n;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}};var Y0=class{constructor(){this.fa=new xi(Pt.comparator)}track(t){let e=t.doc.key,i=this.fa.get(e);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(e,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(e):t.type===1&&i.type===2?this.fa=this.fa.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):Ot(63341,{At:t,ga:i}):this.fa=this.fa.insert(e,t)}pa(){let t=[];return this.fa.inorderTraversal((e,i)=>{t.push(i)}),t}},ph=class n{constructor(t,e,i,r,o,s,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,o){let s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new n(t,e,K0.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}};var hb=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}},fb=class{constructor(){this.queries=sT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,i){let r=Qt(e),o=r.queries;r.queries=sT(),o.forEach((s,a)=>{for(let l of a.wa)l.onError(i)})})(this,new Ze(Oe.ABORTED,"Firestore shutting down"))}};function sT(){return new Tl(n=>XT(n),uv)}function ID(n,t){return j(this,null,function*(){let e=Qt(n),i=3,r=t.query,o=e.queries.get(r);o?!o.Sa()&&t.ba()&&(i=2):(o=new hb,i=t.ba()?0:1);try{switch(i){case 0:o.ya=yield e.onListen(r,!0);break;case 1:o.ya=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(s){let a=Wb(s,`Initialization of query '${Jd(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,o),o.wa.push(t),t.va(e.onlineState),o.ya&&t.Ca(o.ya)&&Gb(e)})}function CD(n,t){return j(this,null,function*(){let e=Qt(n),i=t.query,r=3,o=e.queries.get(i);if(o){let s=o.wa.indexOf(t);s>=0&&(o.wa.splice(s,1),o.wa.length===0?r=t.ba()?0:1:!o.Sa()&&t.ba()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})}function f7(n,t){let e=Qt(n),i=!1;for(let r of t){let o=r.query,s=e.queries.get(o);if(s){for(let a of s.wa)a.Ca(r)&&(i=!0);s.ya=r}}i&&Gb(e)}function p7(n,t,e){let i=Qt(n),r=i.queries.get(t);if(r)for(let o of r.wa)o.onError(e);i.queries.delete(t)}function Gb(n){n.Da.forEach(t=>{t.next()})}var pb,aT;(aT=pb||(pb={})).Fa="default",aT.Cache="cache";var X0=class{constructor(t,e,i){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){let i=[];for(let r of t.docChanges)r.type!==3&&i.push(r);t=new ph(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;let i=e!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;let e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=ph.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==pb.Cache}};var J0=class{constructor(t){this.key=t}},Q0=class{constructor(t){this.key=t}},mb=class{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=bn(),this.mutatedKeys=bn(),this.Xa=JT(t),this.eu=new K0(this.Xa)}get tu(){return this.Ha}nu(t,e){let i=e?e.ru:new Y0,r=e?e.eu:this.eu,o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((h,g)=>{let _=r.get(h),p=dv(this.query,g)?g:null,P=!!_&&this.mutatedKeys.has(_.key),O=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),N=!1;_&&p?_.data.isEqual(p.data)?P!==O&&(i.track({type:3,doc:p}),N=!0):this.iu(_,p)||(i.track({type:2,doc:p}),N=!0,(l&&this.Xa(p,l)>0||c&&this.Xa(p,c)<0)&&(a=!0)):!_&&p?(i.track({type:0,doc:p}),N=!0):_&&!p&&(i.track({type:1,doc:_}),N=!0,(l||c)&&(a=!0)),N&&(p?(s=s.add(p),o=O?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{eu:s,ru:i,Ds:a,mutatedKeys:o}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){let o=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;let s=t.ru.pa();s.sort((h,g)=>(function(p,P){let O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot(20277,{At:N})}};return O(p)-O(P)})(h.type,g.type)||this.Xa(h.doc,g.doc)),this.su(i),r=r!=null&&r;let a=e&&!r?this.ou():[],l=this.Za.size===0&&this.current&&!r?1:0,c=l!==this.Ya;return this.Ya=l,s.length!==0||c?{snapshot:new ph(this.query,t.eu,o,s,t.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Y0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];let t=this.Za;this.Za=bn(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});let e=[];return t.forEach(i=>{this.Za.has(i)||e.push(new Q0(i))}),this.Za.forEach(i=>{t.has(i)||e.push(new J0(i))}),e}uu(t){this.Ha=t.qs,this.Za=bn();let e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return ph.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Kb="SyncEngine",gb=class{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}},vb=class{constructor(t){this.key=t,this.lu=!1}},yb=class{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Tl(a=>XT(a),uv),this.Tu=new Map,this.Iu=new Set,this.du=new xi(Pt.comparator),this.Eu=new Map,this.Au=new kp,this.Ru={},this.Vu=new Map,this.mu=Pp.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function m7(n,t,e=!0){return j(this,null,function*(){let i=RD(n),r,o=i.Pu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=yield xD(i,t,e,!0),r})}function g7(n,t){return j(this,null,function*(){let e=RD(n);yield xD(e,t,!0,!1)})}function xD(n,t,e,i){return j(this,null,function*(){let r=yield ZV(n.localStore,Na(t)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,e),a;return i&&(a=yield v7(n,t,o,s==="current",r.resumeToken)),n.isPrimaryClient&&e&&_D(n.remoteStore,r),a})}function v7(n,t,e,i,r){return j(this,null,function*(){n.gu=(g,_,p)=>(function(O,N,R,Q){return j(this,null,function*(){let Z=N.view.nu(R);Z.Ds&&(Z=yield nT(O.localStore,N.query,!1).then(({documents:H})=>N.view.nu(H,Z)));let X=Q&&Q.targetChanges.get(N.targetId),he=Q&&Q.targetMismatches.get(N.targetId)!=null,_e=N.view.applyChanges(Z,O.isPrimaryClient,X,he);return cT(O,N.targetId,_e._u),_e.snapshot})})(n,g,_,p);let o=yield nT(n.localStore,t,!0),s=new mb(t,o.qs),a=s.nu(o.documents),l=Tp.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),c=s.applyChanges(a,n.isPrimaryClient,l);cT(n,e,c._u);let h=new gb(t,e,s);return n.Pu.set(t,h),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),c.snapshot})}function y7(n,t,e){return j(this,null,function*(){let i=Qt(n),r=i.Pu.get(t),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(s=>!uv(s,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Q2(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&zb(i.remoteStore,r.targetId),_b(i,r.targetId)}).catch(_h))):(_b(i,r.targetId),yield Q2(i.localStore,r.targetId,!0))})}function _7(n,t){return j(this,null,function*(){let e=Qt(n),i=e.Pu.get(t),r=e.Tu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),zb(e.remoteStore,i.targetId))})}function w7(n,t,e){return j(this,null,function*(){let i=x7(n);try{let r=yield(function(s,a){let l=Qt(s),c=Xi.now(),h=a.reduce((p,P)=>p.add(P.key),bn()),g,_;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let P=Dl(),O=bn();return l.Os.getEntries(p,h).next(N=>{P=N,P.forEach((R,Q)=>{Q.isValidDocument()||(O=O.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,P)).next(N=>{g=N;let R=[];for(let Q of a){let Z=IV(Q,g.get(Q.key).overlayedDocument);Z!=null&&R.push(new Pl(Q.key,Z,$T(Z.value.mapValue),Nu.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,R,a)}).next(N=>{_=N;let R=N.applyToLocalDocumentSet(g,O);return l.documentOverlayCache.saveOverlays(p,N.batchId,R)})}).then(()=>({batchId:_.batchId,changes:ZT(g)}))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(s,a,l){let c=s.Ru[s.currentUser.toKey()];c||(c=new xi(mn)),c=c.insert(a,l),s.Ru[s.currentUser.toKey()]=c})(i,r.batchId,e),yield Lp(i,r.changes),yield pv(i.remoteStore)}catch(r){let o=Wb(r,"Failed to persist write");e.reject(o)}})}function TD(n,t){return j(this,null,function*(){let e=Qt(n);try{let i=yield XV(e.localStore,t);t.targetChanges.forEach((r,o)=>{let s=e.Eu.get(o);s&&(Vn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?s.lu=!0:r.modifiedDocuments.size>0?Vn(s.lu,14607):r.removedDocuments.size>0&&(Vn(s.lu,42227),s.lu=!1))}),yield Lp(e,i,t)}catch(i){yield _h(i)}})}function lT(n,t,e){let i=Qt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){let r=[];i.Pu.forEach((o,s)=>{let a=s.view.va(t);a.snapshot&&r.push(a.snapshot)}),(function(s,a){let l=Qt(s);l.onlineState=a;let c=!1;l.queries.forEach((h,g)=>{for(let _ of g.wa)_.va(a)&&(c=!0)}),c&&Gb(l)})(i.eventManager,t),r.length&&i.hu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function b7(n,t,e){return j(this,null,function*(){let i=Qt(n);i.sharedClientState.updateQueryState(t,"rejected",e);let r=i.Eu.get(t),o=r&&r.key;if(o){let s=new xi(Pt.comparator);s=s.insert(o,ea.newNoDocument(o,nn.min()));let a=bn().add(o),l=new M0(nn.min(),new Map,new xi(mn),s,a);yield TD(i,l),i.du=i.du.remove(o),i.Eu.delete(t),Yb(i)}else yield Q2(i.localStore,t,!1).then(()=>_b(i,t,e)).catch(_h)})}function S7(n,t){return j(this,null,function*(){let e=Qt(n),i=t.batch.batchId;try{let r=yield YV(e.localStore,t);PD(e,i,null),DD(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Lp(e,r)}catch(r){yield _h(r)}})}function E7(n,t,e){return j(this,null,function*(){let i=Qt(n);try{let r=yield(function(s,a){let l=Qt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(g=>(Vn(g!==null,37113),h=g.keys(),l.mutationQueue.removeMutationBatch(c,g))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})})(i.localStore,t);PD(i,t,e),DD(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Lp(i,r)}catch(r){yield _h(r)}})}function DD(n,t){(n.Vu.get(t)||[]).forEach(e=>{e.resolve()}),n.Vu.delete(t)}function PD(n,t,e){let i=Qt(n),r=i.Ru[i.currentUser.toKey()];if(r){let o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ru[i.currentUser.toKey()]=r}}function _b(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(let i of n.Tu.get(t))n.Pu.delete(i),e&&n.hu.pu(i,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach(i=>{n.Au.containsKey(i)||kD(n,i)})}function kD(n,t){n.Iu.delete(t.path.canonicalString());let e=n.du.get(t);e!==null&&(zb(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),Yb(n))}function cT(n,t,e){for(let i of e)i instanceof J0?(n.Au.addReference(i.key,t),A7(n,i)):i instanceof Q0?(nt(Kb,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,t),n.Au.containsKey(i.key)||kD(n,i.key)):Ot(19791,{yu:i})}function A7(n,t){let e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Iu.has(i)||(nt(Kb,"New document in limbo: "+e),n.Iu.add(i),Yb(n))}function Yb(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let t=n.Iu.values().next().value;n.Iu.delete(t);let e=new Pt(fi.fromString(t)),i=n.mu.next();n.Eu.set(i,new vb(e)),n.du=n.du.insert(e,i),_D(n.remoteStore,new Dp(Na(Vb(e.path)),i,"TargetPurposeLimboResolution",Pb.ue))}}function Lp(n,t,e){return j(this,null,function*(){let i=Qt(n),r=[],o=[],s=[];i.Pu.isEmpty()||(i.Pu.forEach((a,l)=>{s.push(i.gu(l,t,e).then(c=>{var h;if((c||e)&&i.isPrimaryClient){let g=c?!c.fromCache:(h=e?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(c){r.push(c);let g=K2.Es(l.targetId,c);o.push(g)}}))}),yield Promise.all(s),i.hu.J_(r),yield(function(l,c){return j(this,null,function*(){let h=Qt(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>je.forEach(c,_=>je.forEach(_.Is,p=>h.persistence.referenceDelegate.addReference(g,_.targetId,p)).next(()=>je.forEach(_.ds,p=>h.persistence.referenceDelegate.removeReference(g,_.targetId,p)))))}catch(g){if(!wh(g))throw g;nt(Bb,"Failed to update sequence numbers: "+g)}for(let g of c){let _=g.targetId;if(!g.fromCache){let p=h.Fs.get(_),P=p.snapshotVersion,O=p.withLastLimboFreeSnapshotVersion(P);h.Fs=h.Fs.insert(_,O)}}})})(i.localStore,o))})}function I7(n,t){return j(this,null,function*(){let e=Qt(n);if(!e.currentUser.isEqual(t)){nt(Kb,"User change. New user:",t.toKey());let i=yield vD(e.localStore,t);e.currentUser=t,(function(o,s){o.Vu.forEach(a=>{a.forEach(l=>{l.reject(new Ze(Oe.CANCELLED,s))})}),o.Vu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Lp(e,i.Bs)}})}function C7(n,t){let e=Qt(n),i=e.Eu.get(t);if(i&&i.lu)return bn().add(i.key);{let r=bn(),o=e.Tu.get(t);if(!o)return r;for(let s of o){let a=e.Pu.get(s);r=r.unionWith(a.view.tu)}return r}}function RD(n){let t=Qt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=TD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=C7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=b7.bind(null,t),t.hu.J_=f7.bind(null,t.eventManager),t.hu.pu=p7.bind(null,t.eventManager),t}function x7(n){let t=Qt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=S7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=E7.bind(null,t),t}var ND=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return j(this,null,function*(){this.serializer=hv(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)})}Cu(e,i){return null}Fu(e,i){return null}vu(e){return KV(this.persistence,new X2,e.initialUser,this.serializer)}Du(e){return new B0(G2.Vi,this.serializer)}bu(e){return new Z2}terminate(){return j(this,null,function*(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),wb=class extends ND{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){Vn(this.persistence.referenceDelegate instanceof z0,46915);let i=this.persistence.referenceDelegate.garbageCollector;return new O2(i,t.asyncQueue,e)}Du(t){let e=this.cacheSizeBytes!==void 0?Is.withCacheSize(this.cacheSizeBytes):Is.DEFAULT;return new B0(i=>z0.Vi(i,e),this.serializer)}};var T7=(()=>{class n{initialize(e,i){return j(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I7.bind(null,this.syncEngine),yield h7(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return(function(){return new fb})()}createDatastore(e){let i=hv(e.databaseInfo.databaseId),r=(function(s){return new rb(s)})(e.databaseInfo);return(function(s,a,l,c){return new lb(s,a,l,c)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,s,a,l){return new ub(r,o,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,i=>lT(this.syncEngine,i,0),(function(){return q0.C()?new q0:new eb})())}createSyncEngine(e,i){return(function(o,s,a,l,c,h,g){let _=new yb(o,s,a,l,c,h);return g&&(_.fu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return j(this,null,function*(){var e,i;yield(function(o){return j(this,null,function*(){let s=Qt(o);nt(zu,"RemoteStore shutting down."),s.Ia.add(5),yield Mp(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var Z0=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Il("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}};var Lc="FirestoreClient",bb=class{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=_r.UNAUTHENTICATED,this.clientId=Ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,s=>j(this,null,function*(){nt(Lc,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(nt(Lc,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();let t=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>j(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){let i=Wb(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}};function Ww(n,t){return j(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),nt(Lc,"Initializing OfflineComponentProvider");let e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(r=>j(null,null,function*(){i.isEqual(r)||(yield vD(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener(()=>{Nc("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{nt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{Nc("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=t})}function uT(n,t){return j(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let e=yield D7(n);nt(Lc,"Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>oT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>oT(t.remoteStore,r)),n._onlineComponents=t})}function D7(n){return j(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){nt(Lc,"Using user provided OfflineComponentProvider");try{yield Ww(n,n._uninitializedComponentsProvider._offline)}catch(t){let e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===Oe.FAILED_PRECONDITION||r.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Nc("Error using user provided cache. Falling back to memory cache: "+e),yield Ww(n,new ND)}}else nt(Lc,"Using default OfflineComponentProvider"),yield Ww(n,new wb(void 0));return n._offlineComponents})}function OD(n){return j(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(nt(Lc,"Using user provided OnlineComponentProvider"),yield uT(n,n._uninitializedComponentsProvider._online)):(nt(Lc,"Using default OnlineComponentProvider"),yield uT(n,new T7))),n._onlineComponents})}function P7(n){return OD(n).then(t=>t.syncEngine)}function MD(n){return j(this,null,function*(){let t=yield OD(n),e=t.eventManager;return e.onListen=m7.bind(null,t.syncEngine),e.onUnlisten=y7.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=g7.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=_7.bind(null,t.syncEngine),e})}function k7(n,t,e={}){let i=new Zs;return n.asyncQueue.enqueueAndForget(()=>j(null,null,function*(){return(function(o,s,a,l,c){let h=new Z0({next:_=>{h.Ou(),s.enqueueAndForget(()=>CD(o,g));let p=_.docs.has(a);!p&&_.fromCache?c.reject(new Ze(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&_.fromCache&&l&&l.source==="server"?c.reject(new Ze(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(_)},error:_=>c.reject(_)}),g=new X0(Vb(a.path),h,{includeMetadataChanges:!0,ka:!0});return ID(o,g)})(yield MD(n),n.asyncQueue,t,e,i)})),i.promise}function R7(n,t,e={}){let i=new Zs;return n.asyncQueue.enqueueAndForget(()=>j(null,null,function*(){return(function(o,s,a,l,c){let h=new Z0({next:_=>{h.Ou(),s.enqueueAndForget(()=>CD(o,g)),_.fromCache&&l.source==="server"?c.reject(new Ze(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(_)},error:_=>c.reject(_)}),g=new X0(a,h,{includeMetadataChanges:!0,ka:!0});return ID(o,g)})(yield MD(n),n.asyncQueue,t,e,i)})),i.promise}function LD(n){let t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}var dT=new Map;var FD="firestore.googleapis.com",hT=!0,ev=class{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Ze(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FD,this.ssl=hT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:hT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HV)throw new Ze(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LD((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ze(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ze(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ze(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},mh=class{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ze(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Gw;switch(i.type){case"firstParty":return new Jw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ze(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return j(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){let i=dT.get(e);i&&(nt("ComponentProvider","Removing Datastore"),dT.delete(e),i.terminate())})(this),Promise.resolve()}};function VD(n,t,e,i={}){var r;n=Lu(n,mh);let o=yc(t),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${t}:${e}`;o&&(qg(`https://${l}`),Hg("Firestore",!0)),s.host!==FD&&s.host!==l&&Nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:i});if(!xa(c,a)&&(n._setSettings(c),i.mockUserToken)){let h,g;if(typeof i.mockUserToken=="string")h=i.mockUserToken,g=_r.MOCK_USER;else{h=FI(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ze(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new _r(_)}n._authCredentials=new Kw(new C0(h,g))}}var gh=class n{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new n(this.firestore,t,this._query)}},Vr=class n{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n(this.firestore,t,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Op(e,n._jsonSchema))return new n(t,i||null,new Pt(fi.fromString(e.referencePath)))}};Vr._jsonSchemaVersion="firestore/documentReference/1.0",Vr._jsonSchema={type:Yi("string",Vr._jsonSchemaVersion),referencePath:Yi("string")};var Dc=class n extends gh{constructor(t,e,i){super(t,e,Vb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Vr(this.firestore,null,new Pt(t))}withConverter(t){return new n(this.firestore,t,this._path)}};function jD(n,t,...e){if(n=yr(n),_T("collection","path",t),n instanceof mh){let i=fi.fromString(t,...e);return Px(i),new Dc(n,null,i)}{if(!(n instanceof Vr||n instanceof Dc))throw new Ze(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(fi.fromString(t,...e));return Px(i),new Dc(n.firestore,null,i)}}function UD(n,t,...e){if(n=yr(n),arguments.length===1&&(t=Ep.newId()),_T("doc","path",t),n instanceof mh){let i=fi.fromString(t,...e);return Dx(i),new Vr(n,null,new Pt(i))}{if(!(n instanceof Vr||n instanceof Dc))throw new Ze(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(fi.fromString(t,...e));return Dx(i),new Vr(n.firestore,n instanceof Dc?n.converter:null,new Pt(i))}}var fT="AsyncQueue",tv=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new H0(this,"async_queue_retry"),this.oc=()=>{let i=Hw();i&&nt(fT,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;let e=Hw();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let e=Hw();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let e=new Zs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return j(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!wh(t))throw t;nt(fT,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let e=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,Il("INTERNAL UNHANDLED ERROR: ",pT(i)),i}).then(i=>(this.nc=!1,i))));return this._c=e,e}enqueueAfterDelay(t,e,i){this.ac(),this.sc.indexOf(t)>-1&&(e=0);let r=db.createAndSchedule(this,t,e,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&Ot(47125,{hc:pT(this.tc)})}verifyOperationInProgress(){}Pc(){return j(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(let e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let e=this.ec.indexOf(t);this.ec.splice(e,1)}};function pT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}var vh=class extends mh{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new tv,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return j(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new tv(t),this._firestoreClient=void 0,yield t}})}};function BD(n,t){let e=typeof n=="object"?n:Au(),i=typeof n=="string"?n:t||k0,r=zd(e,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=LI("firestore");o&&VD(r,...o)}return r}function Xb(n){if(n._terminated)throw new Ze(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||N7(n),n._firestoreClient}function N7(n){var t,e,i;let r=n._freezeSettings(),o=(function(a,l,c,h){return new n2(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LD(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new bb(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}var Pc=class n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new n(Jr.fromBase64String(t))}catch(e){throw new Ze(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new n(Jr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Op(t,n._jsonSchema))return n.fromBase64String(t.bytes)}};Pc._jsonSchemaVersion="firestore/bytes/1.0",Pc._jsonSchema={type:Yi("string",Pc._jsonSchemaVersion),bytes:Yi("string")};var Rp=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ze(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var nv=class{constructor(t){this._methodName=t}};var kc=class n{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ze(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ze(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return mn(this._lat,t._lat)||mn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(t){if(Op(t,n._jsonSchema))return new n(t.latitude,t.longitude)}};kc._jsonSchemaVersion="firestore/geoPoint/1.0",kc._jsonSchema={type:Yi("string",kc._jsonSchemaVersion),latitude:Yi("number"),longitude:Yi("number")};var Rc=class n{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Op(t,n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new n(t.vectorValues);throw new Ze(Oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Rc._jsonSchemaVersion="firestore/vectorValue/1.0",Rc._jsonSchema={type:Yi("string",Rc._jsonSchemaVersion),vectorValues:Yi("object")};var O7=/^__.*__$/,Sb=class{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Pl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Bu(t,this.data,e,this.fieldTransforms)}};function zD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot(40011,{Ec:n})}}var Eb=class n{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new n(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;let i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.fc(t),r}gc(t){var e;let i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return iv(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(zD(this.Ec)&&O7.test(t))throw this.wc('Document fields cannot begin and end with "__"')}},Ab=class{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||hv(t)}Dc(t,e,i,r=!1){return new Eb({Ec:t,methodName:e,bc:i,path:ts.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function $D(n){let t=n._freezeSettings(),e=hv(n._databaseId);return new Ab(n._databaseId,!!t.ignoreUndefinedProperties,e)}function M7(n,t,e,i,r,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,t,e,r);WD("Data must be an object, but it was:",s,i);let a=qD(i,s),l,c;if(o.merge)l=new ka(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let g of o.mergeFields){let _=F7(t,g,e);if(!s.contains(_))throw new Ze(Oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);j7(h,_)||h.push(_)}l=new ka(h),c=s.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,c=s.fieldTransforms;return new Sb(new Qs(a),l,c)}function L7(n,t,e,i=!1){return Jb(e,n.Dc(i?4:3,t))}function Jb(n,t){if(HD(n=yr(n)))return WD("Unsupported field value:",t,n),qD(n,t);if(n instanceof nv)return(function(i,r){if(!zD(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(i,r){let o=[],s=0;for(let a of i){let l=Jb(a,r.yc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=yr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wV(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Xi.fromDate(i);return{timestampValue:j0(r.serializer,o)}}if(i instanceof Xi){let o=new Xi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:j0(r.serializer,o)}}if(i instanceof kc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pc)return{bytesValue:cD(r.serializer,i._byteString)};if(i instanceof Vr){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ub(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Rc)return(function(s,a){return{mapValue:{fields:{[Nb]:{stringValue:Ob},[oh]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return jb(a.serializer,c)})}}}}}})(i,r);throw r.wc(`Unsupported field value: ${av(i)}`)})(n,t)}function qD(n,t){let e={};return MT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$u(n,(i,r)=>{let o=Jb(r,t.Vc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function HD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xi||n instanceof kc||n instanceof Pc||n instanceof Vr||n instanceof nv||n instanceof Rc)}function WD(n,t,e){if(!HD(e)||!wT(e)){let i=av(e);throw i==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+i)}}function F7(n,t,e){if((t=yr(t))instanceof Rp)return t._internalPath;if(typeof t=="string")return GD(n,t);throw iv("Field path arguments must be of type string or ",n,!1,void 0,e)}var V7=new RegExp("[~\\*/\\[\\]]");function GD(n,t,e){if(t.search(V7)>=0)throw iv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Rp(...t.split("."))._internalPath}catch{throw iv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function iv(n,t,e,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new Ze(Oe.INVALID_ARGUMENT,a+n+l)}function j7(n,t){return n.some(e=>e.isEqual(t))}var rv=class{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new Ib(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(Qb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},Ib=class extends rv{data(){return super.data()}};function Qb(n,t){return typeof t=="string"?GD(n,t):t instanceof Rp?t._internalPath:t._delegate._internalPath}function U7(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ze(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Np=class{},Cb=class extends Np{};function KD(n,t,...e){let i=[];t instanceof Np&&i.push(t),i=i.concat(e),(function(o){let s=o.filter(l=>l instanceof xb).length,a=o.filter(l=>l instanceof ov).length;if(s>1||s>0&&a>0)throw new Ze(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(let r of i)n=r._apply(n);return n}var ov=class n extends Cb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new n(t,e,i)}_apply(t){let e=this._parse(t);return XD(t._query,e),new gh(t.firestore,t.converter,m2(t._query,e))}_parse(t){let e=$D(t.firestore);return(function(o,s,a,l,c,h,g){let _;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ze(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gT(g,h);let P=[];for(let O of g)P.push(mT(l,o,O));_={arrayValue:{values:P}}}else _=mT(l,o,g)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gT(g,h),_=L7(a,s,g,h==="in"||h==="not-in");return Ki.create(c,h,_)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}};function YD(n,t,e){let i=t,r=Qb("where",n);return ov._create(r,i,e)}var xb=class n extends Np{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new n(t,e)}_parse(t){let e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:ta.create(e,this._getOperator())}_apply(t){let e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let s=r,a=o.getFlattenedFilters();for(let l of a)XD(s,l),s=m2(s,l)})(t._query,e),new gh(t.firestore,t.converter,m2(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function mT(n,t,e){if(typeof(e=yr(e))=="string"){if(e==="")throw new Ze(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YT(t)&&e.indexOf("/")!==-1)throw new Ze(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);let i=t.path.child(fi.fromString(e));if(!Pt.isDocumentKey(i))throw new Ze(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Fx(n,new Pt(i))}if(e instanceof Vr)return Fx(n,e._key);throw new Ze(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${av(e)}.`)}function gT(n,t){if(!Array.isArray(n)||n.length===0)throw new Ze(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function XD(n,t){let e=(function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new Ze(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ze(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}var Tb=class{convertValue(t,e="none"){switch(Oc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(xl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ot(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){let i={};return $u(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;let o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[oh].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>hi(s.doubleValue));return new Rc(o)}convertGeoPoint(t){return new kc(hi(t.latitude),hi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":let i=cv(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Cp(t));default:return null}}convertTimestamp(t){let e=Cl(t);return new Xi(e.seconds,e.nanos)}convertDocumentKey(t,e){let i=fi.fromString(t);Vn(mD(i),9688,{name:t});let r=new R0(i.get(1),i.get(3)),o=new Pt(i.popFirst(5));return r.isEqual(e)||Il(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}};function B7(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}var Ru=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Ou=class n extends rv{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let i=this._document.data.field(Qb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,e={};return e.type=n._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}};Ou._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ou._jsonSchema={type:Yi("string",Ou._jsonSchemaVersion),bundleSource:Yi("string","DocumentSnapshot"),bundleName:Yi("string"),bundle:Yi("string")};var nh=class extends Ou{data(t={}){return super.data(t)}},ih=class n{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ru(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new nh(this._firestore,this._userDataWriter,i.key,i,new Ru(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ze(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let l=new nh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ru(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new nh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ru(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,h=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:z7(a.type),doc:l,oldIndex:c,newIndex:h}})}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=n._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function z7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot(61501,{type:n})}}function JD(n){n=Lu(n,Vr);let t=Lu(n.firestore,vh);return k7(Xb(t),n._key).then(e=>q7(t,n,e))}ih._jsonSchemaVersion="firestore/querySnapshot/1.0",ih._jsonSchema={type:Yi("string",ih._jsonSchemaVersion),bundleSource:Yi("string","QuerySnapshot"),bundleName:Yi("string"),bundle:Yi("string")};var sv=class extends Tb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pc(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vr(this.firestore,null,e)}};function QD(n){n=Lu(n,gh);let t=Lu(n.firestore,vh),e=Xb(t),i=new sv(t);return U7(n._query),R7(e,n._query).then(r=>new ih(t,i,n,r))}function ZD(n,t,e){n=Lu(n,Vr);let i=Lu(n.firestore,vh),r=B7(n.converter,t,e);return $7(i,[M7($D(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Nu.none())])}function $7(n,t){return(function(i,r){let o=new Zs;return i.asyncQueue.enqueueAndForget(()=>j(null,null,function*(){return w7(yield P7(i),r,o)})),o.promise})(Xb(n),t)}function q7(n,t,e){let i=e.docs.get(t._key),r=new sv(n);return new Ou(n,r,t._key,i,new Ru(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){yh=r})(wc),Ys(new vo("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new vh(new Yw(i.getProvider("auth-internal")),new Qw(s,i.getProvider("app-check-internal")),(function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ze(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new R0(c.options.projectId,h)})(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ci(Ix,Cx,t),Ci(Ix,Cx,"esm2017")})();var Fi=class{constructor(t){return t}},eP="firestore",Zb=class{constructor(){return qd(eP)}};var eS=new Gt("angularfire2.firestore-instances");function H7(n,t){let e=rp(eP,n,t);return e&&new Fi(e)}function W7(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new Fi(i)}}var G7={provide:Zb,deps:[[new ys,eS]]},K7={provide:Fi,useFactory:H7,deps:[[new ys,eS],yl]};function tP(n,...t){return Ci("angularfire",bc.full,"fst"),vs([K7,G7,{provide:eS,useFactory:W7(n),multi:!0,deps:[di,Hr,Sc,Cu,[new ys,gp],[new ys,Hd],...t]}])}var nP=lr(jD,!0,2);var ci=lr(UD,!0,2);var jr=lr(JD,!0);var iP=lr(QD,!0);var rP=lr(BD,!0);var oP=lr(KD,!0,2);var Qr=lr(ZD,!0,2);var sP=lr(YD,!0,2);var Yn=class n{firestore=Ne(Fi);platformId=Ne(vn);saveAdminInfo(t,e){return j(this,null,function*(){if(!Vt(this.platformId))return;let i=ci(this.firestore,`admin-info/${t}`);return Qr(i,wn(ze({},e),{uid:t}),{merge:!0})})}getAdminInfo(t){return j(this,null,function*(){if(!Vt(this.platformId))return null;let e=ci(this.firestore,`admin-info/${t}`),i=yield jr(e);return i.exists()?i.data():null})}getAdminInfoByUsername(t){return j(this,null,function*(){if(!Vt(this.platformId))return null;let e=oP(nP(this.firestore,"admin-info"),sP("username","==",t)),i=yield iP(e);if(i.empty)return null;let r=i.docs[0];return ze({uid:r.id},r.data())})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var Y7=(n,t,e,i)=>({"fa-linkedin":n,"fa-github":t,"fa-facebook":e,"fa-twitter":i}),X7=(n,t)=>t.platform;function J7(n,t){if(n&1&&(E(0,"a",24),ve(1,"i",25),A()),n&2){let e=t.$implicit;le("href",e.url,Dt),U(),le("ngClass",hc(2,Y7,e.platform.toLowerCase()==="linkedin",e.platform.toLowerCase()==="github",e.platform.toLowerCase()==="facebook",e.platform.toLowerCase()==="twitter"))}}function Q7(n,t){if(n&1&&(E(0,"div",23),sn(1,J7,2,7,"a",24,X7),A()),n&2){let e=Re();U(),an(e.info.socialLinks)}}var mv=class n{constructor(t,e,i){this.viewportScroller=t;this.userState=e;this.adminInfoService=i;fn(()=>{let r=this.userState.uid();r&&this.loadData(r)})}info=null;about=null;destroy$=new Nt;loadData(t){return j(this,null,function*(){this.info=yield this.adminInfoService.getAdminInfo(t)})}get firstWords(){return this.info?.mainJobTitle?this.info.mainJobTitle.split(" ").slice(0,-1).join(" "):""}get lastWord(){if(!this.info?.mainJobTitle)return"";let t=this.info.mainJobTitle.split(" ");return t[t.length-1]}onClick(t){this.viewportScroller.scrollToAnchor(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)(ie(_A),ie(ln),ie(Yn))};static \u0275cmp=Qe({type:n,selectors:[["app-hero-section"]],decls:36,vars:6,consts:[[1,"header-section","min-h-screen","flex","flex-col","lg:flex-row","items-center","justify-between","bg-cover","bg-center","bg-no-repeat","relative","px-4","py-10","lg:py-0","pt-[100px]","lg:pt-[80px]",2,"background-image","url('img/background-header.jpg')"],[1,"left-info","hidden","lg:flex","flex-col","items-center","justify-between","h-[70%]","px-3","text-lg","gap-6"],["src","img/image1.png","alt","image1",1,"cursor-pointer","w-5"],[1,"writing-vertical-rl"],[3,"href"],[1,"writing-vertical-rl",3,"click"],["src","img/image2.png","alt","",1,"cursor-pointer","w-10",3,"click"],[1,"flex","flex-col","lg:flex-row","items-center","lg:items-start","gap-10","w-full"],[1,"header-image","text-center","w-full","order-1","lg:order-2"],["loading","lazy","alt","Header Image",1,"w-full","max-w-[260px]","sm:max-w-[340px]","md:max-w-[450px]","lg:w-[80%]","xl:w-[70%]","mx-auto",3,"src"],[1,"center-content","pt-[50px]","xl:ps-10","lg:text-left","text-center","flex-grow","w-full","lg:w-2/3","order-2","lg:order-1"],[1,"availability","mb-4"],[1,"lg:text-[1.4rem]","text-[1.2rem]","pb-4","inline-block","border-b","border-gray-300"],[1,"fa-solid","fa-arrow-right","px-2","-rotate-45"],[1,"overflow-hidden"],["appInView","",1,"font-bold","text-[3rem]","sm:text-[4rem]","md:text-[6rem]","leading-tight","from-top"],[1,"job-title"],[1,"video-play","flex","items-center","justify-center","lg:justify-start","my-5"],["src","img/image3.png","alt","",1,"mx-2","animate-rotate"],[1,"fa-solid","fa-play","mx-4","flex","justify-center","items-center","border","border-white","rounded-full","w-12","h-12","p-2","outline","outline-2","outline-white","animate-playvideo"],[1,"mx-2","mt-2","text-lg"],[1,"right-info","hidden","lg:flex","flex-col","items-center","justify-between","h-[70%]","px-3","text-lg","gap-6"],["src","img/image2.png","alt","",1,"cursor-pointer","w-10"],[1,"flex","flex-col","items-center","gap-7","social-media"],["target","_blank",1,"px-2",3,"href"],[1,"fa-brands",3,"ngClass"]],template:function(e,i){e&1&&(E(0,"header")(1,"div",0)(2,"div",1),ve(3,"img",2),E(4,"span",3)(5,"a",4),$(6),A()(),E(7,"span",5),ye("click",function(){return i.onClick("information")}),$(8,"SCROLL DOWN"),A(),E(9,"img",6),ye("click",function(){return i.onClick("information")}),A()(),E(10,"div",7)(11,"div",8),ve(12,"img",9),A(),E(13,"div",10)(14,"div",11)(15,"p",12),$(16," Currently Available For Freelance Worldwide "),ve(17,"i",13),A()(),E(18,"div",14)(19,"h1",15),$(20),ve(21,"br"),E(22,"span",16),$(23),A()()(),E(24,"div",17),ve(25,"img",18)(26,"i",19),E(27,"p",20),$(28,"Work "),ve(29,"br"),$(30,"Process"),A()()()(),E(31,"div",21)(32,"span",3),$(33,"FOLLOW ME"),A(),ve(34,"img",22),Lt(35,Q7,3,0,"div",23),A()()()),e&2&&(U(5),le("href","tel:"+(i.info==null?null:i.info.phone),Dt),U(),et("+",i.info==null?null:i.info.phone),U(6),le("src",i.info==null?null:i.info.profileImage,Dt),U(8),et(" ",i.firstWords),U(3),gt(i.lastWord),U(12),Ft(!(i.info==null||i.info.socialLinks==null)&&i.info.socialLinks.length?35:-1))},dependencies:[zt,Ea,Rn],styles:[".writing-vertical-rl[_ngcontent-%COMP%]{writing-mode:vertical-rl;text-orientation:mixed;-ms-writing-mode:tb-rl}.left-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .right-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:color var(--transition) ease;cursor:pointer}.left-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover, .right-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--primaryColor)}.job-title[_ngcontent-%COMP%]{color:transparent;-webkit-text-stroke:.5px var(--primaryColor);background:linear-gradient(to right,var(--primaryColor) 50%,transparent 50%);background-size:200% auto;background-clip:text;-webkit-background-clip:text;animation:_ngcontent-%COMP%_change 3s infinite alternate ease-in-out}@supports not (-webkit-text-stroke: .5px var(--blackColor)){.job-title[_ngcontent-%COMP%]{color:var(--primaryColor);background:none}}.availability[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border-bottom:.1px solid var(--borderColor, #ccc)}@keyframes _ngcontent-%COMP%_change{0%{background-position:0% 0%}to{background-position:100% 0%}}@keyframes _ngcontent-%COMP%_playvideo{0%{outline:2px solid white;outline-offset:0px}to{outline-offset:30px;outline:0px}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(15deg)}}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}.animate-playvideo[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_playvideo 2s infinite ease-in-out}.animate-rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 2s infinite alternate ease-in-out}.animate-zoomIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomIn 1s ease}.social-media[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .4s ease}.social-media[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--primaryColor);transform:scale(1.3)}"]})};var Po=class n{firestore=Ne(Fi);platformId=Ne(vn);saveProjects(t,e){return j(this,null,function*(){if(!Vt(this.platformId))return;let i=ci(this.firestore,`admin-projects/${t}`);return Qr(i,e,{merge:!0})})}getProjects(t){return j(this,null,function*(){if(!Vt(this.platformId))return null;let e=ci(this.firestore,`admin-projects/${t}`),i=yield jr(e);return i.exists()?i.data():{projects:[]}})}getProjectById(t,e){return j(this,null,function*(){if(!Vt(this.platformId))return null;let i=ci(this.firestore,`admin-projects/${t}`),r=yield jr(i);return r.exists()&&(r.data()?.projects||[]).find(l=>l.id===e)||null})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var Z7=(n,t,e)=>["/portfolio",n,"project-details",t,e],ej=n=>["/portfolio",n,"projects"];function tj(n,t){if(n&1){let e=mt();E(0,"div",10)(1,"div",11),ye("click",function(){$e(e);let r=Re(2);return qe(r.scrollToTop())}),E(2,"div",12),ve(3,"img",13),A(),E(4,"div",14)(5,"div")(6,"span"),$(7,"Project"),A(),E(8,"p",15),$(9),A()(),E(10,"div",16),ve(11,"i",17),A()()()()}if(n&2){let e=t.$implicit,i=Re(2);U(),le("routerLink",Jm(4,Z7,i.username,e==null?null:e.id,i.uid)),U(2),le("src",e==null?null:e.gallery[0],Dt)("alt",e==null?null:e.projectTitle),U(6),gt(e==null?null:e.projectTitle)}}function nj(n,t){if(n&1&&(E(0,"div",8),sn(1,tj,12,8,"div",10,Fr),A()),n&2){let e=Re();U(),an(e.projectsList==null||e.projectsList.projects==null?null:e.projectsList.projects.slice(0,3))}}function ij(n,t){if(n&1){let e=mt();E(0,"a",18),ye("click",function(){$e(e);let r=Re();return qe(r.scrollToTop())}),E(1,"div",19),ve(2,"i",20),E(3,"span",21),$(4,"More Projects"),A()()()}if(n&2){let e=Re();le("routerLink",qs(1,ej,e.username))}}var gv=class n{constructor(t,e){this.userState=t;this.adminProjectService=e;fn(()=>{if(this.destroyed)return;let i=this.userState.uid();this.username=t.username(),i&&(this.dataLoaded&&this.uid===i||(this.uid=i,this.dataLoaded=!0,this.loadData(this.uid)))})}projectsList=null;info=null;username=null;uid=null;destroyed=!1;dataLoaded=!1;loadData(t){return j(this,null,function*(){this.projectsList=yield this.adminProjectService.getProjects(t)})}scrollToTop(){window.scrollTo({top:0})}ngOnDestroy(){this.destroyed=!0}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Po))};static \u0275cmp=Qe({type:n,selectors:[["app-home-projects"]],decls:13,vars:2,consts:[[1,"home-projects","overflow-hidden"],[1,"text-center","px-2","py-5","lg:px-20","lg:py-10","title-section"],[1,"flex","items-center","justify-center"],[1,"border-t-2","w-16","mx-3","title-line"],[1,"md:text-2xl","font-semibold"],[1,"mx-auto","px-4","md:px-20","lg:text-[2rem]","sm:text-[1.4rem]","text-[1rem]"],[1,"work-section","w-full","my-10"],[1,"container","mx-auto","px-4","lg:px-20"],[1,"flex","flex-wrap","-mx-3"],[3,"routerLink"],[1,"w-full","md:w-1/2","lg:w-1/3","px-3","mb-6","overflow-hidden"],["appInView","",1,"work-content","work-image-click","flex","flex-col","justify-between","h-full","from-left",3,"click","routerLink"],[1,"w-full","aspect-[4/3]","overflow-hidden","rounded-md"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"flex","justify-between","items-center","pt-4"],[1,"my-2"],[1,"work-icon","p-3","rounded-md","bg-gray-100"],[1,"fa-solid","fa-arrow-up"],[3,"click","routerLink"],[1,"circle-button","m-auto","my-3","flex","flex-col","justify-center","items-center"],[1,"fa-solid","fa-arrow-right","mx-2"],[1,"capitalize"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"div",1)(2,"div",2),ve(3,"div",3),E(4,"h2",4),$(5,"projects"),A(),ve(6,"div",3),A(),E(7,"p",5),$(8," Look at my portfolio "),A()(),E(9,"div",6)(10,"div",7),Lt(11,nj,3,0,"div",8),A()(),Lt(12,ij,5,3,"a",9),A()),e&2&&(U(11),Ft(!(i.projectsList==null||i.projectsList.projects==null)&&i.projectsList.projects.length?11:-1),U(),Ft((i.projectsList==null||i.projectsList.projects==null?null:i.projectsList.projects.length)>2?12:-1))},dependencies:[Hi,Rn],encapsulation:2})};var Ji=class n{firestore=Ne(Fi);platformId=Ne(vn);saveAbout(t,e){return j(this,null,function*(){if(!Vt(this.platformId))return;let i=ci(this.firestore,`admin-about/${t}`);return Qr(i,e,{merge:!0})})}getAbout(t){return j(this,null,function*(){if(!Vt(this.platformId))return null;let e=ci(this.firestore,`admin-about/${t}`),i=yield jr(e);return i.exists()?i.data():null})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var La=class n{firestore=Ne(Fi);platformId=Ne(vn);saveServices(t,e){return j(this,null,function*(){if(!Vt(this.platformId))return;let i=ci(this.firestore,`admin-services/${t}`);return Qr(i,e,{merge:!0})})}getServices(t){return j(this,null,function*(){if(!Vt(this.platformId))return null;let e=ci(this.firestore,`admin-services/${t}`),i=yield jr(e);return i.exists()?i.data():null})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var rj=n=>["/portfolio",n,"services"];function oj(n,t){if(n&1&&(E(0,"div")(1,"h3",6)(2,"span",7),$(3),A(),$(4),A(),E(5,"p",8),$(6),A()()),n&2){let e=t.$implicit,i=t.$index;U(3),et("0",i+1),U(),et(" ",e==null?null:e.title," "),U(2),et(" ",e==null?null:e.description," ")}}var Vc=class n{constructor(t,e,i){this.userState=t;this.adminAboutService=e;this.adminServices=i;fn(()=>{if(this.destroyed)return;let r=this.userState.uid();this.username=t.username(),r&&(this.dataLoaded&&this.currentUid===r||(this.currentUid=r,this.dataLoaded=!0,this.loadData(r)))})}username=null;about=null;data=null;destroyed=!1;dataLoaded=!1;currentUid=null;loadData(t){return j(this,null,function*(){this.about=yield this.adminAboutService.getAbout(t),this.data=yield this.adminServices.getServices(t)})}scrollToTop(){window.scrollTo({top:0})}ngOnDestroy(){this.destroyed=!0}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Ji),ie(La))};static \u0275cmp=Qe({type:n,selectors:[["app-home-services"]],decls:15,vars:4,consts:[[1,"py-20","my-10","container","mx-auto","px-6","grid","lg:grid-cols-2","gap-16","items-start"],[1,"span-color","font-medium","tracking-wide","mb-3"],[1,"lg:text-5xl","sm:lg:text-3xl","text-2xl","font-bold","leading-tight","mb-6"],[1,"leading-relaxed","mb-10"],["appInView","",1,"px-10","py-3","zoom-in",3,"click","routerLink"],[1,"space-y-14"],[1,"flex","items-center","gap-3","lg:text-3xl","font-semibold","mb-4"],[1,"span-color","font-bold","text-2xl"],[1,"leading-relaxed"]],template:function(e,i){e&1&&(E(0,"section",0)(1,"div")(2,"p",1),$(3,"Expertise"),A(),E(4,"h2",2),$(5," My key areas of"),ve(6,"br"),$(7," expertise. "),A(),E(8,"p",3),$(9),A(),E(10,"button",4),ye("click",function(){return i.scrollToTop()}),$(11," View All Services "),A()(),E(12,"div",5),sn(13,oj,7,3,"div",null,Gr),A()()),e&2&&(U(9),et(" ",i.about==null?null:i.about.mainDescription," "),U(),le("routerLink",qs(2,rj,i.username)),U(3),an(i.data==null||i.data.services==null?null:i.data.services.slice(0,2)))},dependencies:[Hi,Rn],styles:["section[_ngcontent-%COMP%]{background-color:var(--sectionColor)}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Georgia,Times New Roman,Times,serif}section[_ngcontent-%COMP%]   .span-color[_ngcontent-%COMP%]{color:var(--primaryColor)}"]})};var sj=(n,t,e,i,r)=>({width:n,transform:t,transition:e,"padding-left":i,"padding-right":r}),aj=(n,t,e,i)=>({width:n,"margin-left":t,"margin-right":e,left:i}),lj=(n,t)=>({$implicit:n,index:t}),hP=(n,t)=>t.id;function cj(n,t){}function uj(n,t){if(n&1&&tt(0,cj,0,0,"ng-template",3),n&2){let e=Re(),i=e.$implicit,r=e.$index,o=Re();le("ngTemplateOutlet",i.tplRef)("ngTemplateOutletContext",Xm(2,lj,o.preparePublicSlide(i),r))}}function dj(n,t){if(n&1){let e=mt();E(0,"div",2),ye("animationend",function(){let r=$e(e).$implicit,o=Re();return qe(o.clear(r.id))}),Lt(1,uj,1,5,null,3),A()}if(n&2){let e=t.$implicit;le("ngClass",e.classes)("ngStyle",hc(4,aj,e.width+"px",e.marginL?e.marginL+"px":"",e.marginR?e.marginR+"px":"",e.left))("@autoHeight",e.heightState),U(),Ft(e.load?1:-1)}}var hj=(n,t,e,i,r)=>({"owl-rtl":n,"owl-loaded":t,"owl-responsive":e,"owl-drag":i,"owl-grab":r}),fj=(n,t)=>({isMouseDragable:n,isTouchDragable:t}),vv=n=>({disabled:n}),pj=(n,t)=>({active:n,"owl-dot-text":t});function mj(n,t){if(n&1&&(E(0,"div",2),ve(1,"owl-stage",3),A()),n&2){let e,i=Re();U(),le("owlDraggable",Xm(3,fj,(e=i.owlDOMData())==null?null:e.isMouseDragable,(e=i.owlDOMData())==null?null:e.isTouchDragable))("stageData",i.stageData())("slidesData",i.slidesData())}}function gj(n,t){if(n&1){let e=mt();E(0,"div",9),ye("click",function(){let r=$e(e).$implicit,o=Re(2);return qe(o.moveByDot(r.id))}),ve(1,"span",10),A()}if(n&2){let e=t.$implicit;le("ngClass",Xm(2,pj,e.active,e.showInnerContent)),U(),le("innerHTML",e.innerContent,zm)}}function vj(n,t){if(n&1){let e=mt();E(0,"div",4)(1,"div",5),ye("click",function(){$e(e);let r=Re();return qe(r.prev())}),A(),E(2,"div",6),ye("click",function(){$e(e);let r=Re();return qe(r.next())}),A()(),E(3,"div",7),sn(4,gj,2,5,"div",8,hP),A()}if(n&2){let e,i,r,o,s,a,l,c=Re();le("ngClass",qs(6,vv,(e=c.navData())==null?null:e.disabled)),U(),le("ngClass",qs(8,vv,(i=c.navData())==null||i.prev==null?null:i.prev.disabled))("innerHTML",(r=c.navData())==null||r.prev==null?null:r.prev.htmlText,zm),U(),le("ngClass",qs(10,vv,(o=c.navData())==null||o.next==null?null:o.next.disabled))("innerHTML",(s=c.navData())==null||s.next==null?null:s.next.htmlText,zm),U(),le("ngClass",qs(12,vv,(a=c.dotsData())==null?null:a.disabled)),U(),an((l=c.dotsData())==null?null:l.dots)}}var nS=class{items=3;skip_validateItems=!1;loop=!1;center=!1;rewind=!1;mouseDrag=!0;touchDrag=!0;pullDrag=!0;freeDrag=!1;margin=0;stagePadding=0;merge=!1;mergeFit=!0;autoWidth=!1;startPosition=0;rtl=!1;smartSpeed=250;fluidSpeed=!1;dragEndSpeed=!1;responsive={};responsiveRefreshRate=200;nav=!1;navText=["prev","next"];navSpeed=!1;slideBy=1;dots=!0;dotsEach=!1;dotsData=!1;dotsSpeed=!1;autoplay=!1;autoplayTimeout=5e3;autoplayHoverPause=!1;autoplaySpeed=!1;autoplayMouseleaveTimeout=1;lazyLoad=!1;lazyLoadEager=0;slideTransition="";animateOut=!1;animateIn=!1;autoHeight=!1;URLhashListener=!1;constructor(){}},iS=class{items="number";skip_validateItems="boolean";loop="boolean";center="boolean";rewind="boolean";mouseDrag="boolean";touchDrag="boolean";pullDrag="boolean";freeDrag="boolean";margin="number";stagePadding="number";merge="boolean";mergeFit="boolean";autoWidth="boolean";startPosition="number|string";rtl="boolean";smartSpeed="number";fluidSpeed="boolean";dragEndSpeed="number|boolean";responsive={};responsiveRefreshRate="number";nav="boolean";navText="string[]";navSpeed="number|boolean";slideBy="number|string";dots="boolean";dotsEach="number|boolean";dotsData="boolean";dotsSpeed="number|boolean";autoplay="boolean";autoplayTimeout="number";autoplayHoverPause="boolean";autoplaySpeed="number|boolean";autoplayMouseleaveTimeout="number";lazyLoad="boolean";lazyLoadEager="number";slideTransition="string";animateOut="string|boolean";animateIn="string|boolean";autoHeight="boolean";URLhashListener="boolean";constructor(){}},oS=(()=>{class n{errorHandler;constructor(e){this.errorHandler=e}log(e,...i){bf()&&console.log(e,...i)}error(e){this.errorHandler.handleError(e)}warn(e,...i){console.warn(e,...i)}static \u0275fac=function(i){return new(i||n)(_t(yf))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();var fP=(function(n){return n.Event="event",n.State="state",n})(fP||{}),yv=(function(n){return n.Default="default",n.Inner="inner",n.Outer="outer",n})(yv||{});var kl=(()=>{class n{logger;_viewSettingsShipper$=new Nt;_initializedCarousel$=new Nt;_changeSettingsCarousel$=new Nt;_changedSettingsCarousel$=new Nt;_translateCarousel$=new Nt;_translatedCarousel$=new Nt;_resizeCarousel$=new Nt;_resizedCarousel$=new Nt;_refreshCarousel$=new Nt;_refreshedCarousel$=new Nt;_dragCarousel$=new Nt;_draggedCarousel$=new Nt;settings={items:0};owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1};stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0};slidesData;navData;dotsData;_width;_items=[];_widths=[];_supress={};_plugins={};_current=null;_clones=[];_mergers=[];_speed=null;_coordinates=[];_breakpoint=null;clonedIdPrefix="cloned-";_options={};_invalidated={};get invalidated(){return this._invalidated}_states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};get states(){return this._states}_pipe=[{filter:["width","items","settings"],run:e=>{e.current=this._items&&this._items[this.relative(this._current)]?.id()}},{filter:["width","items","settings"],run:e=>{let i=this.settings.margin||"",r=!this.settings.autoWidth,o=this.settings.rtl,s={"margin-left":o?i:"","margin-right":o?"":i};r||this.slidesData.forEach(a=>{a.marginL=s["margin-left"],a.marginR=s["margin-right"]}),e.css=s}},{filter:["width","items","settings"],run:e=>{let i=+(this.width()/(this.settings.items||1)).toFixed(3)-(this.settings.margin||0),r=!this.settings.autoWidth,o=[],s=0,a=this._items.length;for(e.items={merge:!1,width:i};a-- >0;)s=this._mergers[a]||1,s=this.settings.mergeFit&&Math.min(s,this.settings.items||1)||s,e.items.merge=s>1||e.items.merge,o[a]=r?i*s:this._items[a].width()?this._items[a].width():i;this._widths=o,this.slidesData.forEach((l,c)=>{l.width=this._widths[c],l.marginR=e.css["margin-right"],l.marginL=e.css["margin-left"]})}},{filter:["items","settings"],run:()=>{let e=[],i=this._items,r=this.settings,o=Math.max(r.items*2,4),s=Math.ceil(i.length/2)*2,a=[],l=[],c=r.loop&&i.length?r.rewind?o:Math.max(o,s):0;for(c/=2;c-- >0;)e.push(this.normalize(e.length/2,!0)),a.push(ze({},this.slidesData[e[e.length-1]])),e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),l.unshift(ze({},this.slidesData[e[e.length-1]]));this._clones=e,a=a.map(h=>wn(ze({},h),{id:`${this.clonedIdPrefix}${h.id}-append`,isActive:!1,isCloned:!0})),l=l.map(h=>wn(ze({},h),{id:`${this.clonedIdPrefix}${h.id}`,isActive:!1,isCloned:!0})),this.slidesData=l.concat(this.slidesData).concat(a)}},{filter:["width","items","settings"],run:()=>{let e=this.settings.rtl?1:-1,i=this._clones.length+this._items.length,r=[],o=-1,s=0,a=0;for(;++o<i;)s=r[o-1]||0,a=this._widths[this.relative(o)]+this.settings.margin,r.push(s+a*e);this._coordinates=r}},{filter:["width","items","settings"],run:()=>{let e=this.settings.stagePadding||0,i=this._coordinates,r={width:Math.ceil(Math.abs(i[i.length-1]))+e*2,"padding-left":e||"","padding-right":e||""};this.stageData.width=r.width,this.stageData.paddingL=r["padding-left"],this.stageData.paddingR=r["padding-right"]}},{filter:["width","items","settings"],run:e=>{let i=e.current?this.slidesData.findIndex(r=>r.id===e.current):0;i=Math.max(this.minimum(),Math.min(this.maximum(),i)),this.reset(i)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{let e=this.settings.rtl?1:-1,i=(this.settings.stagePadding||0)*2,r=[],o,s,a,l,c,h;if(o=this.coordinates(this.current()),typeof o=="number"?o+=i:o=0,s=o+this.width()*e,e===-1&&this.settings.center){let g=this._coordinates.filter(_=>(this.settings.items||1)%2===1?_>=o:_>o);o=g.length?g[g.length-1]:o}for(c=0,h=this._coordinates.length;c<h;c++)a=Math.ceil(this._coordinates[c-1]||0),l=Math.ceil(Math.abs(this._coordinates[c])+i*e),(this._op(a,"<=",o)&&this._op(a,">",s)||this._op(l,"<",o)&&this._op(l,">",s))&&r.push(c);this.slidesData.forEach(g=>(g.isActive=!1,g)),r.forEach(g=>{this.slidesData[g].isActive=!0}),this.settings.center&&(this.slidesData.forEach(g=>(g.isCentered=!1,g)),this.slidesData[this.current()]&&(this.slidesData[this.current()].isCentered=!0))}}];constructor(e){this.logger=e}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(e){let i=new nS,r=this._validateOptions(e,i);this._options=ze(ze({},i),r)}_validateOptions(e,i){let r=ze({},e),o=new iS,s=(a,l)=>(this.logger.log(`options.${l} must be type of ${a}; ${l}=${e[l]} skipped to defaults: ${l}=${i[l]}`),i[l]);for(let a in r)if(r.hasOwnProperty(a)){if(o[a]==="number")this._isNumeric(r[a])?(r[a]=+r[a],r[a]=a==="items"?this._validateItems(r[a],r.skip_validateItems):r[a]):r[a]=s(o[a],a);else if(o[a]==="boolean"&&typeof r[a]!="boolean")r[a]=s(o[a],a);else if(o[a]==="number|boolean"&&!this._isNumberOrBoolean(r[a]))r[a]=s(o[a],a);else if(o[a]==="number|string"&&!this._isNumberOrString(r[a]))r[a]=s(o[a],a);else if(o[a]==="string|boolean"&&!this._isStringOrBoolean(r[a]))r[a]=s(o[a],a);else if(o[a]==="string[]")if(Array.isArray(r[a])){let l=!1;r[a].forEach(c=>{l=typeof c=="string"}),l||(r[a]=s(o[a],a))}else r[a]=s(o[a],a)}return r}_validateItems(e,i){let r=e;return e>this._items.length?i?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(r=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):e===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),r}setCarouselWidth(e){this._width=e}setup(e,i,r){this.setCarouselWidth(e),this.setItems(i),this._defineSlidesData(),this.setOptions(r),this.settings=ze({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){let e=this._width,i=this._options.responsive||{},r=-1;if(!Object.keys(i).length)return;if(!e){this.settings.items=1;return}for(let s in i)i.hasOwnProperty(s)&&+s<=e&&+s>r&&(r=Number(s));this.settings=wn(ze(ze({},this._options),i[r]),{items:i[r]&&i[r].items?this._validateItems(i[r].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;let o=[];this._items.forEach(s=>{let a=this.settings.merge?s.dataMerge():1;o.push(a)}),this._mergers=o,this._breakpoint=r,this.invalidate("settings")}initialize(e){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),e.forEach(i=>{let r=this.settings.merge?i.dataMerge():1;this._mergers.push(r)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+(this.settings?.startPosition||0):0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let e=0,i=this._pipe.length,r=s=>this._invalidated[s],o={};for(;e<i;){let s=this._pipe[e].filter.filter(r);(this._invalidated.all||s.length>0)&&this._pipe[e].run(o),e++}this.slidesData.forEach(s=>s.classes=this.setCurSlideClasses(s)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(e){switch(e=e||yv.Default,e){case yv.Inner:case yv.Outer:return this._width;default:return this._width-(this.settings.stagePadding||0)*2+(this.settings.margin||0)}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(e){if(!this._items.length)return!1;this.setCarouselWidth(e),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(e){let i,r;return r=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),i={x:+r[0],y:+r[1]},this.is("animating")&&this.invalidate("position"),e.type==="mousedown"&&(this.owlDOMData.isGrab=!0),this.speed(0),i}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(e,i){let r,o,s=0,a=this.difference(i.pointer,this.pointer(e)),l=this.difference(i.stage.start,a);return this.is("dragging")?(this.settings.loop?(r=this.coordinates(this.minimum()),o=+this.coordinates(this.maximum()+1)-r,l.x=((l.x-r)%o+o)%o+r):(r=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),o=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*a.x/5:0,l.x=Math.max(Math.min(l.x,r+s),o+s)),l):!1}finishDragging(e,i,r){let o=["right","left"],s=this.difference(i.pointer,this.pointer(e)),a=i.stage.current,l=o[+(this.settings.rtl?s.x<+this.settings.rtl:s.x>+(this.settings.rtl||0))],c,h,g;(s.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(+(this.settings.dragEndSpeed||0)||this.settings.smartSpeed),c=this.closest(a.x,s.x!==0?l:i.direction),h=this.current(),g=this.current(c===-1?void 0:c),h!==g&&(this.invalidate("position"),this.update()),i.direction=l,(Math.abs(s.x)>3||new Date().getTime()-i.time>300)&&r()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(e,i){let o=this.width(),s=this.coordinates(),a=-1;this.settings.center&&(s=s.map(l=>(l===0&&(l+=1e-6),l)));for(let l=0;l<s.length&&(i==="left"&&e>s[l]-30&&e<s[l]+30?a=l:i==="right"&&e>s[l]-o-30&&e<s[l]-o+30?a=l+1:this._op(e,"<",s[l])&&this._op(e,">",s[l+1]||s[l]-o)?a=i==="left"?l+1:l:i===null&&e>s[l]-30&&e<s[l]+30&&(a=l),a===-1);l++);return this.settings.loop||(this._op(e,">",s[this.minimum()])?a=e=this.minimum():this._op(e,"<",s[this.maximum()])&&(a=e=this.maximum())),a}animate(e){let i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+e+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(e){return this._states.current[e]&&this._states.current[e]>0}current(e){if(e===void 0)return this._current;if(this._items.length!==0){if(e=this.normalize(e),this._current!==e){let i=this._trigger("change",{property:{name:"position",value:e}});this._current=e,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})}return this._current}}invalidate(e){return typeof e=="string"&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(e){e=this.normalize(e),e!==void 0&&(this._speed=0,this._current=e,this._suppress(["translate","translated"]),this.animate(this.coordinates(e)),this._release(["translate","translated"]))}normalize(e,i){let r=this._items.length,o=i?0:this._clones.length,s=e;return!this._isNumeric(e)||r<1?s=void 0:(e<0||e>=r+o)&&(s=((e-o/2)%r+r)%r+o/2),s}relative(e){return e-=this._clones.length/2,this.normalize(e,!0)}maximum(e=!1){let i=this.settings,r=this._coordinates.length,o,s,a;if(i.loop)r=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge){for(o=this._items.length,s=this.slidesData[--o].width,a=this._width;o-- >0&&(s+=+(this.slidesData[o].width||0)+(this.settings.margin||0),!(s>a)););r=o+1}else i.center?r=this._items.length-1:r=this._items.length-(i.items||1);return e&&(r-=this._clones.length/2),Math.max(r,0)}minimum(e=!1){return e?0:this._clones.length/2}items(e){return e===void 0?this._items.slice():(e=this.normalize(e,!0),[this._items[e]])}mergers(e){return e===void 0?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])}clones(e){let i=this._clones.length/2,r=i+this._items.length,o=s=>s%2===0?r+s/2:i-(s+1)/2;return e===void 0?this._clones.map((s,a)=>o(a)):this._clones.map((s,a)=>s===e?o(a):null).filter(s=>s!==null)}speed(e){return e!==void 0&&(this._speed=e),this._speed}coordinates(e){let i=1,r=(e||0)-1,o,s;return e===void 0?(s=this._coordinates.map((a,l)=>this.coordinates(l)),s):(this.settings.center?(this.settings.rtl&&(i=-1,r=e+1),o=this._coordinates[e],o+=(this.width()-o+(this._coordinates[r]||0))/2*i):o=this._coordinates[r]||0,o=Math.ceil(o),o)}_duration(e,i,r){return r===0?0:Math.min(Math.max(Math.abs(i-e),1),6)*Math.abs(+(r||0)||this.settings.smartSpeed||0)}to(e,i){let r=this.current(),o,s=e-this.relative(r),a=this.maximum(),l=0,c=+(s>0)-+(s<0),h=this._items.length,g=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>h/2&&(s+=c*-1*h),e=r+s,o=((e-g)%h+h)%h+g,o!==e&&o-s<=a&&o-s>0&&(r=o-s,e=o,l=30,this.reset(r),this.sendChanges())):this.settings.rewind?(a+=1,e=(e%a+a)%a):e=Math.max(g,Math.min(a,e)),setTimeout(()=>{this.speed(this._duration(r,e,i)),this.current(e),this.update()},l)}next(e){e=e||!1,this.to(this.relative(this.current())+1,e)}prev(e){e=e||!1,this.to(this.relative(this.current())-1,e)}onTransitionEnd(e){if(e!==void 0)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let e;return this._width?e=this._width:this.logger.log("Can not detect viewport width."),e}setItems(e){this._items=e}_defineSlidesData(){let e;this.slidesData&&this.slidesData.length&&(e=new Map,this.slidesData.forEach(i=>{i.load&&e.set(i.id,i.load)})),this.slidesData=this._items.map(i=>({id:`${i.id()}`,isActive:!1,tplRef:i.tplRef,dataMerge:i.dataMerge(),width:0,isCloned:!1,load:e?e.get(i.id()):!1,hashFragment:i.dataHash()}))}setCurSlideClasses(e){let i={active:e.isActive||!1,center:e.isCentered||!1,cloned:e.isCloned||!1,animated:e.isAnimated||!1,"owl-animated-in":e.isDefAnimatedIn||!1,"owl-animated-out":e.isDefAnimatedOut||!1};return this.settings.animateIn&&(i[this.settings.animateIn]=e.isCustomAnimatedIn||!1),this.settings.animateOut&&(i[this.settings.animateOut]=e.isCustomAnimatedOut||!1),i}_op(e,i,r){let o=this.settings.rtl;switch(i){case"<":return o?e>r:e<r;case">":return o?e<r:e>r;case">=":return o?e<=r:e>=r;case"<=":return o?e>=r:e<=r;default:break}return!1}_trigger(e,i,r,o,s){switch(e){case"initialized":this._initializedCarousel$.next(e);break;case"change":this._changeSettingsCarousel$.next(i);break;case"changed":this._changedSettingsCarousel$.next(i);break;case"drag":this._dragCarousel$.next(e);break;case"dragged":this._draggedCarousel$.next(e);break;case"resize":this._resizeCarousel$.next(e);break;case"resized":this._resizedCarousel$.next(e);break;case"refresh":this._refreshCarousel$.next(e);break;case"refreshed":this._refreshedCarousel$.next(e);break;case"translate":this._translateCarousel$.next(e);break;case"translated":this._translatedCarousel$.next(e);break;default:break}}enter(e){[e].concat(this._states.tags[e]||[]).forEach(i=>{this._states.current[i]===void 0&&(this._states.current[i]=0),this._states.current[i]++})}leave(e){[e].concat(this._states.tags[e]||[]).forEach(i=>{(this._states.current[i]===0||this._states.current[i])&&this._states.current[i]--})}register(e){e.type===fP.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=this._states.tags[e.name].filter((i,r)=>this._states.tags[e.name].indexOf(i)===r))}_suppress(e){e.forEach(i=>{this._supress[i]=!0})}_release(e){e.forEach(i=>{delete this._supress[i]})}pointer(e){let i={x:0,y:0};return e=e.originalEvent||e||window.event,e=e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e.pageX?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i}_isNumeric(e){return!isNaN(parseFloat(e))}_isNumberOrBoolean(e){return this._isNumeric(e)||typeof e=="boolean"}_isNumberOrString(e){return this._isNumeric(e)||typeof e=="string"}_isStringOrBoolean(e){return typeof e=="string"||typeof e=="boolean"}difference(e,i){return e===null||i===null?{x:0,y:0}:{x:e.x-i.x,y:e.y-i.y}}static \u0275fac=function(i){return new(i||n)(_t(oS))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),aP=(()=>{class n{carouselService;navSubscription;_initialized=!1;_pages=[];_navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}};_dotsData={disabled:!1,dots:[]};constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getInitializedState().pipe(Xt(s=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),i=this.carouselService.getChangedState().pipe(hr(s=>s.property.name==="position"),Xt(s=>{this.update()})),r=this.carouselService.getRefreshedState().pipe(Xt(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),o=_a(e,i,r);this.navSubscription=o.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let e,i,r,o=this.carouselService.clones().length/2,s=o+this.carouselService.items().length,a=this.carouselService.maximum(!0),l=[],c=this.carouselService.settings,h=c.center||c.autoWidth||c.dotsData?1:Math.floor(Number(c.dotsEach))||Math.floor(c.items);if(h=+h,c.slideBy!=="page"&&(c.slideBy=Math.min(+c.slideBy,c.items)),c.dots||c.slideBy==="page")for(e=o,i=0,r=0;e<s;e++){if(i>=h||i===0){if(l.push({start:Math.min(a,e-o),end:e-o+h-1}),Math.min(a,e-o)===a)break;i=0,++r}i+=this.carouselService.mergers(this.carouselService.relative(e))}this._pages=l}draw(){let e,i=this.carouselService.settings,r=this.carouselService.items(),o=r.length<=i.items;if(this._navData.disabled=!i.nav||o,this._dotsData.disabled=!i.dots||o,i.dots)if(e=this._pages.length-this._dotsData.dots.length,i.dotsData&&e!==0)this._dotsData.dots=[],r.forEach(s=>{this._dotsData.dots.push({active:!1,id:`dot-${s.id}`,innerContent:s.dotContent(),showInnerContent:!0})});else if(e>0){let s=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let a=0;a<e;a++)this._dotsData.dots.push({active:!1,id:`dot-${a+s}`,innerContent:"",showInnerContent:!1})}else e<0&&this._dotsData.dots.splice(e,Math.abs(e));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){let e=this.carouselService.settings,i=e.loop||e.rewind,r=this.carouselService.relative(this.carouselService.current());e.nav&&(this._navData.prev.disabled=!i&&r<=this.carouselService.minimum(!0),this._navData.next.disabled=!i&&r>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let e;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(i=>{i.active===!0&&(i.active=!1)}),e=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[e].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){let e=this.carouselService.relative(this.carouselService.current()),i,r=this._pages.filter((o,s)=>o.start<=e&&o.end>=e).pop();return i=this._pages.findIndex(o=>o.start===r.start&&o.end===r.end),i}_getPosition(e){let i,r,o=this.carouselService.settings;return o.slideBy==="page"?(i=this._current(),r=this._pages.length,e?++i:--i,i=this._pages[(i%r+r)%r].start):(i=this.carouselService.relative(this.carouselService.current()),r=this.carouselService.items().length,e?i+=+o.slideBy:i-=+o.slideBy),i}next(e){this.carouselService.to(this._getPosition(!0),e)}prev(e){this.carouselService.to(this._getPosition(!1),e)}to(e,i,r){let o;!r&&this._pages.length?(o=this._pages.length,this.carouselService.to(this._pages[(e%o+o)%o].start,i)):this.carouselService.to(e,i)}moveByDot(e){let i=this._dotsData.dots.findIndex(r=>e===r.id);this.to(i,this.carouselService.settings.dotsSpeed)}toSlideById(e){let i=this.carouselService.slidesData.findIndex(r=>r.id===e&&r.isCloned===!1);i===-1||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}static \u0275fac=function(i){return new(i||n)(_t(kl))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),sS=new Gt("WindowToken"),Vp=class{get nativeWindow(){throw new Error("Not implemented.")}},yj=(()=>{class n extends Vp{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();function _j(n,t){return Vt(t)?n.nativeWindow:{setTimeout:(i,r)=>{},clearTimeout:i=>{}}}var wj={provide:Vp,useClass:yj},bj={provide:sS,useFactory:_j,deps:[Vp,vn]},Sj=[wj,bj],_v=new Gt("DocumentToken"),jp=class{get nativeDocument(){throw new Error("Not implemented.")}},Ej=(()=>{class n extends jp{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();function Aj(n,t){return Vt(t)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}}var Ij={provide:jp,useClass:Ej},Cj={provide:_v,useFactory:Aj,deps:[jp,vn]},xj=[Ij,Cj],lP=(()=>{class n{carouselService;ngZone;autoplaySubscription;_timeout=null;_paused=!1;_isArtificialAutoplayTimeout;_isAutoplayStopped=!1;get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(e){this._isAutoplayStopped=e}winRef;docRef;constructor(e,i,r,o){this.carouselService=e,this.ngZone=o,this.winRef=i,this.docRef=r,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getInitializedState().pipe(Xt(()=>{this.carouselService.settings.autoplay&&this.play()})),i=this.carouselService.getChangedState().pipe(Xt(s=>{this._handleChangeObservable(s)})),r=this.carouselService.getResizedState().pipe(Xt(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),o=_a(e,i,r);this.autoplaySubscription=o.subscribe(()=>{})}play(e,i){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(e,i){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!e,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(i||this.carouselService.settings.autoplaySpeed)})},e||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(e){this._timeout=this._getNextTimeout(e)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(e){e.property.name==="settings"?this.carouselService.settings.autoplay?this.play():this.stop():e.property.name==="position"&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){Ct("translated").pipe(Mi(e=>this.carouselService.getTranslatedState()),gs(),hr(()=>this._isArtificialAutoplayTimeout),Xt(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}static \u0275fac=function(i){return new(i||n)(_t(kl),_t(sS),_t(_v),_t(di))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),cP=(()=>{class n{carouselService;lazyLoadSubscription;constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getInitializedState().pipe(Xt(()=>{let s=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(a=>a.load=!!s)})),i=this.carouselService.getChangeState(),r=this.carouselService.getResizedState(),o=_a(e,i,r).pipe(Xt(s=>this._defineLazyLoadSlides(s)));this.lazyLoadSubscription=o.subscribe(()=>{})}_defineLazyLoadSlides(e){if(!(!this.carouselService.settings||!this.carouselService.settings.lazyLoad)&&(e.property&&e.property.name==="position"||e==="initialized"||e==="resized")){let i=this.carouselService.settings,r=this.carouselService.clones().length,o=i.center&&Math.ceil(i.items/2)||i.items,s=i.center&&o*-1||0,a=(e.property&&e.property.value!==void 0?e.property.value:this.carouselService.current())+s;for(i.lazyLoadEager>0&&(o+=i.lazyLoadEager,i.loop&&(a-=i.lazyLoadEager,o++));s++<o;)this._load(r/2+this.carouselService.relative(a)),r&&this.carouselService.clones(this.carouselService.relative(a)).forEach(l=>this._load(l)),a++}}_load(e){this.carouselService.slidesData[e].load||(this.carouselService.slidesData[e].load=!0)}static \u0275fac=function(i){return new(i||n)(_t(kl))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),rS=(()=>{class n{carouselService;animateSubscription;swapping=!0;previous=void 0;next=void 0;constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getChangeState().pipe(Xt(c=>{c.property.name==="position"&&(this.previous=this.carouselService.current(),this.next=c.property.value)})),i=this.carouselService.getDragState(),r=this.carouselService.getDraggedState(),o=this.carouselService.getTranslatedState(),s=_a(i,r,o).pipe(Xt(c=>this.swapping=c==="translated")),a=this.carouselService.getTranslateState().pipe(Xt(c=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),l=_a(e,a,s).pipe();this.animateSubscription=l.subscribe(()=>{})}_swap(){if(this.carouselService.settings.items!==1)return;this.carouselService.speed(0);let e,i=this.carouselService.slidesData[this.previous],r=this.carouselService.slidesData[this.next],o=this.carouselService.settings.animateIn,s=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(s&&(e=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(a=>{a.id===i.id&&(a.left=`${e}px`,a.isAnimated=!0,a.isDefAnimatedOut=!0,a.isCustomAnimatedOut=!0)})),o&&this.carouselService.slidesData.forEach(a=>{a.id===r.id&&(a.isAnimated=!0,a.isDefAnimatedIn=!0,a.isCustomAnimatedIn=!0)}))}clear(e){this.carouselService.slidesData.forEach(i=>{i.id===e&&(i.left="",i.isAnimated=!1,i.isDefAnimatedOut=!1,i.isCustomAnimatedOut=!1,i.isDefAnimatedIn=!1,i.isCustomAnimatedIn=!1,i.classes=this.carouselService.setCurSlideClasses(i))}),this.carouselService.onTransitionEnd()}static \u0275fac=function(i){return new(i||n)(_t(kl))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),uP=(()=>{class n{carouselService;autoHeightSubscription;constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getInitializedState().pipe(Xt(s=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(a=>a.heightState="full")})),i=this.carouselService.getChangedState().pipe(Xt(s=>{this.carouselService.settings.autoHeight&&s.property.name==="position"&&this.update()})),r=this.carouselService.getRefreshedState().pipe(Xt(s=>{this.carouselService.settings.autoHeight&&this.update()})),o=_a(e,i,r);this.autoHeightSubscription=o.subscribe(()=>{})}update(){let e=this.carouselService.settings.items,i=this.carouselService.current(),r=i+e;this.carouselService.settings.center&&(i=e%2===1?i-(e-1)/2:i-e/2,r=e%2===1?i+e:i+e+1),this.carouselService.slidesData.forEach((o,s)=>{o.heightState=s>=i&&s<r?"full":"nulled"})}static \u0275fac=function(i){return new(i||n)(_t(kl))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),dP=(()=>{class n{carouselService;route;router;hashSubscription;currentHashFragment;constructor(e,i,r){this.carouselService=e,this.route=i,this.router=r,this.spyDataStreams(),this.route||(this.route={fragment:Ct("no route").pipe(cl(1))}),this.router||(this.router={navigate:(o,s)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){let e=this.carouselService.getInitializedState().pipe(Xt(()=>this.listenToRoute())),i=this.carouselService.getChangedState().pipe(Xt(o=>{if(this.carouselService.settings.URLhashListener&&o.property.name==="position"){let s=this.carouselService.current(),a=this.carouselService.slidesData[s].hashFragment;if(!a||a===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:a,relativeTo:this.route})}})),r=_a(e,i);this.hashSubscription=r.subscribe(()=>{})}rewind(e){let i=this.carouselService.slidesData.findIndex(r=>r.hashFragment===e&&r.isCloned===!1);i===-1||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}listenToRoute(){let e=this.carouselService.settings.startPosition==="URLHash"?0:2;this.route.fragment.pipe(hy(e)).subscribe(i=>{this.currentHashFragment=i,this.rewind(i)})}static \u0275fac=function(i){return new(i||n)(_t(kl),_t(go,8),_t(gr,8))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),Tj=0,aS=(()=>{class n{tplRef;id=Ss(`owl-slide-${Tj++}`);dataMerge=Ss(1,{transform:e=>+e||1});width=Ss(0);dotContent=Ss("");dataHash=Ss("");constructor(e){this.tplRef=e}isNumeric(e){return!isNaN(parseFloat(e))}static \u0275fac=function(i){return new(i||n)(ie(_f))};static \u0275dir=kn({type:n,selectors:[["ng-template","carouselSlide",""]],inputs:{id:[1,"id"],dataMerge:[1,"dataMerge"],width:[1,"width"],dotContent:[1,"dotContent"],dataHash:[1,"dataHash"]},standalone:!1})}return n})(),pP=(()=>{class n{resizeObservable$;docRef;get onResize$(){return this.resizeObservable$.pipe(hr(()=>!this.docRef?.fullscreenElement))}constructor(e,i,r){this.docRef=i,this.resizeObservable$=Vt(r)?RE(e,"resize"):new Nt().asObservable()}static \u0275fac=function(i){return new(i||n)(_t(sS),_t(_v),_t(vn))};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),Dj=(()=>{class n{zone;el;renderer;carouselService;animateService;owlDraggable=Ss();stageData=Ss();slidesData=Ss();listenerMouseMove;listenerTouchMove;listenerOneMouseMove;listenerOneTouchMove;listenerMouseUp;listenerTouchEnd;listenerOneClick;listenerATag;_drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1};_oneDragMove$=new Nt;_oneMoveSubsription;preparePublicSlide=e=>{let i=ze({},e);return delete i.tplRef,i};constructor(e,i,r,o,s){this.zone=e,this.el=i,this.renderer=r,this.carouselService=o,this.animateService=s}onMouseDown(e){this.owlDraggable()?.isMouseDragable&&this._onDragStart(e)}onTouchStart(e){if(e.targetTouches.length>=2)return!1;this.owlDraggable()?.isTouchDragable&&this._onDragStart(e)}onTouchCancel(e){this._onDragEnd(e)}onDragStart(){if(this.owlDraggable()?.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable()?.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe(gs()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}bindOneMouseTouchMove=e=>{this._oneMouseTouchMove(e)};bindOnDragMove=e=>{this._onDragMove(e)};bindOnDragEnd=e=>{this._onDragEnd(e)};_onDragStart(e){if(e.which===3)return;let i=this._prepareDragging(e);this._drag.time=new Date().getTime(),this._drag.target=e.target,this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this._pointer(e),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)})}_oneMouseTouchMove(e){let i=this._difference(this._drag.pointer,this._pointer(e));this.listenerATag&&this.listenerATag(),!(Math.abs(i.x)<3&&Math.abs(i.y)<3&&this._is("valid"))&&(Math.abs(i.x)<3&&Math.abs(i.x)<Math.abs(i.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(e),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),e.preventDefault(),this._enterDragging(),this._oneDragMove$.next(e)))}blockClickAnchorInDragging(e){let i=e.target;for(;i&&!(i instanceof HTMLAnchorElement);)i=i.parentElement;i instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(i,"click",()=>!1))}_onDragMove(e){let i,r=this.carouselService.defineNewCoordsDrag(e,this._drag);r!==!1&&(i=r,e.preventDefault(),this._drag.stage.current=i,this._animate(i.x-this._drag.stage.start.x))}_animate(e){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${e}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(e){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+(this.carouselService?.settings?.dragEndSpeed||0)||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(e),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(e){return this.carouselService.prepareDragging(e)}_oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()};_finishDragging(e){this.carouselService.finishDragging(e,this._drag,this._oneClickHandler)}_pointer(e){return this.carouselService.pointer(e)}_difference(e,i){return this.carouselService.difference(e,i)}_is(e){return this.carouselService.is(e)}_enter(e){this.carouselService.enter(e)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(e){this.animateService.clear(e)}static \u0275fac=function(i){return new(i||n)(ie(di),ie(sr),ie(Wr),ie(kl),ie(rS))};static \u0275cmp=Qe({type:n,selectors:[["owl-stage"]],hostBindings:function(i,r){i&1&&ye("mousedown",function(s){return r.onMouseDown(s)})("touchstart",function(s){return r.onTouchStart(s)})("touchcancel",function(s){return r.onTouchCancel(s)})("dragstart",function(){return r.onDragStart()})("selectstart",function(){return r.onSelectStart()})},inputs:{owlDraggable:[1,"owlDraggable"],stageData:[1,"stageData"],slidesData:[1,"slidesData"]},standalone:!1,decls:4,vars:7,consts:[[1,"owl-stage",3,"transitionend","ngStyle"],[1,"owl-item",3,"ngClass","ngStyle"],[1,"owl-item",3,"animationend","ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(E(0,"div")(1,"div",0),ye("transitionend",function(){return r.onTransitionEnd()}),sn(2,dj,2,9,"div",1,hP),A()()),i&2&&(U(),le("ngStyle",_y(1,sj,r.stageData().width+"px",r.stageData().transform,r.stageData().transition,r.stageData().paddingL?r.stageData().paddingL+"px":"",r.stageData().paddingR?r.stageData().paddingR+"px":"")),U(),an(r.slidesData()))},dependencies:[Ea,Dy,Ty],encapsulation:2,data:{animation:[Sy("autoHeight",[eg("nulled",Zm({height:0})),eg("full",Zm({height:"*"})),tg("full => nulled",[Qm("700ms 350ms")]),tg("nulled => full",[Qm(350)])])]}})}return n})(),mP=(()=>{class n{el;resizeService;carouselService;navigationService;autoplayService;lazyLoadService;animateService;autoHeightService;hashService;logger;changeDetectorRef;slides;translated=bd();dragging=bd();change=bd();changed=bd();initialized=bd();carouselWindowWidth;resizeSubscription;_allObservSubscription;_slidesChangesSubscription;_owlDOMData=li(null);owlDOMData=this._owlDOMData.asReadonly();_stageData=li(null);stageData=this._stageData.asReadonly();_slidesData=li([]);slidesData=this._slidesData.asReadonly();_navData=li(null);navData=this._navData.asReadonly();_dotsData=li(null);dotsData=this._dotsData.asReadonly();slidesOutputData;_carouselLoaded=li(!1);carouselLoaded=this._carouselLoaded.asReadonly();options=Ss();_options$=aC(this.options);_optionsPrevAndCur$;_viewCurSettings$;_translatedCarousel$;_draggingCarousel$;_changeCarousel$;_changedCarousel$;_initializedCarousel$;_carouselMerge$;docRef;constructor(e,i,r,o,s,a,l,c,h,g,_,p){this.el=e,this.resizeService=i,this.carouselService=r,this.navigationService=o,this.autoplayService=s,this.lazyLoadService=a,this.animateService=l,this.autoHeightService=c,this.hashService=h,this.logger=g,this.changeDetectorRef=_,this.docRef=p}onVisibilityChange(e){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause();break;default:break}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options()),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe(Xt(e=>{this.carouselService.setup(this.carouselWindowWidth,e.toArray(),this.options()),this.carouselService.initialize(e.toArray()),e.toArray().length||this._carouselLoaded.set(!1),e.toArray().length&&!this.resizeSubscription&&this._winResizeWatcher()})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe(Xt(e=>{this._owlDOMData.set(e.owlDOMData),this._stageData.set(e.stageData),this._slidesData.set(e.slidesData),this._carouselLoaded()||this._carouselLoaded.set(!0),this._navData.set(e.navData),this._dotsData.set(e.dotsData),this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe(Xt(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe(Xt(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe(Xt(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe(Mi(e=>{let i=Ct(e).pipe(hr(()=>e.property.name==="position"),Mi(()=>Mr(this._slidesData())),hy(e.property.value),cl(this.carouselService?.settings?.items||0),gn(r=>{let o=this.carouselService.clonedIdPrefix,s=r.id.indexOf(o)>=0?r.id.slice(o.length):r.id;return wn(ze({},r),{id:s,isActive:!0})}),NE(),gn(r=>({slides:r,startPosition:this.carouselService.relative(e.property.value)})));return _a(i)}),Xt(e=>{this.gatherTranslatedData(),this.changed.emit(e?.slides?.length?e:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe(Xt(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),Mi(()=>this.carouselService.getDraggedState().pipe(gn(()=>!!this.carouselService.is("animating")))),Mi(e=>e?this.carouselService.getTranslatedState().pipe(gs()):Ct("not animating")),Xt(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._optionsPrevAndCur$=this._options$.pipe(LE(),Xt(([e,i])=>{let r=this.slides.toArray();e&&(this.carouselService.setup(this.carouselWindowWidth,r,i),this.carouselService.initialize(r)),e&&!r.length&&(this.logger.log("There are no slides to show."),this._carouselLoaded.set(!1)),e||this._carouselLoaded.set(!1)})),this._carouselMerge$=_a(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$,this._optionsPrevAndCur$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService?._options?.responsive||{}).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe(hr(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),OE(this.carouselService.settings.responsiveRefreshRate||200)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this._carouselLoaded()&&this.navigationService.next(this.carouselService.settings.navSpeed||!1)}prev(){this._carouselLoaded()&&this.navigationService.prev(this.carouselService.settings.navSpeed||!1)}moveByDot(e){this._carouselLoaded()&&this.navigationService.moveByDot(e)}to(e){this._carouselLoaded()&&this.navigationService.toSlideById(e)}gatherTranslatedData(){let e,i=this.carouselService.clonedIdPrefix,r=this._slidesData().filter(o=>o.isActive===!0).map(o=>({id:o.id.indexOf(i)>=0?o.id.slice(i.length):o.id,width:o.width,marginL:o.marginL,marginR:o.marginR,center:o.isCentered}));e=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:e,slides:r}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}static \u0275fac=function(i){return new(i||n)(ie(sr),ie(pP),ie(kl),ie(aP),ie(lP),ie(cP),ie(rS),ie(uP),ie(dP),ie(oS),ie(Hs),ie(_v))};static \u0275cmp=Qe({type:n,selectors:[["owl-carousel-o"]],contentQueries:function(i,r,o){if(i&1&&Km(o,aS,4),i&2){let s;Kr(s=Yr())&&(r.slides=s)}},hostBindings:function(i,r){i&1&&ye("visibilitychange",function(s){return r.onVisibilityChange(s)},YE)},inputs:{options:[1,"options"]},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},standalone:!1,features:[bs([aP,lP,kl,cP,rS,uP,dP])],decls:4,vars:9,consts:[["owlCarousel",""],[1,"owl-carousel","owl-theme",3,"mouseover","mouseleave","touchstart","touchend","ngClass"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"click","ngClass","innerHTML"],[1,"owl-next",3,"click","ngClass","innerHTML"],[1,"owl-dots",3,"ngClass"],[1,"owl-dot",3,"ngClass"],[1,"owl-dot",3,"click","ngClass"],[3,"innerHTML"]],template:function(i,r){if(i&1){let o=mt();E(0,"div",1,0),ye("mouseover",function(){return $e(o),qe(r.startPausing())})("mouseleave",function(){return $e(o),qe(r.startPlayML())})("touchstart",function(){return $e(o),qe(r.startPausing())})("touchend",function(){return $e(o),qe(r.startPlayTE())}),Lt(2,mj,2,6,"div",2),Lt(3,vj,6,14),A()}if(i&2){let o;le("ngClass",_y(3,hj,(o=r.owlDOMData())==null?null:o.rtl,(o=r.owlDOMData())==null?null:o.isLoaded,(o=r.owlDOMData())==null?null:o.isResponsive,(o=r.owlDOMData())==null?null:o.isMouseDragable,(o=r.owlDOMData())==null?null:o.isGrab)),U(2),Ft(r.carouselLoaded()?2:-1),U(),Ft(r.slides.toArray().length?3:-1)}},dependencies:[Ea,Dj],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return n})();var gP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Bs({type:n});static \u0275inj=Us({providers:[Sj,pP,xj,oS],imports:[zt]})}return n})();var jc=class n{firestore=Ne(Fi);platformId=Ne(vn);saveTestimonials(t,e){return j(this,null,function*(){if(!Vt(this.platformId))return;let i=ci(this.firestore,`admin-testimonials/${t}`);return Qr(i,e,{merge:!0})})}getTestimonials(t){return j(this,null,function*(){if(!Vt(this.platformId))return null;let e=ci(this.firestore,`admin-testimonials/${t}`),i=yield jr(e);return i.exists()?i.data():null})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var kj=["owlCar"];function Rj(n,t){if(n&1&&(E(0,"div",10)(1,"p",11),$(2),A(),E(3,"div",12)(4,"div",13),ve(5,"img",14),A(),E(6,"div")(7,"h4",15),$(8),A(),E(9,"p",16),$(10),A()()()()),n&2){let e=Re().$implicit;U(2),gt(e==null?null:e.description),U(3),le("src",e==null?null:e.image,Dt),U(3),gt(e==null?null:e.name),U(2),gt(e==null?null:e.title)}}function Nj(n,t){if(n&1&&(zs(0),tt(1,Rj,11,4,"ng-template",9),$s()),n&2){let e=t.$index;U(),le("id","slide-"+e)}}var Fa=class n{constructor(t,e){this.userState=t;this._AdminTestimonials=e;fn(()=>{if(this.destroyed)return;let i=this.userState.uid();i&&(this.dataLoaded&&this.currentUid===i||(this.currentUid=i,this.dataLoaded=!0,this.loadData(i)))})}owlCar;data=null;destroyed=!1;dataLoaded=!1;currentUid=null;loadData(t){return j(this,null,function*(){this.data=yield this._AdminTestimonials.getTestimonials(t)})}carouselOptions={loop:!0,dots:!0,nav:!1,margin:20,autoplay:!0,autoplayTimeout:4e3,autoplayHoverPause:!0,dotsData:!0,responsive:{0:{items:1},600:{items:2},1024:{items:3}}};getDots(){return Array(3).fill("")}ngOnDestroy(){this.destroyed=!0;try{this.owlCar&&this.owlCar.autoplayInterval&&clearInterval(this.owlCar.autoplayInterval)}catch{}this.data=null}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(jc))};static \u0275cmp=Qe({type:n,selectors:[["app-testimonial"]],viewQuery:function(e,i){if(e&1&&ws(kj,5),e&2){let r;Kr(r=Yr())&&(i.owlCar=r.first)}},decls:14,vars:1,consts:[["owlCar",""],[1,"py-20","overflow-hidden",2,"background-color","var(--blackColor)"],["appInView","",1,"text-center","px-2","py-5","lg:px-20","title-section","from-top"],[1,"flex","items-center","justify-center"],[1,"border-t-2","w-16","mx-3","title-line"],[1,"md:text-2xl","font-semibold"],[1,"mx-auto","px-4","md:px-20","lg:text-[2rem]","sm:text-[1.4rem]","text-[1rem]"],[1,"container","mx-auto","px-6","pt-10"],[3,"options"],["carouselSlide","",3,"id"],[1,"testimonial-card","p-5","rounded-lg","h-full","flex","flex-col"],[1,"leading-relaxed","mb-6"],[1,"flex","items-center","gap-4","mt-auto"],[1,"w-14","h-14","md:w-16","md:h-16","lg:w-20","lg:h-20"],["alt","",1,"w-full","h-full","object-cover","rounded-full",3,"src"],[1,"font-semibold","text-lg"],[1,"text-sm"]],template:function(e,i){e&1&&(E(0,"section",1)(1,"div",2)(2,"div",3),ve(3,"div",4),E(4,"h2",5),$(5,"Testimonials"),A(),ve(6,"div",4),A(),E(7,"p",6),$(8," Reviews From Real Clients "),A()(),E(9,"div",7)(10,"owl-carousel-o",8,0),sn(12,Nj,2,1,"ng-container",null,Fr),A()()()),e&2&&(U(10),le("options",i.carouselOptions),U(2),an(i.data==null?null:i.data.testimonials))},dependencies:[gP,mP,aS,Rn],styles:[".testimonial-card[_ngcontent-%COMP%]{background-color:var(--sectionColor);display:flex;flex-direction:column;justify-content:space-between;height:100%}.testimonial-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--primaryColor)}  .owl-dots .owl-dot:nth-child(n+4){display:none!important}  .owl-dots{display:flex!important;justify-content:center;margin-top:20px}  .owl-dots .owl-dot span{width:12px!important;height:12px!important;background:#ccc!important;border-radius:50%;display:block;opacity:.8;transition:all .3s ease}  .owl-dots .owl-dot.active span{background:var(--primaryColor)!important}"]})};var Va=class n{firestore=Ne(Fi);platformId=Ne(vn);saveBlogs(t,e){return j(this,null,function*(){if(!Vt(this.platformId))return;let i=ci(this.firestore,`admin-blogs/${t}`);return Qr(i,e,{merge:!0})})}getBlogs(t){return j(this,null,function*(){if(!Vt(this.platformId))return null;let e=ci(this.firestore,`admin-blogs/${t}`),i=yield jr(e);return i.exists()?i.data():null})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var Oj=n=>["/portfolio",n,"blogs"];function Mj(n,t){if(n&1&&(E(0,"div",8)(1,"span",10),$(2),A(),E(3,"h3",11),$(4),A(),E(5,"p",12),$(6),A()()),n&2){let e=t.$implicit;U(2),gt(e==null?null:e.subtitle),U(2),et(" ",e==null?null:e.title," "),U(2),et(" ",e==null?null:e.description," ")}}function Lj(n,t){if(n&1){let e=mt();E(0,"a",13),ye("click",function(){$e(e);let r=Re();return qe(r.scrollToTop())}),E(1,"div",14),ve(2,"i",15),E(3,"span",16),$(4,"More Blogs"),A()()()}if(n&2){let e=Re();le("routerLink",qs(1,Oj,e.username))}}var Sh=class n{constructor(t,e){this.userState=t;this.adminBlogsService=e;fn(()=>{if(this.destroyed)return;this.username=t.username();let i=this.userState.uid();i&&(this.dataLoaded&&this.currentUid===i||(this.currentUid=i,this.dataLoaded=!0,this.loadData(i)))})}username=null;data=null;destroyed=!1;dataLoaded=!1;currentUid=null;loadData(t){return j(this,null,function*(){this.data=yield this.adminBlogsService.getBlogs(t)})}scrollToTop(){window.scrollTo({top:0})}ngOnDestroy(){this.destroyed=!0,this.data=null}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Va))};static \u0275cmp=Qe({type:n,selectors:[["app-home-blogs"]],decls:14,vars:1,consts:[[1,"blogs-section","py-20","overflow-hidden"],["appInView","",1,"text-center","px-2","py-5","lg:px-20","title-section","from-top"],[1,"flex","items-center","justify-center"],[1,"border-t-2","w-16","mx-3","title-line"],[1,"md:text-2xl","font-semibold"],[1,"mx-auto","px-4","md:px-20","lg:text-[2rem]","sm:text-[1.4rem]","text-[1rem]"],[1,"container","mx-auto","px-6","py-5"],[1,"grid","md:grid-cols-2","xl:grid-cols-3","gap-15","items-stretch"],["appInView","",1,"blog-item","h-full","flex","flex-col","zoom-in"],[3,"routerLink"],[1,"span-color","text-xl"],[1,"flex","items-center","gap-2","md:text-2xl","my-4"],[1,"leading-relaxed","mb-6","flex-grow"],[3,"click","routerLink"],[1,"circle-button","m-auto","my-3","flex","flex-col","justify-center","items-center"],[1,"fa-solid","fa-arrow-right","mx-2"],[1,"capitalize"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"div",1)(2,"div",2),ve(3,"div",3),E(4,"h2",4),$(5,"Recent blogs"),A(),ve(6,"div",3),A(),E(7,"p",5),$(8," Latest articles from my blog. "),A()(),E(9,"section",6)(10,"div",7),sn(11,Mj,7,3,"div",8,Fr),A()(),Lt(13,Lj,5,3,"a",9),A()),e&2&&(U(11),an(i.data==null||i.data.blogs==null?null:i.data.blogs.slice(0,3)),U(2),Ft((i.data==null||i.data.blogs==null?null:i.data.blogs.length)>=3?13:-1))},dependencies:[zt,Hi,Rn],styles:['.blogs-section[_ngcontent-%COMP%]{background-color:var(--sectionColor)}.blogs-section[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]{z-index:1;position:relative;background-color:transparent;transition:var(--transition);padding:20px}.blogs-section[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background-color:var(--blackColor);transition:.7s;z-index:-1;transform:scaleX(0)}.blogs-section[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background-color:var(--blackColor);transition:.7s;z-index:-1;transform:scaleY(0)}.blogs-section[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.blogs-section[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.blogs-section[_ngcontent-%COMP%]   .blog-item.style-two[_ngcontent-%COMP%]{margin-bottom:30px;padding:30px}.blogs-section[_ngcontent-%COMP%]   .blog-item.style-two[_ngcontent-%COMP%]:after{transform:scaleX(1)}.blogs-section[_ngcontent-%COMP%]   .blog-item.style-two[_ngcontent-%COMP%]:before{transform:scaleY(1)}.blogs-section[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Georgia,serif}.blogs-section[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]   .span-color[_ngcontent-%COMP%]{color:var(--primaryColor)}']})};var ja=class n{constructor(t,e){this.userState=t;this.adminInfoService=e;fn(()=>{if(this.destroyed)return;let i=this.userState.uid();i&&(this.dataLoaded&&this.currentUid===i||(this.currentUid=i,this.dataLoaded=!0,this.loadData(i)))})}info=null;destroyed=!1;dataLoaded=!1;currentUid=null;loadData(t){return j(this,null,function*(){this.info=yield this.adminInfoService.getAdminInfo(t)})}ngOnDestroy(){this.destroyed=!0,this.info=null}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Yn))};static \u0275cmp=Qe({type:n,selectors:[["app-home-data"]],decls:38,vars:13,consts:[[1,"data-section","py-20","bg-black"],[1,"flex","lg:flex-row","flex-col","justify-between"],[1,"text-center","px-2","py-5","lg:px-10","title-section","lg:w-[50%]","w-[100%]"],[1,"flex","items-center","justify-center"],[1,"border-t-2","w-16","mx-3","title-line"],[1,"md:text-2xl","font-semibold"],[1,"mx-auto","px-4","md:px-20","xl:text-[3rem]","sm:text-[2rem]","text-[1.4rem]"],[1,"max-w-xl","mx-auto","space-y-6","py-5","lg:w-[50%]","w-[100%]"],[1,"link-contact","flex","items-center","gap-4"],["target","_blank",3,"href"],[1,"p-3","rounded-full"],[1,"fa-solid","fa-envelope","text-black","text-xl"],[1,"text-lg","font-semibold"],["target","_blank",1,"text-sm","text-gray-300","hover:underline",3,"href"],[1,"fa-solid","fa-location-dot","text-black","text-xl"],[1,"fa-solid","fa-phone","text-black","text-xl"]],template:function(e,i){e&1&&($i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),uc(4,"div",4),$i(5,"h2",5),$(6,"Need a Project?"),qi(),uc(7,"div",4),qi(),$i(8,"p",6),$(9," Let's work together. fixed a meeting "),qi()(),$i(10,"div",7)(11,"div",8)(12,"a",9)(13,"div",10),uc(14,"i",11),qi()(),$i(15,"div")(16,"h3",12),$(17,"Email"),qi(),$i(18,"a",13),$(19),qi()()(),$i(20,"div",8)(21,"a",9)(22,"div",10),uc(23,"i",14),qi()(),$i(24,"div")(25,"h3",12),$(26,"Location"),qi(),$i(27,"a",13),$(28),qi()()(),$i(29,"div",8)(30,"a",9)(31,"div",10),uc(32,"i",15),qi()(),$i(33,"div")(34,"h3",12),$(35,"Phone"),qi(),$i(36,"a",13),$(37),qi()()()()()()),e&2&&(U(12),dc("href",hl("mailto:",i.info==null?null:i.info.email),Dt),U(6),dc("href",hl("mailto:",i.info==null?null:i.info.email),Dt),U(),et(" ",i.info==null?null:i.info.email," "),U(2),dc("href",i.info==null?null:i.info.location,Dt),U(6),dc("href",i.info==null?null:i.info.location,Dt),U(),et(" ",i.info==null?null:i.info.location," "),U(2),dc("href",hl("tel:",i.info==null?null:i.info.phone),Dt),U(6),dc("href",hl("tel:",i.info==null?null:i.info.phone),Dt),U(),et(" +",i.info==null?null:i.info.phone," "))},styles:["a[_ngcontent-%COMP%]{transition:color .3s ease}a[_ngcontent-%COMP%]:hover{color:var(--primaryColor)}.link-contact[_ngcontent-%COMP%]{border-bottom:.1px solid var(--borderColor);padding-bottom:20px}.link-contact[_ngcontent-%COMP%]   .rounded-full[_ngcontent-%COMP%]{background-color:var(--primaryColor)}"]})};var Fj=()=>[1,2,3];function Vj(n,t){if(n&1&&($i(0,"h2",3),uc(1,"i",4),$(2),qi()),n&2){let e=t.$implicit;U(2),et(" ",e," ")}}function jj(n,t){if(n&1&&($i(0,"div",2),sn(1,Vj,3,1,"h2",3,Gr),qi()),n&2){let e=Re();U(),an(e.info==null?null:e.info.relatedJobTitles)}}var Eh=class n{constructor(t,e){this.userState=t;this.adminInfoService=e;fn(()=>{let i=this.userState.uid();i&&this.loadData(i)})}info=null;destroy$=new Nt;loadData(t){return j(this,null,function*(){this.info=yield this.adminInfoService.getAdminInfo(t)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.info=null}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Yn))};static \u0275cmp=Qe({type:n,selectors:[["app-slider-titles"]],decls:4,vars:1,consts:[[1,"slider-container","bg-main-color","overflow-hidden","py-6"],[1,"slider-track","flex","animate-scroll-left"],[1,"slider-content","flex","items-center","gap-20","px-10"],[1,"lg:text-[2rem]","md:text-[1.7rem]","sm:text-[1.5rem]","text-[1.3rem]"],[1,"fa-solid","fa-square-check"]],template:function(e,i){e&1&&($i(0,"div",0)(1,"div",1),sn(2,jj,3,0,"div",2,Gr),qi()()),e&2&&(U(2),an(Gn(0,Fj)))},styles:[".slider-container[_ngcontent-%COMP%]{background-color:var(--primaryColor);color:var(--blackColor)}.slider-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:12px;white-space:nowrap;font-weight:700;font-family:Times New Roman,Times,serif}.slider-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}@keyframes _ngcontent-%COMP%_scroll-left{0%{transform:translate(0)}to{transform:translate(-66.66%)}}.slider-container[_ngcontent-%COMP%]   .animate-scroll-left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scroll-left 14s linear infinite}"]})};var Ah=class n{loading=new Oi(!1);isLoading$=this.loading.asObservable();show(){this.loading.next(!0)}hide(){this.loading.next(!1)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};function Uj(n,t){n&1&&(E(0,"div",1)(1,"div",2),ve(2,"div",3),A()())}var Ih=class n{constructor(t){this.loadingService=t}isLoading=!1;subscription;ngOnInit(){this.subscription=this.loadingService.isLoading$.subscribe(t=>{this.isLoading=t})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(e){return new(e||n)(ie(Ah))};static \u0275cmp=Qe({type:n,selectors:[["app-loading"]],decls:1,vars:1,consts:[["class","fixed inset-0 flex items-center justify-center bg-black z-[9999]",4,"ngIf"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-black","z-[9999]"],[1,"loader","relative","w-[108px]","h-4"],[1,"dot","absolute","w-4","h-4","bg-white","rounded-full","inset-0","m-auto","animate-move"]],template:function(e,i){e&1&&tt(0,Uj,3,0,"div",0),e&2&&le("ngIf",i.isLoading)},dependencies:[zt,Zn],styles:[".loader[_ngcontent-%COMP%]{background:radial-gradient(circle 8px at 8px center,var(--primaryColor) 100%,transparent 0),radial-gradient(circle 8px at 8px center,var(--primaryColor) 100%,transparent 0);background-size:16px 16px;background-repeat:no-repeat;animation:_ngcontent-%COMP%_ballX 4s linear infinite;position:relative}.loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveX 4s cubic-bezier(.5,3,.5,-3) infinite}@keyframes _ngcontent-%COMP%_ballX{0%,25%,50%,75%,to{background-position:25% 0,75% 0}40%{background-position:25% 0,85% 0}90%{background-position:15% 0,75% 0}}@keyframes _ngcontent-%COMP%_moveX{0%,to{transform:translate(0)}50%{transform:translate(40px)}}"]})};var Bj=()=>["."],zj=()=>({exact:!0}),$j=()=>["experience"],qj=()=>["education"],Hj=()=>["certification"];function Wj(n,t){n&1&&ve(0,"app-loading")}function Gj(n,t){n&1&&ve(0,"app-testimonial",10)}function Kj(n,t){if(n&1&&(E(0,"div"),ve(1,"app-hero-section")(2,"app-slider-titles"),E(3,"section")(4,"div",1)(5,"div",2),ve(6,"i",3),E(7,"p",4),$(8),A(),E(9,"nav",5)(10,"button",6),$(11,"Skills"),A(),E(12,"button",7),$(13,"Experience"),A(),E(14,"button",7),$(15,"Education"),A(),E(16,"button",7),$(17,"Certification"),A()(),E(18,"div",8),ve(19,"router-outlet"),A()()()(),ve(20,"app-home-projects")(21,"app-home-services"),tt(22,Gj,1,0,"app-testimonial",9),ve(23,"app-home-blogs")(24,"app-home-data"),A()),n&2){let e=Re();U(8),Ym(" I'm ",e.info==null?null:e.info.fullName,", ",e.about==null||e.about.mainDescription==null?null:e.about.mainDescription.split(" ").slice(0,30).join(" ")," "),U(2),le("routerLink",Gn(8,Bj))("routerLinkActiveOptions",Gn(9,zj)),U(2),le("routerLink",Gn(10,$j)),U(2),le("routerLink",Gn(11,qj)),U(2),le("routerLink",Gn(12,Hj)),U(6),le("ngIf",!e.isLoading())}}var wv=class n{constructor(t,e,i){this.userState=t;this.adminInfoService=e;this.adminAboutService=i;fn(()=>j(this,null,function*(){let r=this.userState.uid();if(!r)return;this.isLoading.set(!0);let[o,s]=yield Promise.all([this.adminInfoService.getAdminInfo(r),this.adminAboutService.getAbout(r)]);this.info=o,this.about=s,this.isLoading.set(!1)}))}info=null;about=null;isLoading=li(!0);static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Yn),ie(Ji))};static \u0275cmp=Qe({type:n,selectors:[["app-portfolio"]],decls:2,vars:2,consts:[[4,"ngIf"],["id","information",1,"information-section","py-10"],[1,"text-center","my-5","lg:px-10","px-3","description-info"],[1,"fa-brands","fa-cloudscale","text-[2rem]","md:text-[3rem]","py-3",2,"color","var(--primaryColor)"],[1,"md:text-[1.4rem]","lg:text-[1.6rem]"],[1,"info-nav","flex","flex-wrap","justify-center","gap-3","mb-8","py-10"],["routerLinkActive","active-link",1,"p-3",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","active-link",1,"p-3",3,"routerLink"],[1,"info-content","py-5","lg:w-[90%]","w-[100%]","mx-auto","rounded-lg"],["id","testimonial",4,"ngIf"],["id","testimonial"]],template:function(e,i){e&1&&tt(0,Wj,1,0,"app-loading",0)(1,Kj,25,13,"div",0),e&2&&(le("ngIf",i.isLoading()),U(),le("ngIf",!i.isLoading()))},dependencies:[mv,Eh,Gs,Hi,Qf,gv,Vc,Fa,Sh,ja,Ih,zt,Zn],styles:[".info-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--inputColor);color:var(--whiteColor);text-transform:uppercase;font-size:15px}.info-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:after{height:0px}.info-nav[_ngcontent-%COMP%]   .active-link[_ngcontent-%COMP%]{background-color:var(--primaryColor);color:var(--blackColor)}.info-content[_ngcontent-%COMP%]{background-color:var(--sectionColor)}"]})};function Yj(n,t){if(n&1&&(E(0,"p",5),$(1),A()),n&2){let e=Re();U(),et(" Hi, I'm ",e.username," ")}}function Xj(n,t){if(n&1&&(E(0,"span"),$(1),A(),$(2,", ")),n&2){let e=t.$implicit;U(),gt(e)}}var bv=class n{constructor(t,e,i){this.userState=t;this.adminAboutService=e;this.adminInfoService=i;fn(()=>{let r=this.userState.uid();this.username=this.userState.username(),r&&this.loadData(r)})}about=null;info=null;username=null;destroy$=new Nt;loadData(t){return j(this,null,function*(){let[e,i]=yield Promise.all([this.adminAboutService.getAbout(t),this.adminInfoService.getAdminInfo(t)]);this.about=e,this.info=i})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Ji),ie(Yn))};static \u0275cmp=Qe({type:n,selectors:[["app-about-portfolio"]],decls:34,vars:6,consts:[[1,"about-page","pt-20","overflow-hidden"],["appInView","",1,"text-center","px-2","py-5","lg:px-20","title-section","from-top"],[1,"flex","items-center","justify-center"],[1,"border-t-2","w-16","mx-3","title-line"],[1,"md:text-2xl","font-semibold"],[1,"mx-auto","px-4","md:px-20","font-semibold","lg:text-[3.5rem]","sm:text-[1.4rem]","text-[1rem]"],[1,"flex","lg:flex-row","flex-col","py-10","px-3"],[1,"lg:w-[50%]","w-[100%]","overflow-hidden"],["appInView","",1,"lg:text-[3.5rem]","md:text-[3rem]","px-5","from-bottom","sm:text-[2.5rem]","text-[1.6rem]","font-semibold"],["appInView","",1,"leading-relaxed","px-5","from-bottom"],[1,"xl:w-[30%]","lg:w-[40%]","sm:w-[60%]","w-[80%]","mx-auto","py-10"],["alt","image",1,"w-full",3,"src"],[1,"px-10","py-20"],[1,"px-10","pt-10","overflow-hidden"],[1,"md:text-[2rem]","text-[1.8rem]","font-medium",2,"color","var(--primaryColor)"],[1,"leading-relaxed","py-5"],[1,"px-10","py-10","overflow-hidden"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"div",1)(2,"div",2),ve(3,"div",3),E(4,"h2",4),$(5,"About"),A(),ve(6,"div",3),A(),Lt(7,Yj,2,1,"p",5),A(),E(8,"div",6)(9,"div",7)(10,"h2",8),sn(11,Xj,3,1,null,null,Gr),A()(),E(13,"div",7)(14,"p",9),$(15),A()()(),E(16,"div",10),ve(17,"img",11),A(),E(18,"div",12),ve(19,"app-slider-titles"),E(20,"div",13)(21,"h2",14),$(22,"How I Got Here"),A(),E(23,"p",15),$(24),A()(),E(25,"div",16)(26,"h2",14),$(27,"A Few More Words About Myself"),A(),E(28,"p",15),$(29),A(),E(30,"p",15),$(31),A()()(),ve(32,"app-home-services")(33,"app-testimonial"),A()),e&2&&(U(7),Ft(i.username?7:-1),U(4),an(i.about==null?null:i.about.inspiringWords),U(4),et(" ",i.about==null?null:i.about.mainDescription," "),U(2),le("src",i.info==null?null:i.info.profileImage,Dt),U(7),gt(i.about==null?null:i.about.howIGotHere),U(5),gt(i.about==null||i.about.additionalDescription==null?null:i.about.additionalDescription.paragraph1),U(2),gt(i.about==null||i.about.additionalDescription==null?null:i.about.additionalDescription.paragraph2))},dependencies:[Fa,Rn,Vc,Eh],encapsulation:2})};function Jj(n,t){if(n&1&&(E(0,"li",16),$(1),A()),n&2){let e=t.$implicit;U(),et(" ",e," ")}}function Qj(n,t){if(n&1&&(E(0,"div",11)(1,"h3",12)(2,"span",13),$(3),A(),$(4),A(),E(5,"p",14),$(6),A(),E(7,"ul",15),sn(8,Jj,2,1,"li",16,Fr),A()()),n&2){let e=t.$implicit,i=t.$index;U(3),et("0",i+1),U(),et(" ",e==null?null:e.title," "),U(2),et(" ",e==null?null:e.description," "),U(2),an(e==null?null:e.features)}}var Sv=class n{constructor(t,e,i){this.userState=t;this.adminAboutService=e;this.adminServices=i;fn(()=>{if(this.destroyed)return;let r=this.userState.uid();r&&(this.dataLoaded&&this.currentUid===r||(this.currentUid=r,this.dataLoaded=!0,this.loadData(r)))})}about=null;data=null;destroyed=!1;dataLoaded=!1;currentUid=null;loadData(t){return j(this,null,function*(){this.about=yield this.adminAboutService.getAbout(t),this.data=yield this.adminServices.getServices(t)})}scrollToTop(){window.scrollTo({top:0})}ngOnDestroy(){this.destroyed=!0}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Ji),ie(La))};static \u0275cmp=Qe({type:n,selectors:[["app-services-portfolio"]],decls:24,vars:1,consts:[[1,"services-page","py-10","overflow-hidden"],["appInView","",1,"title-section","text-center","px-2","py-5","lg:px-20","lg:py-10","from-top"],[1,"px-2","pt-5","mx-auto","text-white","capitalize","sm:text-[2rem]"],[1,"main-title-section","flex","justify-center"],[1,"md:text-2xl","font-semibold","text-white"],[1,"text-white"],[1,"container","mx-auto","pl-6","py-20"],[1,"grid","lg:grid-cols-2","gap-10","mb-16"],[1,"md:text-5xl","text-3xl","font-bold","leading-tight","lg:px-5"],[1,"leading-relaxed","text-lg","lg:pr-20"],[1,"grid","md:grid-cols-2","xl:grid-cols-3","gap-15","items-stretch"],["appInView","",1,"service-item","h-full","flex","flex-col","zoom-in"],[1,"flex","items-center","gap-2","text-2xl","font-semibold","mb-4"],[1,"span-color","font-bold","text-xl"],[1,"leading-relaxed","mb-6","flex-grow"],[1,"border-t","pt-3","space-y-3","mt-auto"],[1,"list-disc","ml-5","marker:text-[#11e2d1]"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"div",1)(2,"p",2),$(3,"High-Impact Services"),A(),E(4,"div",3)(5,"h2",4)(6,"span",5),$(7,"Home / "),A(),$(8,"Services "),A()()(),E(9,"section",6)(10,"div",7)(11,"h2",8),$(12," High-impact "),ve(13,"br"),$(14," services to help "),ve(15,"br"),$(16," your business "),A(),E(17,"p",9),$(18),A()(),E(19,"div",10),sn(20,Qj,10,3,"div",11,Fr),A()(),E(22,"section"),ve(23,"app-home-data"),A()()),e&2&&(U(18),et(" ",i.about==null||i.about.additionalDescription==null?null:i.about.additionalDescription.paragraph2," "),U(2),an(i.data==null?null:i.data.services))},dependencies:[zt,ja,Rn],styles:['.services-page[_ngcontent-%COMP%]{background-color:var(--sectionColor)}.services-page[_ngcontent-%COMP%]   .leading-relaxed[_ngcontent-%COMP%]{opacity:.8}.service-item[_ngcontent-%COMP%]{z-index:1;position:relative;background-color:transparent;transition:var(--transition);padding:20px}.service-item[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background-color:var(--blackColor);transition:.7s;z-index:-1;transform:scaleX(0)}.service-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background-color:var(--blackColor);transition:.7s;z-index:-1;transform:scaleY(0)}.service-item[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.service-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.service-item.style-two[_ngcontent-%COMP%]{margin-bottom:30px;padding:30px}.service-item.style-two[_ngcontent-%COMP%]:after{transform:scaleX(1)}.service-item.style-two[_ngcontent-%COMP%]:before{transform:scaleY(1)}.service-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Georgia,serif}.service-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{border-color:var(--borderColor)}.service-item[_ngcontent-%COMP%]   .span-color[_ngcontent-%COMP%]{color:var(--primaryColor)}']})};var Zj=(n,t,e,i)=>({"fa-linkedin":n,"fa-github":t,"fa-facebook":e,"fa-twitter":i}),eU=(n,t)=>t.platform;function tU(n,t){if(n&1&&(zs(0),E(1,"a",18),ve(2,"i",19),A(),$s()),n&2){let e=t.$implicit;U(),le("href",e.url,Dt),U(),le("ngClass",hc(2,Zj,e.platform.toLowerCase()==="linkedin",e.platform.toLowerCase()==="github",e.platform.toLowerCase()==="facebook",e.platform.toLowerCase()==="twitter"))}}var Ev=class n{constructor(t,e,i){this.userState=t;this.adminInfoService=e;this.adminAboutService=i;fn(()=>{let r=this.userState.uid();r&&this.loadData(r)})}info=null;about=null;destroy$=new Nt;loadData(t){return j(this,null,function*(){this.info=yield this.adminInfoService.getAdminInfo(t),this.about=yield this.adminAboutService.getAbout(t)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.info=null,this.about=null}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Yn),ie(Ji))};static \u0275cmp=Qe({type:n,selectors:[["app-contact-portfolio"]],decls:44,vars:12,consts:[[1,"contact-page","pt-20","overflow-hidden",2,"background-color","var(--sectionColor)"],["appInView","",1,"text-center","px-2","py-5","lg:px-20","title-section","from-top"],[1,"flex","items-center","justify-center"],[1,"border-t-2","w-16","mx-3","title-line"],[1,"md:text-2xl","font-semibold"],[1,"mx-auto","px-4","md:px-20","font-bold","lg:text-[3.5rem]","sm:text-[1.4rem]","text-[1rem]"],[1,"py-16","lg:py-24"],[1,"container","mx-auto","grid","grid-cols-1","lg:grid-cols-2","gap-12","lg:px-20","md:px-10","px-5"],[1,"sm:text-4xl","md:text-5xl","text-3xl","font-bold","mb-6","pb-5"],[1,"text-lg","leading-relaxed","mb-8"],["appInView","",1,"email-btn","inline-flex","items-center","gap-3","px-8","py-4","rounded-lg","text-lg","zoom-in",3,"href"],[1,"fa-solid","fa-envelope","text-xl"],[1,"flex","flex-col","gap-10","lg:pl-20"],[1,"tracking-widest","mb-4","font-bold"],[1,"flex","items-center","gap-5","text-2xl","text-center"],[1,"tracking-widest","mb-2","font-bold"],[1,"text-xl","hover:underline",3,"href"],[1,"text-xl","hover:underline","block",3,"href"],["target","_blank",1,"px-2",3,"href"],[1,"fa-brands",3,"ngClass"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"div",1)(2,"div",2),ve(3,"div",3),E(4,"h2",4),$(5,"contact"),A(),ve(6,"div",3),A(),E(7,"p",5),$(8," Get In Touch "),A()(),E(9,"section",6)(10,"div",7)(11,"div")(12,"h2",8),$(13," Let's Work Together "),A(),E(14,"p",9),$(15),A(),E(16,"a",10),ve(17,"i",11),$(18," Send Me An Email "),A()(),E(19,"div",12)(20,"div")(21,"h3",13),$(22," FOLLOW ON SOCIAL "),A(),E(23,"div",14),sn(24,tU,3,7,"ng-container",null,eU),A()(),E(26,"div")(27,"h3",15),$(28,"EMAIL"),A(),E(29,"a",16),$(30),A()(),E(31,"div")(32,"h3",15),$(33,"PHONE"),A(),E(34,"a",17),$(35),A()(),E(36,"div")(37,"h3",15),$(38,"LOCATION"),A(),E(39,"a",17),$(40),A()()()()(),ve(41,"app-testimonial")(42,"app-home-services")(43,"app-home-data"),A()),e&2&&(U(15),et(" ",i.about==null||i.about.additionalDescription==null?null:i.about.additionalDescription.paragraph1," "),U(),le("href",hl("mailto:",i.info==null?null:i.info.email),Dt),U(8),an(i.info==null?null:i.info.socialLinks),U(5),le("href",hl("mailto:",i.info==null?null:i.info.email,"?subject=Work Inquiry"),Dt),U(),et(" ",i.info==null?null:i.info.email," "),U(4),le("href",hl("tel:",i.info==null?null:i.info.phone),Dt),U(),et(" +",i.info==null?null:i.info.phone," "),U(4),le("href",iA(i.info==null?null:i.info.location),Dt),U(),et(" ",i.info==null?null:i.info.location," "))},dependencies:[Fa,Vc,ja,Rn,zt,Ea],styles:[".tracking-widest[_ngcontent-%COMP%]{color:var(--primaryColor)}.email-btn[_ngcontent-%COMP%]{background-color:var(--primaryColor);color:var(--blackColor)}a[_ngcontent-%COMP%]{transition:color var(--transition) ease}"]})};var cS=()=>["."],nU=()=>["about"],iU=()=>["projects"],rU=()=>["services"],oU=()=>["blogs"],_P=()=>["contact"],sU=(n,t,e,i)=>({"fa-linkedin":n,"fa-github":t,"fa-facebook":e,"fa-twitter":i});function aU(n,t){if(n&1&&(E(0,"a",15),$(1),A()),n&2){let e,i,r=Re();le("href","tel:"+((e=r.info())==null?null:e.phone),Dt),U(),et("+",(i=r.info())==null?null:i.phone)}}function lU(n,t){if(n&1&&(zs(0),E(1,"a",18),ve(2,"i",19),A(),$s()),n&2){let e=t.$implicit;U(),le("href",e.url,Dt),U(),le("ngClass",hc(2,sU,e.platform.toLowerCase()==="linkedin",e.platform.toLowerCase()==="github",e.platform.toLowerCase()==="facebook",e.platform.toLowerCase()==="twitter"))}}function cU(n,t){if(n&1&&(E(0,"li",16),tt(1,lU,3,7,"ng-container",17),A()),n&2){let e,i=Re();U(),le("ngForOf",(e=i.info())==null?null:e.socialLinks)}}var Av=class n{uid=li(null);info=li(null);sidebarOpen=!1;scrolled=!1;destroy$=new Nt;userState=Ne(ln);infoService=Ne(Yn);router=Ne(gr);constructor(){fn(()=>j(this,null,function*(){let t=this.userState.uid();if(this.uid.set(t),t){let e=yield this.infoService.getAdminInfo(t);this.info.set(e)}})),this.router.events.pipe(hr(t=>t instanceof Zo),Li(this.destroy$)).subscribe(()=>this.handleFragmentScroll())}handleFragmentScroll(){let t=this.router.parseUrl(this.router.url);t.fragment&&setTimeout(()=>{let e=document.getElementById(t.fragment);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},200)}isLinkActive(t,e){let i=this.info();if(!i?.username)return!1;let r=this.router.parseUrl(this.router.url),o="/"+(r.root.children.primary?.segments.map(a=>a.path).join("/")??""),s=`/portfolio/${i.username}`;return e?o===s&&r.fragment===e:t==="."?o===s&&!r.fragment:o===`${s}/${t}`}toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}onScroll(){this.scrolled=window.scrollY>200}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Qe({type:n,selectors:[["app-public-navbar"]],hostBindings:function(e,i){e&1&&ye("scroll",function(){return i.onScroll()},$m)},decls:31,vars:43,consts:[[1,"w-full","fixed","top-0","left-0","z-50"],[1,"mx-auto","flex","items-center","justify-between","px-4","py-3"],[1,"logo-item",3,"click","routerLink"],[1,"fa-brands","fa-cloudscale"],[1,"xl:space-x-20","lg:space-x-10","uppercase","text-white"],[3,"click","routerLink"],["fragment","testimonial",3,"click","routerLink"],[1,"sidebar-tel"],[3,"href",4,"ngIf"],["class","sidebar-social",4,"ngIf"],[1,"flex"],[1,"sm:px-4","px-2","sm:py-2","mx-3",3,"click","routerLink"],[1,"icon-sidebar","sm:p-3","p-1","lg:hidden",3,"click"],[1,"fa-solid","fa-bars"],[1,"fa-solid","fa-xmark"],[3,"href"],[1,"sidebar-social"],[4,"ngFor","ngForOf"],["target","_blank",1,"px-2",3,"href"],[1,"fa-brands",3,"ngClass"]],template:function(e,i){if(e&1&&(E(0,"nav",0)(1,"div",1)(2,"div",2),ye("click",function(){return i.scrollToTop()}),ve(3,"i",3),E(4,"h1"),$(5),A()(),E(6,"ul",4)(7,"li",5),ye("click",function(){return i.toggleSidebar(),i.scrollToTop()}),$(8," Home "),A(),E(9,"li",5),ye("click",function(){return i.toggleSidebar(),i.scrollToTop()}),$(10," About "),A(),E(11,"li",5),ye("click",function(){return i.toggleSidebar(),i.scrollToTop()}),$(12," Projects "),A(),E(13,"li",5),ye("click",function(){return i.toggleSidebar(),i.scrollToTop()}),$(14," Services "),A(),E(15,"li")(16,"a",6),ye("click",function(){return i.toggleSidebar()}),$(17," Testimonial "),A()(),E(18,"li",5),ye("click",function(){return i.toggleSidebar(),i.scrollToTop()}),$(19," Blogs "),A(),E(20,"li",5),ye("click",function(){return i.toggleSidebar(),i.scrollToTop()}),$(21," Contact "),A(),E(22,"li",7),tt(23,aU,2,2,"a",8),A(),tt(24,cU,2,1,"li",9),A(),E(25,"div",10)(26,"button",11),ye("click",function(){return i.scrollToTop()}),$(27," Let's Talk "),A(),E(28,"div",12),ye("click",function(){return i.toggleSidebar()}),ve(29,"i",13)(30,"i",14),A()()()()),e&2){let r,o,s;Ai("nav-scrolled",i.scrolled),U(2),le("routerLink",Gn(34,cS)),U(3),gt(((r=i.info())==null?null:r.username)||"Loading..."),U(),Ai("sidebar-open",i.sidebarOpen),U(),Ai("active-link",i.isLinkActive(".")),le("routerLink",Gn(35,cS)),U(2),Ai("active-link",i.isLinkActive("about")),le("routerLink",Gn(36,nU)),U(2),Ai("active-link",i.isLinkActive("projects")),le("routerLink",Gn(37,iU)),U(2),Ai("active-link",i.isLinkActive("services")),le("routerLink",Gn(38,rU)),U(3),Ai("active-link",i.isLinkActive(".","testimonial")),le("routerLink",Gn(39,cS)),U(2),Ai("active-link",i.isLinkActive("blogs")),le("routerLink",Gn(40,oU)),U(2),Ai("active-link",i.isLinkActive("contact")),le("routerLink",Gn(41,_P)),U(3),le("ngIf",(o=i.info())==null?null:o.phone),U(),le("ngIf",(s=i.info())==null||s.socialLinks==null?null:s.socialLinks.length),U(2),le("routerLink",Gn(42,_P)),U(3),Ai("hidden",i.sidebarOpen),U(),Ai("hidden",!i.sidebarOpen)}},dependencies:[Hi,zt,Ea,fr,Zn],styles:["nav[_ngcontent-%COMP%]{background-color:var(--blackColor);border-bottom:.1px solid var(--borderColor)}nav[_ngcontent-%COMP%]   .logo-item[_ngcontent-%COMP%]{border-right:.1px solid var(--borderColor);padding-right:14px}nav.nav-scrolled[_ngcontent-%COMP%]{background-color:#00000080}.icon-sidebar[_ngcontent-%COMP%]{background-color:var(--inputColor);border-radius:5px;cursor:pointer}ul[_ngcontent-%COMP%]{display:flex;transition:right .4s ease}ul[_ngcontent-%COMP%]   .sidebar-social[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   .sidebar-tel[_ngcontent-%COMP%]{display:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:color var(--transition) ease;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .active-link[_ngcontent-%COMP%]{color:var(--primaryColor)}@media screen and (max-width: 1024px){ul[_ngcontent-%COMP%]{width:35%;background-color:var(--blackColor);border-top:1px solid var(--borderColor);display:block;position:absolute;height:100vh;top:100%;right:-100%;text-align:center;padding-top:5% 0;z-index:9999}ul.sidebar-open[_ngcontent-%COMP%]{right:0!important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5% 0}ul[_ngcontent-%COMP%]   .sidebar-social[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   .sidebar-tel[_ngcontent-%COMP%]{display:flex;justify-content:center}ul[_ngcontent-%COMP%]   .sidebar-social[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:color var(--transition) ease;color:gray}ul[_ngcontent-%COMP%]   .sidebar-social[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--primaryColor)}}@media screen and (max-width: 870px){ul[_ngcontent-%COMP%]{width:50%}}@media screen and (max-width: 550px){ul[_ngcontent-%COMP%]{width:80%}}"]})};var uU=()=>["."],dU=()=>["services"],hU=()=>["projects"],fU=()=>["about"],pU=()=>["contact"],Iv=class n{constructor(t,e,i){this.userState=t;this.adminInfoService=e;this.adminAboutService=i;fn(()=>{if(this.destroyed)return;let r=this.userState.uid();r&&(this.dataLoaded&&this.currentUid===r||(this.currentUid=r,this.dataLoaded=!0,this.loadData(r)))})}info=null;about=null;destroyed=!1;dataLoaded=!1;currentUid=null;loadData(t){return j(this,null,function*(){this.info=yield this.adminInfoService.getAdminInfo(t),this.about=yield this.adminAboutService.getAbout(t)})}scrollToTop(){window.scrollTo({top:0})}ngOnDestroy(){this.destroyed=!0,this.info=null,this.about=null}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Yn),ie(Ji))};static \u0275cmp=Qe({type:n,selectors:[["app-footer-portfolio"]],decls:38,vars:13,consts:[[1,"bg-black","text-white","px-6","py-10","xl:px-20"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","lg:gap-8","gap-4"],[1,"span-color","text-lg","font-semibold","mb-4"],[1,"text-sm","leading-relaxed"],[1,"md:text-center"],[1,"space-y-2","text-sm"],[1,"transition",3,"click","routerLink"],[1,"text-sm","text-gray-300","mb-4"],[1,"flex","flex-row","items-center"],["type","email","placeholder","Your Email Address",1,"w-full","px-4","py-2","rounded","text-black","focus:outline-none"],[1,"px-2","py-2","text-[0.9rem]"],[1,"mt-10","border-t","border-gray-700","pt-6","flex","flex-col","md:flex-row","justify-center","items-center","text-sm","text-gray-400"]],template:function(e,i){e&1&&(E(0,"footer",0)(1,"div",1)(2,"div")(3,"h2",2),$(4),A(),E(5,"p",3),$(6),A()(),E(7,"div",4)(8,"h2",2),$(9,"Site Links"),A(),E(10,"ul",5)(11,"li")(12,"a",6),ye("click",function(){return i.scrollToTop()}),$(13,"Home"),A()(),E(14,"li")(15,"a",6),ye("click",function(){return i.scrollToTop()}),$(16,"Services"),A()(),E(17,"li")(18,"a",6),ye("click",function(){return i.scrollToTop()}),$(19,"Projects"),A()(),E(20,"li")(21,"a",6),ye("click",function(){return i.scrollToTop()}),$(22,"About"),A()(),E(23,"li")(24,"a",6),ye("click",function(){return i.scrollToTop()}),$(25,"Contact"),A()()()(),E(26,"div")(27,"h2",2),$(28,"Newsletter"),A(),E(29,"p",7),$(30,"Subscribe to get the latest updates."),A(),E(31,"div",8),ve(32,"input",9),E(33,"button",10),$(34," Subscribe "),A()()()(),E(35,"div",11)(36,"p"),$(37),A()()()),e&2&&(U(4),et("About ",i.info==null?null:i.info.username),U(2),et(" ",i.about==null?null:i.about.mainDescription," "),U(6),le("routerLink",Gn(8,uU)),U(3),le("routerLink",Gn(9,dU)),U(3),le("routerLink",Gn(10,hU)),U(3),le("routerLink",Gn(11,fU)),U(3),le("routerLink",Gn(12,pU)),U(13),et("\xA9 Copyright ",i.info==null?null:i.info.username," 2025 \xA0 | \xA0 Design by Me Distribution by Me"))},dependencies:[Hi],styles:["footer[_ngcontent-%COMP%]{background-color:var(--sectionColor)}footer[_ngcontent-%COMP%]   .span-color[_ngcontent-%COMP%]{color:var(--primaryColor)}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primaryColor)}footer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background-color:var(--inputColor)}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:after{height:0px}"]})};function mU(n,t){n&1&&ve(0,"app-loading")}function gU(n,t){if(n&1){let e=mt();E(0,"button",2),ye("click",function(){$e(e);let r=Re(2);return qe(r.scrollToTop())}),ve(1,"i",3),A()}}function vU(n,t){if(n&1&&(E(0,"div"),ve(1,"app-public-navbar")(2,"router-outlet")(3,"app-footer-portfolio"),tt(4,gU,2,0,"button",1),A()),n&2){let e=Re();U(4),le("ngIf",e.showScrollButton)}}var Cv=class n{constructor(t,e,i,r){this.route=t;this.adminInfoService=e;this.userState=i;this.loadingService=r}platformId=Ne(vn);username=null;uid=null;showScrollButton=!1;isLoading=!0;ngOnInit(){this.loadingService.show(),this.loadingService.isLoading$.subscribe(t=>{this.isLoading=t}),this.route.paramMap.subscribe(t=>j(this,null,function*(){let e=t.get("username");if(!e)return;this.username=e,this.userState.username.set(e),this.loadingService.show();let i=yield this.adminInfoService.getAdminInfoByUsername(e);this.uid=i?.uid??null,this.userState.uid.set(this.uid),this.loadingService.hide()})),Vt(this.platformId)&&window.addEventListener("scroll",this.onWindowScroll.bind(this))}scrollToTop(){Vt(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}onWindowScroll(){Vt(this.platformId)&&(this.showScrollButton=window.scrollY>500)}static \u0275fac=function(e){return new(e||n)(ie(go),ie(Yn),ie(ln),ie(Ah))};static \u0275cmp=Qe({type:n,selectors:[["app-personal-portfolio"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","scroll-top fixed bottom-10 right-10 px-4 py-4",3,"click",4,"ngIf"],[1,"scroll-top","fixed","bottom-10","right-10","px-4","py-4",3,"click"],[1,"fa-solid","fa-arrow-up"]],template:function(e,i){e&1&&tt(0,mU,1,0,"app-loading",0)(1,vU,5,1,"div",0),e&2&&(le("ngIf",i.isLoading),U(),le("ngIf",!i.isLoading))},dependencies:[Av,Gs,Iv,Ih,zt,Zn],styles:[".scroll-top[_ngcontent-%COMP%]{background-color:var(--primaryColor);color:var(--blackColor);opacity:.8;z-index:99999999999;transition:all var(--transition) ease}.scroll-top[_ngcontent-%COMP%]:hover:after{height:0px}"]})};var Zr=class n{firestore=Ne(Fi);platformId=Ne(vn);saveExperience(t,e){return j(this,null,function*(){if(!Vt(this.platformId))return;let i=ci(this.firestore,`admin-experience/${t}`);return Qr(i,e,{merge:!0})})}getExperience(t){return j(this,null,function*(){if(!Vt(this.platformId))return null;let e=ci(this.firestore,`admin-experience/${t}`),i=yield jr(e);return i.exists()?i.data():null})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};function yU(n,t){if(n&1&&(E(0,"span",2),$(1),A()),n&2){let e=t.$implicit;U(),gt(e)}}function _U(n,t){if(n&1&&(E(0,"div",1),sn(1,yU,2,1,"span",2,Gr),A()),n&2){let e=Re();U(),an(e.skills)}}var xv=class n{constructor(t,e){this.userState=t;this.adminExperience=e;fn(()=>{let i=this.userState.uid();i&&this.loadData(i)})}info=null;skills=[];loadData(t){return j(this,null,function*(){this.info=yield this.adminExperience.getExperience(t),this.skills=this.info.skills})}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Zr))};static \u0275cmp=Qe({type:n,selectors:[["app-skills"]],decls:2,vars:1,consts:[["appInView","",1,"skills-area","md:container","mx-auto","pb-10","pt-5","from-bottom"],[1,"flex","flex-wrap","justify-center","gap-5"],[1,"p-2"]],template:function(e,i){e&1&&(E(0,"section",0),Lt(1,_U,3,0,"div",1),A()),e&2&&(U(),Ft(i.skills.length?1:-1))},dependencies:[zt,Rn],styles:[".skills-area[_ngcontent-%COMP%]{margin-bottom:-25px}.skills-area[_ngcontent-%COMP%]   .skills-item[_ngcontent-%COMP%]{position:relative;margin-bottom:25px}.skills-area[_ngcontent-%COMP%]   .skills-item[_ngcontent-%COMP%]   .skills-header[_ngcontent-%COMP%]{position:relative;margin-bottom:15px;padding:20px 0;border-bottom:.1px solid var(--borderColor)}.skills-area[_ngcontent-%COMP%]   .skills-item[_ngcontent-%COMP%]   .skills-header[_ngcontent-%COMP%]   .skills-title[_ngcontent-%COMP%]{color:var(--whiteColor);text-transform:uppercase;font-size:16px;font-weight:400;font-family:var(--fontFamily1)}.skills-area[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:.1px solid var(--borderColor)}"]})};function wU(n,t){if(n&1&&(E(0,"div",2)(1,"h3"),$(2),A(),E(3,"span",3),$(4),A(),E(5,"span"),$(6),A(),E(7,"p",4),$(8),A()()),n&2){let e=t.$implicit;U(2),gt(e==null?null:e.companyName),U(2),Ym("",e==null?null:e.startDate," - ",e==null?null:e.endDate),U(2),gt(e==null?null:e.role),U(2),gt(e==null?null:e.description)}}function bU(n,t){if(n&1&&sn(0,wU,9,5,"div",2,Gr),n&2){let e=Re();an(e.experience)}}var Tv=class n{constructor(t,e){this.userState=t;this.adminExperience=e;fn(()=>{let i=this.userState.uid();i&&this.loadData(i)})}info=null;experience=[];loadData(t){return j(this,null,function*(){this.info=yield this.adminExperience.getExperience(t),this.experience=this.info.experiences})}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Zr))};static \u0275cmp=Qe({type:n,selectors:[["app-experience"]],decls:3,vars:1,consts:[["appInView","",1,"experience-area","mt-5","from-bottom"],[1,"flex","flex-wrap","justify-center","items-stretch","gap-4","md:px-0","px-2"],[1,"single-experience-box","w-full","sm:w-[45%]","md:w-[40%]","xl:w-[30%]","flex","flex-col","items-start"],[1,"text-[14px]"],[1,"text-start","pt-2"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"div",1),Lt(2,bU,2,0),A()()),e&2&&(U(2),Ft(i.experience?2:-1))},dependencies:[Rn],styles:[".experience-area[_ngcontent-%COMP%]   .single-experience-box[_ngcontent-%COMP%]{margin-bottom:25px;background-color:var(--cardColor);padding:2% 1%;border-radius:5px}.experience-area[_ngcontent-%COMP%]   .single-experience-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primaryColor);margin-bottom:12px;text-transform:uppercase}.experience-area[_ngcontent-%COMP%]   .single-experience-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}.experience-area[_ngcontent-%COMP%]   .single-experience-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;opacity:.9}"]})};function SU(n,t){if(n&1&&(E(0,"div",2)(1,"h3",3),$(2),A(),E(3,"span",4),$(4),A(),E(5,"p",5),$(6),A()()),n&2){let e=t.$implicit;U(2),gt(e==null?null:e.degree),U(2),wf("",e==null?null:e.institution," (",e==null?null:e.start," - ",e==null?null:e.end,")"),U(2),gt(e==null?null:e.description)}}function EU(n,t){if(n&1&&sn(0,SU,7,5,"div",2,Gr),n&2){let e=Re();an(e.education)}}var Dv=class n{constructor(t,e){this.userState=t;this.adminExperience=e;fn(()=>{let i=this.userState.uid();i&&this.loadData(i)})}info=null;education=[];loadData(t){return j(this,null,function*(){this.info=yield this.adminExperience.getExperience(t),this.education=this.info.education})}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Zr))};static \u0275cmp=Qe({type:n,selectors:[["app-education"]],decls:3,vars:1,consts:[["appInView","",1,"education-area","mt-5","from-bottom"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4","px-3","pt-5"],[1,"single-education-box","flex","flex-col","px-3","bg-white","rounded-md","shadow-md","items-start","w-full","h-[70%]","aspect-[4/3]"],[1,"lg:text-lg","text-md","font-semibold","pt-3"],[1,"text-sm","text-gray-500"],[1,"text-md","mt-2","text-start"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"div",1),Lt(2,EU,2,0),A()()),e&2&&(U(2),Ft(i.education?2:-1))},dependencies:[Rn],styles:[".education-area[_ngcontent-%COMP%]   .single-education-box[_ngcontent-%COMP%]{margin-bottom:25px;background-color:var(--cardColor);border-radius:5px;padding:2% 1%}.education-area[_ngcontent-%COMP%]   .single-education-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primaryColor);margin-bottom:12px;text-transform:uppercase}.education-area[_ngcontent-%COMP%]   .single-education-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}.education-area[_ngcontent-%COMP%]   .single-education-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;opacity:.9}"]})};function AU(n,t){if(n&1){let e=mt();E(0,"div",4),ye("click",function(){let r=$e(e).$index,o=Re(2);return qe(o.openLightbox(r))}),ve(1,"img",5),A()}if(n&2){let e=t.$implicit;U(),le("src",e,Dt)}}function IU(n,t){if(n&1&&sn(0,AU,2,1,"div",3,Fr),n&2){let e=Re();an(e.certifications)}}function CU(n,t){if(n&1){let e=mt();E(0,"div",6),ye("click",function(){$e(e);let r=Re();return qe(r.closeLightbox())}),E(1,"button",7),ye("click",function(){$e(e);let r=Re();return qe(r.closeLightbox())}),ve(2,"i",8),A(),E(3,"div",9),ye("click",function(r){return $e(e),qe(r.stopPropagation())}),E(4,"button",10),ye("click",function(){$e(e);let r=Re();return qe(r.prevImage())}),ve(5,"i",11),A(),E(6,"button",12),ye("click",function(){$e(e);let r=Re();return qe(r.nextImage())}),ve(7,"i",13),A(),ve(8,"img",14),A()()}if(n&2){let e=Re();U(8),le("src",e.certifications[e.currentIndex],Dt)}}var Pv=class n{constructor(t,e){this.userState=t;this.adminExperience=e;fn(()=>{let i=this.userState.uid();i&&this.loadData(i)})}info=null;certifications=[];loadData(t){return j(this,null,function*(){this.info=yield this.adminExperience.getExperience(t),this.certifications=this.info.certifications})}lightboxOpen=!1;currentIndex=0;openLightbox(t){this.currentIndex=t,this.lightboxOpen=!0}closeLightbox(){this.lightboxOpen=!1}prevImage(){this.currentIndex=(this.currentIndex-1+this.certifications.length)%this.certifications.length}nextImage(){this.currentIndex=(this.currentIndex+1)%this.certifications.length}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Zr))};static \u0275cmp=Qe({type:n,selectors:[["app-certification"]],decls:4,vars:2,consts:[["appInView","",1,"certification-area","mt-5","from-bottom"],[1,"grid","grid-cols-2","sm:grid-cols-3","lg:grid-cols-5","gap-4","px-4"],["class","fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",3,"click",4,"ngIf"],[1,"single-certification-box","w-full","cursor-pointer"],[1,"single-certification-box","w-full","cursor-pointer",3,"click"],["alt","certification image",1,"w-full","h-full","object-cover","aspect-square","rounded-md","shadow-md",3,"src"],[1,"fixed","inset-0","bg-black","bg-opacity-80","flex","items-center","justify-center","z-50",3,"click"],[1,"absolute","top-4","right-4","px-3","pb-1","text-3xl","z-50","no-after-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"w-[90vw]","h-[90vw]","max-w-[600px]","max-h-[600px]",3,"click"],[1,"absolute","left-2","top-1/2","transform","-translate-y-1/2","px-3","pb-2","text-4xl","z-50","no-after-button",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"absolute","right-2","top-1/2","transform","-translate-y-1/2","px-3","pb-2","text-4xl","z-50","no-after-button",3,"click"],[1,"fa-solid","fa-chevron-right"],[1,"w-full","h-full","object-cover","rounded-md","shadow-lg",3,"src"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"div",1),Lt(2,IU,2,0),A()(),tt(3,CU,9,1,"div",2)),e&2&&(U(2),Ft(i.certifications?2:-1),U(),le("ngIf",i.lightboxOpen))},dependencies:[Rn,zt,Zn],styles:[".certification-area[_ngcontent-%COMP%]   .single-certification-box[_ngcontent-%COMP%]{margin-bottom:25px;text-align:center;transition:transform var(--transition) ease}.certification-area[_ngcontent-%COMP%]   .single-certification-box[_ngcontent-%COMP%]:hover{transform:translateY(-5%)}"]})};var xU=(n,t,e)=>["/portfolio",n,"project-details",t,e],TU=(n,t)=>t==null?null:t.id;function DU(n,t){if(n&1){let e=mt();E(0,"div",11)(1,"div",12),ye("click",function(){$e(e);let r=Re(2);return qe(r.scrollToTop())}),E(2,"div",13),ve(3,"img",14),A(),E(4,"div",15)(5,"div")(6,"span"),$(7,"Project"),A(),E(8,"p",16),$(9),A()(),E(10,"div",17),ve(11,"i",18),A()()()()}if(n&2){let e=t.$implicit,i=Re(2);U(),le("routerLink",Jm(4,xU,i.username,e==null?null:e.id,i.uid)),U(2),le("src",e==null||e.gallery==null?null:e.gallery[0],Dt)("alt",(e==null?null:e.projectTitle)||"Project"),U(6),gt(e==null?null:e.projectTitle)}}function PU(n,t){if(n&1&&(E(0,"div",9),sn(1,DU,12,8,"div",11,TU),A()),n&2){let e=Re();U(),an(e.projectsList==null?null:e.projectsList.projects)}}function kU(n,t){n&1&&(E(0,"p",10),$(1,"No projects found."),A())}var kv=class n{constructor(t,e,i){this.userState=t;this.adminProjectService=e;this.adminInfoService=i;this.initEffect()}projectsList=null;info=null;username="";uid=null;effectRef;initEffect(){this.effectRef=fn(()=>{this.uid=this.userState.uid(),this.uid&&this.loadData(this.uid)})}loadData(t){return j(this,null,function*(){this.projectsList=yield this.adminProjectService.getProjects(t),this.info=yield this.adminInfoService.getAdminInfo(t),this.username=this.info?.username??""})}scrollToTop(){window.scrollTo({top:0})}ngOnDestroy(){this.effectRef&&this.effectRef.destroy(),this.projectsList=null,this.info=null,this.username="",this.uid=null}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Po),ie(Yn))};static \u0275cmp=Qe({type:n,selectors:[["app-work-portfolio"]],decls:16,vars:1,consts:[[1,"projects-page","pt-10","overflow-hidden"],["appInView","",1,"title-section","text-center","px-2","py-5","lg:px-20","lg:py-10","from-top"],[1,"px-2","pt-5","mx-auto","text-white","capitalize","sm:text-[2rem]"],[1,"main-title-section","flex","justify-center"],[1,"md:text-2xl","font-semibold","text-white"],[1,"text-white"],[1,"about-content"],[1,"work-section","w-full","my-10"],[1,"container","mx-auto","px-4","lg:px-20"],[1,"flex","flex-wrap","-mx-3"],[1,"text-center","text-white","py-10"],[1,"w-full","md:w-1/2","lg:w-1/3","px-3","mb-6","overflow-hidden"],["appInView","",1,"work-content","work-image-click","flex","flex-col","justify-between","h-full","from-left",3,"click","routerLink"],[1,"w-full","aspect-[4/3]","overflow-hidden","rounded-md"],["loading","lazy",1,"w-full","h-full","object-cover",3,"src","alt"],[1,"flex","justify-between","items-center","pt-4"],[1,"my-2"],[1,"work-icon","p-3","rounded-md","bg-gray-100"],[1,"fa-solid","fa-arrow-up"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"div",1)(2,"p",2),$(3," My Projects & Portfolio "),A(),E(4,"div",3)(5,"h2",4)(6,"span",5),$(7,"Home / "),A(),$(8,"Projects "),A()()(),E(9,"div",6)(10,"div",7)(11,"div",8),Lt(12,PU,3,0,"div",9)(13,kU,2,0,"p",10),A()()(),ve(14,"app-home-blogs")(15,"app-testimonial"),A()),e&2&&(U(12),Ft((i.projectsList==null||i.projectsList.projects==null?null:i.projectsList.projects.length)>0?12:13))},dependencies:[zt,Fa,Sh,Rn,Hi],encapsulation:2})};function RU(n,t){if(n&1&&(E(0,"div",8)(1,"span",9),$(2),A(),E(3,"h3",10),$(4),A(),E(5,"p",11),$(6),A()()),n&2){let e=t.$implicit;U(2),gt(e==null?null:e.subtitle),U(2),et(" ",e==null?null:e.title," "),U(2),et(" ",e==null?null:e.description," ")}}var Rv=class n{constructor(t,e){this.userState=t;this.adminBlogsService=e;fn(()=>{if(this.destroyed)return;let i=this.userState.uid();i&&(this.dataLoaded&&this.currentUid===i||(this.currentUid=i,this.dataLoaded=!0,this.loadData(i)))})}data=null;destroyed=!1;dataLoaded=!1;currentUid=null;loadData(t){return j(this,null,function*(){this.data=yield this.adminBlogsService.getBlogs(t)})}scrollToTop(){window.scrollTo({top:0})}ngOnDestroy(){this.destroyed=!0,this.data=null}static \u0275fac=function(e){return new(e||n)(ie(ln),ie(Va))};static \u0275cmp=Qe({type:n,selectors:[["app-blogs-portfolio"]],decls:14,vars:0,consts:[[1,"blogs-page","pt-20","overflow-hidden"],["appInView","",1,"title-section","text-center","px-2","py-5","lg:px-20","lg:py-10","from-top"],[1,"px-2","pt-5","mx-auto","text-white","capitalize","sm:text-[2rem]"],[1,"main-title-section","flex","justify-center"],[1,"md:text-2xl","font-semibold","text-white"],[1,"text-white"],[1,"container","mx-auto","px-6","py-5"],[1,"grid","md:grid-cols-2","xl:grid-cols-3","gap-15","items-stretch"],["appInView","",1,"blog-item","h-full","flex","flex-col","zoom-in"],[1,"span-color","text-xl"],[1,"flex","items-center","gap-2","md:text-2xl","my-4"],[1,"leading-relaxed","mb-6","flex-grow"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"div",1)(2,"p",2),$(3,"Latest articles from my blog."),A(),E(4,"div",3)(5,"h2",4)(6,"span",5),$(7,"Home / "),A(),$(8,"Blogs "),A()()(),E(9,"section",6)(10,"div",7),sn(11,RU,7,3,"div",8,Fr),A()(),ve(13,"app-home-data"),A()),e&2&&(U(11),an(i.data==null?null:i.data.blogs))},dependencies:[zt,ja,Rn],styles:['.blogs-page[_ngcontent-%COMP%]{background-color:var(--sectionColor)}.blogs-page[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]{z-index:1;position:relative;background-color:transparent;transition:var(--transition);padding:20px}.blogs-page[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background-color:var(--blackColor);transition:.7s;z-index:-1;transform:scaleX(0)}.blogs-page[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background-color:var(--blackColor);transition:.7s;z-index:-1;transform:scaleY(0)}.blogs-page[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.blogs-page[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.blogs-page[_ngcontent-%COMP%]   .blog-item.style-two[_ngcontent-%COMP%]{margin-bottom:30px;padding:30px}.blogs-page[_ngcontent-%COMP%]   .blog-item.style-two[_ngcontent-%COMP%]:after{transform:scaleX(1)}.blogs-page[_ngcontent-%COMP%]   .blog-item.style-two[_ngcontent-%COMP%]:before{transform:scaleY(1)}.blogs-page[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Georgia,serif}.blogs-page[_ngcontent-%COMP%]   .blog-item[_ngcontent-%COMP%]   .span-color[_ngcontent-%COMP%]{color:var(--primaryColor)}']})};var ia=Uint8Array,ns=Uint16Array,pS=Int32Array,mS=new ia([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gS=new ia([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),wP=new ia([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),AP=function(n,t){for(var e=new ns(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var r=new pS(e[30]),i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)r[o]=o-e[i]<<5|i;return{b:e,r}},IP=AP(mS,2),NU=IP.b,dS=IP.r;NU[28]=258,dS[258]=28;var CP=AP(gS,0),eoe=CP.b,bP=CP.r,hS=new ns(32768);for(On=0;On<32768;++On)Rl=(On&43690)>>1|(On&21845)<<1,Rl=(Rl&52428)>>2|(Rl&13107)<<2,Rl=(Rl&61680)>>4|(Rl&3855)<<4,hS[On]=((Rl&65280)>>8|(Rl&255)<<8)>>1;var Rl,On,zp=function(n,t,e){for(var i=n.length,r=0,o=new ns(t);r<i;++r)n[r]&&++o[n[r]-1];var s=new ns(t);for(r=1;r<t;++r)s[r]=s[r-1]+o[r-1]<<1;var a;if(e){a=new ns(1<<t);var l=15-t;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],h=t-n[r],g=s[n[r]-1]++<<h,_=g|(1<<h)-1;g<=_;++g)a[hS[g]>>l]=c}else for(a=new ns(i),r=0;r<i;++r)n[r]&&(a[r]=hS[s[n[r]-1]++]>>15-n[r]);return a},Hu=new ia(288);for(On=0;On<144;++On)Hu[On]=8;var On;for(On=144;On<256;++On)Hu[On]=9;var On;for(On=256;On<280;++On)Hu[On]=7;var On;for(On=280;On<288;++On)Hu[On]=8;var On,Nv=new ia(32);for(On=0;On<32;++On)Nv[On]=5;var On,OU=zp(Hu,9,0);var MU=zp(Nv,5,0);var xP=function(n){return(n+7)/8|0},LU=function(n,t,e){return(t==null||t<0)&&(t=0),(e==null||e>n.length)&&(e=n.length),new ia(n.subarray(t,e))};var Nl=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},Up=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},uS=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,o=e.slice();if(!r)return{t:DP,l:0};if(r==1){var s=new ia(e[0].s+1);return s[e[0].s]=1,{t:s,l:1}}e.sort(function(he,_e){return he.f-_e.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],c=0,h=1,g=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=r-1;)a=e[e[c].f<e[g].f?c++:g++],l=e[c!=h&&e[c].f<e[g].f?c++:g++],e[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var _=o[0].s,i=1;i<r;++i)o[i].s>_&&(_=o[i].s);var p=new ns(_+1),P=fS(e[h-1],p,0);if(P>t){var i=0,O=0,N=P-t,R=1<<N;for(o.sort(function(_e,H){return p[H.s]-p[_e.s]||_e.f-H.f});i<r;++i){var Q=o[i].s;if(p[Q]>t)O+=R-(1<<P-p[Q]),p[Q]=t;else break}for(O>>=N;O>0;){var Z=o[i].s;p[Z]<t?O-=1<<t-p[Z]++-1:++i}for(;i>=0&&O;--i){var X=o[i].s;p[X]==t&&(--p[X],++O)}P=t}return{t:new ia(p),l:P}},fS=function(n,t,e){return n.s==-1?Math.max(fS(n.l,t,e+1),fS(n.r,t,e+1)):t[n.s]=e},SP=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new ns(++t),i=0,r=n[0],o=1,s=function(l){e[i++]=l},a=1;a<=t;++a)if(n[a]==r&&a!=t)++o;else{if(!r&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(r),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(r);o=1,r=n[a]}return{c:e.subarray(0,i),n:t}},Bp=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},TP=function(n,t,e){var i=e.length,r=xP(t+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var o=0;o<i;++o)n[r+o+4]=e[o];return(r+4+i)*8},EP=function(n,t,e,i,r,o,s,a,l,c,h){Nl(t,h++,e),++r[256];for(var g=uS(r,15),_=g.t,p=g.l,P=uS(o,15),O=P.t,N=P.l,R=SP(_),Q=R.c,Z=R.n,X=SP(O),he=X.c,_e=X.n,H=new ns(19),T=0;T<Q.length;++T)++H[Q[T]&31];for(var T=0;T<he.length;++T)++H[he[T]&31];for(var I=uS(H,7),V=I.t,b=I.l,C=19;C>4&&!V[wP[C-1]];--C);var x=c+5<<3,te=Bp(r,Hu)+Bp(o,Nv)+s,we=Bp(r,_)+Bp(o,O)+s+14+3*C+Bp(H,V)+2*H[16]+3*H[17]+7*H[18];if(l>=0&&x<=te&&x<=we)return TP(t,h,n.subarray(l,l+c));var Ie,Ae,pe,Ce;if(Nl(t,h,1+(we<te)),h+=2,we<te){Ie=zp(_,p,0),Ae=_,pe=zp(O,N,0),Ce=O;var He=zp(V,b,0);Nl(t,h,Z-257),Nl(t,h+5,_e-1),Nl(t,h+10,C-4),h+=14;for(var T=0;T<C;++T)Nl(t,h+3*T,V[wP[T]]);h+=3*C;for(var Le=[Q,he],L=0;L<2;++L)for(var J=Le[L],T=0;T<J.length;++T){var ee=J[T]&31;Nl(t,h,He[ee]),h+=V[ee],ee>15&&(Nl(t,h,J[T]>>5&127),h+=J[T]>>12)}}else Ie=OU,Ae=Hu,pe=MU,Ce=Nv;for(var T=0;T<a;++T){var re=i[T];if(re>255){var ee=re>>18&31;Up(t,h,Ie[ee+257]),h+=Ae[ee+257],ee>7&&(Nl(t,h,re>>23&31),h+=mS[ee]);var ce=re&31;Up(t,h,pe[ce]),h+=Ce[ce],ce>3&&(Up(t,h,re>>5&8191),h+=gS[ce])}else Up(t,h,Ie[re]),h+=Ae[re]}return Up(t,h,Ie[256]),h+Ae[256]},FU=new pS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DP=new ia(0),VU=function(n,t,e,i,r,o){var s=o.z||n.length,a=new ia(i+s+5*(1+Math.ceil(s/7e3))+r),l=a.subarray(i,a.length-r),c=o.l,h=(o.r||0)&7;if(t){h&&(l[0]=o.r>>3);for(var g=FU[t-1],_=g>>13,p=g&8191,P=(1<<e)-1,O=o.p||new ns(32768),N=o.h||new ns(P+1),R=Math.ceil(e/3),Q=2*R,Z=function(pt){return(n[pt]^n[pt+1]<<R^n[pt+2]<<Q)&P},X=new pS(25e3),he=new ns(288),_e=new ns(32),H=0,T=0,I=o.i||0,V=0,b=o.w||0,C=0;I+2<s;++I){var x=Z(I),te=I&32767,we=N[x];if(O[te]=we,N[x]=te,b<=I){var Ie=s-I;if((H>7e3||V>24576)&&(Ie>423||!c)){h=EP(n,l,0,X,he,_e,T,V,C,I-C,h),V=H=T=0,C=I;for(var Ae=0;Ae<286;++Ae)he[Ae]=0;for(var Ae=0;Ae<30;++Ae)_e[Ae]=0}var pe=2,Ce=0,He=p,Le=te-we&32767;if(Ie>2&&x==Z(I-Le))for(var L=Math.min(_,Ie)-1,J=Math.min(32767,I),ee=Math.min(258,Ie);Le<=J&&--He&&te!=we;){if(n[I+pe]==n[I+pe-Le]){for(var re=0;re<ee&&n[I+re]==n[I+re-Le];++re);if(re>pe){if(pe=re,Ce=Le,re>L)break;for(var ce=Math.min(Le,re-2),fe=0,Ae=0;Ae<ce;++Ae){var Se=I-Le+Ae&32767,Ee=O[Se],Pe=Se-Ee&32767;Pe>fe&&(fe=Pe,we=Se)}}}te=we,we=O[te],Le+=te-we&32767}if(Ce){X[V++]=268435456|dS[pe]<<18|bP[Ce];var Ue=dS[pe]&31,Je=bP[Ce]&31;T+=mS[Ue]+gS[Je],++he[257+Ue],++_e[Je],b=I+pe,++H}else X[V++]=n[I],++he[n[I]]}}for(I=Math.max(I,b);I<s;++I)X[V++]=n[I],++he[n[I]];h=EP(n,l,c,X,he,_e,T,V,C,I-C,h),c||(o.r=h&7|l[h/8|0]<<3,h-=7,o.h=N,o.p=O,o.i=I,o.w=b)}else{for(var I=o.w||0;I<s+c;I+=65535){var Xe=I+65535;Xe>=s&&(l[h/8|0]=c,Xe=s),h=TP(l,h+1,n.subarray(I,Xe))}o.i=s}return LU(a,0,i+xP(h)+r)};var PP=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,o=e.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)r+=i+=e[s];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,t=r},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},jU=function(n,t,e,i,r){if(!r&&(r={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),s=new ia(o.length+n.length);s.set(o),s.set(n,o.length),n=s,r.w=o.length}return VU(n,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,r)};var kP=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8};var UU=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var r=PP();r.p(t.dictionary),kP(n,2,r.d())}};function Ov(n,t){t||(t={});var e=PP();e.p(n);var i=jU(n,t,t.dictionary?6:2,4);return UU(i,t),kP(i,i.length-4,e.d()),i}var BU=typeof TextDecoder<"u"&&new TextDecoder,zU=0;try{BU.decode(DP,{stream:!0}),zU=1}catch{}function RP(n){if(Array.isArray(n))return n}function NP(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(e=e.call(n)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=o.call(e)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(h){c=!0,r=h}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function vS(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}function OP(n,t){if(n){if(typeof n=="string")return vS(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?vS(n,t):void 0}}function MP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yS(n,t){return RP(n)||NP(n,t)||OP(n,t)||MP()}function _S(n,t="utf8"){return new TextDecoder(t).decode(n)}var $U=new TextEncoder;function LP(n){return $U.encode(n)}var qU=1024*8,HU=(()=>{let n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),wS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},$p=class n{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=qU,e={}){let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);let r=e.offset?e.offset>>>0:0,o=t.byteLength-r,s=r;(ArrayBuffer.isView(t)||t instanceof n)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+r),t=t.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){let i=(this.offset+t)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){let i=wS[e].BYTES_PER_ELEMENT*t,r=this.byteOffset+this.offset,o=this.buffer.slice(r,r+i);if(this.littleEndian===HU&&e!=="uint8"&&e!=="int8"){let a=new Uint8Array(this.buffer.slice(r,r+i));a.reverse();let l=new wS[e](a.buffer);return this.offset+=i,l.reverse(),l}let s=new wS[e](o);return this.offset+=i,s}readInt16(){let t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){let t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){let t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){let t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){let t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){let t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){let t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){let t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let i=0;i<t;i++)e+=this.readChar();return e}readUtf8(t=1){return _S(this.readBytes(t))}decodeText(t=1,e="utf8"){return _S(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(LP(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function Rh(n){let t=n.length;for(;--t>=0;)n[t]=0}var WU=0,bk=1,GU=2,KU=3,YU=258,qS=29,rm=256,Xp=rm+1+qS,Dh=30,HS=19,Sk=2*Xp+1,Wu=15,bS=16,XU=7,WS=256,Ek=16,Ak=17,Ik=18,MS=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Uv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),JU=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ck=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QU=512,Ml=new Array((Xp+2)*2);Rh(Ml);var Gp=new Array(Dh*2);Rh(Gp);var Jp=new Array(QU);Rh(Jp);var Qp=new Array(YU-KU+1);Rh(Qp);var GS=new Array(qS);Rh(GS);var Bv=new Array(Dh);Rh(Bv);function SS(n,t,e,i,r){this.static_tree=n,this.extra_bits=t,this.extra_base=e,this.elems=i,this.max_length=r,this.has_stree=n&&n.length}var xk,Tk,Dk;function ES(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}var Pk=n=>n<256?Jp[n]:Jp[256+(n>>>7)],Zp=(n,t)=>{n.pending_buf[n.pending++]=t&255,n.pending_buf[n.pending++]=t>>>8&255},ko=(n,t,e)=>{n.bi_valid>bS-e?(n.bi_buf|=t<<n.bi_valid&65535,Zp(n,n.bi_buf),n.bi_buf=t>>bS-n.bi_valid,n.bi_valid+=e-bS):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=e)},Ba=(n,t,e)=>{ko(n,e[t*2],e[t*2+1])},kk=(n,t)=>{let e=0;do e|=n&1,n>>>=1,e<<=1;while(--t>0);return e>>>1},ZU=n=>{n.bi_valid===16?(Zp(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},e9=(n,t)=>{let e=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,h,g,_,p,P,O=0;for(_=0;_<=Wu;_++)n.bl_count[_]=0;for(e[n.heap[n.heap_max]*2+1]=0,c=n.heap_max+1;c<Sk;c++)h=n.heap[c],_=e[e[h*2+1]*2+1]+1,_>l&&(_=l,O++),e[h*2+1]=_,!(h>i)&&(n.bl_count[_]++,p=0,h>=a&&(p=s[h-a]),P=e[h*2],n.opt_len+=P*(_+p),o&&(n.static_len+=P*(r[h*2+1]+p)));if(O!==0){do{for(_=l-1;n.bl_count[_]===0;)_--;n.bl_count[_]--,n.bl_count[_+1]+=2,n.bl_count[l]--,O-=2}while(O>0);for(_=l;_!==0;_--)for(h=n.bl_count[_];h!==0;)g=n.heap[--c],!(g>i)&&(e[g*2+1]!==_&&(n.opt_len+=(_-e[g*2+1])*e[g*2],e[g*2+1]=_),h--)}},Rk=(n,t,e)=>{let i=new Array(Wu+1),r=0,o,s;for(o=1;o<=Wu;o++)r=r+e[o-1]<<1,i[o]=r;for(s=0;s<=t;s++){let a=n[s*2+1];a!==0&&(n[s*2]=kk(i[a]++,a))}},t9=()=>{let n,t,e,i,r,o=new Array(Wu+1);for(e=0,i=0;i<qS-1;i++)for(GS[i]=e,n=0;n<1<<MS[i];n++)Qp[e++]=i;for(Qp[e-1]=i,r=0,i=0;i<16;i++)for(Bv[i]=r,n=0;n<1<<Uv[i];n++)Jp[r++]=i;for(r>>=7;i<Dh;i++)for(Bv[i]=r<<7,n=0;n<1<<Uv[i]-7;n++)Jp[256+r++]=i;for(t=0;t<=Wu;t++)o[t]=0;for(n=0;n<=143;)Ml[n*2+1]=8,n++,o[8]++;for(;n<=255;)Ml[n*2+1]=9,n++,o[9]++;for(;n<=279;)Ml[n*2+1]=7,n++,o[7]++;for(;n<=287;)Ml[n*2+1]=8,n++,o[8]++;for(Rk(Ml,Xp+1,o),n=0;n<Dh;n++)Gp[n*2+1]=5,Gp[n*2]=kk(n,5);xk=new SS(Ml,MS,rm+1,Xp,Wu),Tk=new SS(Gp,Uv,0,Dh,Wu),Dk=new SS(new Array(0),JU,0,HS,XU)},Nk=n=>{let t;for(t=0;t<Xp;t++)n.dyn_ltree[t*2]=0;for(t=0;t<Dh;t++)n.dyn_dtree[t*2]=0;for(t=0;t<HS;t++)n.bl_tree[t*2]=0;n.dyn_ltree[WS*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},Ok=n=>{n.bi_valid>8?Zp(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},FP=(n,t,e,i)=>{let r=t*2,o=e*2;return n[r]<n[o]||n[r]===n[o]&&i[t]<=i[e]},AS=(n,t,e)=>{let i=n.heap[e],r=e<<1;for(;r<=n.heap_len&&(r<n.heap_len&&FP(t,n.heap[r+1],n.heap[r],n.depth)&&r++,!FP(t,i,n.heap[r],n.depth));)n.heap[e]=n.heap[r],e=r,r<<=1;n.heap[e]=i},VP=(n,t,e)=>{let i,r,o=0,s,a;if(n.sym_next!==0)do i=n.pending_buf[n.sym_buf+o++]&255,i+=(n.pending_buf[n.sym_buf+o++]&255)<<8,r=n.pending_buf[n.sym_buf+o++],i===0?Ba(n,r,t):(s=Qp[r],Ba(n,s+rm+1,t),a=MS[s],a!==0&&(r-=GS[s],ko(n,r,a)),i--,s=Pk(i),Ba(n,s,e),a=Uv[s],a!==0&&(i-=Bv[s],ko(n,i,a)));while(o<n.sym_next);Ba(n,WS,t)},LS=(n,t)=>{let e=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,o=t.stat_desc.elems,s,a,l=-1,c;for(n.heap_len=0,n.heap_max=Sk,s=0;s<o;s++)e[s*2]!==0?(n.heap[++n.heap_len]=l=s,n.depth[s]=0):e[s*2+1]=0;for(;n.heap_len<2;)c=n.heap[++n.heap_len]=l<2?++l:0,e[c*2]=1,n.depth[c]=0,n.opt_len--,r&&(n.static_len-=i[c*2+1]);for(t.max_code=l,s=n.heap_len>>1;s>=1;s--)AS(n,e,s);c=o;do s=n.heap[1],n.heap[1]=n.heap[n.heap_len--],AS(n,e,1),a=n.heap[1],n.heap[--n.heap_max]=s,n.heap[--n.heap_max]=a,e[c*2]=e[s*2]+e[a*2],n.depth[c]=(n.depth[s]>=n.depth[a]?n.depth[s]:n.depth[a])+1,e[s*2+1]=e[a*2+1]=c,n.heap[1]=c++,AS(n,e,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],e9(n,t),Rk(e,l,n.bl_count)},jP=(n,t,e)=>{let i,r=-1,o,s=t[1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),t[(e+1)*2+1]=65535,i=0;i<=e;i++)o=s,s=t[(i+1)*2+1],!(++a<l&&o===s)&&(a<c?n.bl_tree[o*2]+=a:o!==0?(o!==r&&n.bl_tree[o*2]++,n.bl_tree[Ek*2]++):a<=10?n.bl_tree[Ak*2]++:n.bl_tree[Ik*2]++,a=0,r=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))},UP=(n,t,e)=>{let i,r=-1,o,s=t[1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),i=0;i<=e;i++)if(o=s,s=t[(i+1)*2+1],!(++a<l&&o===s)){if(a<c)do Ba(n,o,n.bl_tree);while(--a!==0);else o!==0?(o!==r&&(Ba(n,o,n.bl_tree),a--),Ba(n,Ek,n.bl_tree),ko(n,a-3,2)):a<=10?(Ba(n,Ak,n.bl_tree),ko(n,a-3,3)):(Ba(n,Ik,n.bl_tree),ko(n,a-11,7));a=0,r=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}},n9=n=>{let t;for(jP(n,n.dyn_ltree,n.l_desc.max_code),jP(n,n.dyn_dtree,n.d_desc.max_code),LS(n,n.bl_desc),t=HS-1;t>=3&&n.bl_tree[Ck[t]*2+1]===0;t--);return n.opt_len+=3*(t+1)+5+5+4,t},i9=(n,t,e,i)=>{let r;for(ko(n,t-257,5),ko(n,e-1,5),ko(n,i-4,4),r=0;r<i;r++)ko(n,n.bl_tree[Ck[r]*2+1],3);UP(n,n.dyn_ltree,t-1),UP(n,n.dyn_dtree,e-1)},r9=n=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&n.dyn_ltree[e*2]!==0)return 0;if(n.dyn_ltree[18]!==0||n.dyn_ltree[20]!==0||n.dyn_ltree[26]!==0)return 1;for(e=32;e<rm;e++)if(n.dyn_ltree[e*2]!==0)return 1;return 0},BP=!1,o9=n=>{BP||(t9(),BP=!0),n.l_desc=new ES(n.dyn_ltree,xk),n.d_desc=new ES(n.dyn_dtree,Tk),n.bl_desc=new ES(n.bl_tree,Dk),n.bi_buf=0,n.bi_valid=0,Nk(n)},Mk=(n,t,e,i)=>{ko(n,(WU<<1)+(i?1:0),3),Ok(n),Zp(n,e),Zp(n,~e),e&&n.pending_buf.set(n.window.subarray(t,t+e),n.pending),n.pending+=e},s9=n=>{ko(n,bk<<1,3),Ba(n,WS,Ml),ZU(n)},a9=(n,t,e,i)=>{let r,o,s=0;n.level>0?(n.strm.data_type===2&&(n.strm.data_type=r9(n)),LS(n,n.l_desc),LS(n,n.d_desc),s=n9(n),r=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=r&&(r=o)):r=o=e+5,e+4<=r&&t!==-1?Mk(n,t,e,i):n.strategy===4||o===r?(ko(n,(bk<<1)+(i?1:0),3),VP(n,Ml,Gp)):(ko(n,(GU<<1)+(i?1:0),3),i9(n,n.l_desc.max_code+1,n.d_desc.max_code+1,s+1),VP(n,n.dyn_ltree,n.dyn_dtree)),Nk(n),i&&Ok(n)},l9=(n,t,e)=>(n.pending_buf[n.sym_buf+n.sym_next++]=t,n.pending_buf[n.sym_buf+n.sym_next++]=t>>8,n.pending_buf[n.sym_buf+n.sym_next++]=e,t===0?n.dyn_ltree[e*2]++:(n.matches++,t--,n.dyn_ltree[(Qp[e]+rm+1)*2]++,n.dyn_dtree[Pk(t)*2]++),n.sym_next===n.sym_end),c9=o9,u9=Mk,d9=a9,h9=l9,f9=s9,p9={_tr_init:c9,_tr_stored_block:u9,_tr_flush_block:d9,_tr_tally:h9,_tr_align:f9},m9=(n,t,e,i)=>{let r=n&65535|0,o=n>>>16&65535|0,s=0;for(;e!==0;){s=e>2e3?2e3:e,e-=s;do r=r+t[i++]|0,o=o+r|0;while(--s);r%=65521,o%=65521}return r|o<<16|0},em=m9,g9=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},v9=new Uint32Array(g9()),y9=(n,t,e,i)=>{let r=v9,o=i+e;n^=-1;for(let s=i;s<o;s++)n=n>>>8^r[(n^t[s])&255];return n^-1},br=y9,Yu={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Nh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:_9,_tr_stored_block:FS,_tr_flush_block:w9,_tr_tally:zc,_tr_align:b9}=p9,{Z_NO_FLUSH:$c,Z_PARTIAL_FLUSH:S9,Z_FULL_FLUSH:E9,Z_FINISH:Cs,Z_BLOCK:zP,Z_OK:Ur,Z_STREAM_END:$P,Z_STREAM_ERROR:za,Z_DATA_ERROR:A9,Z_BUF_ERROR:IS,Z_DEFAULT_COMPRESSION:I9,Z_FILTERED:C9,Z_HUFFMAN_ONLY:Mv,Z_RLE:x9,Z_FIXED:T9,Z_DEFAULT_STRATEGY:D9,Z_UNKNOWN:P9,Z_DEFLATED:qv}=Nh,k9=9,R9=15,N9=8,O9=29,M9=256,VS=M9+1+O9,L9=30,F9=19,V9=2*VS+1,j9=15,En=3,Bc=258,$a=Bc+En+1,U9=32,Ph=42,KS=57,jS=69,US=73,BS=91,zS=103,Gu=113,Hp=666,_o=1,Oh=2,Xu=3,Mh=4,B9=3,Ku=(n,t)=>(n.msg=Yu[t],t),qP=n=>n*2-(n>4?9:0),Uc=n=>{let t=n.length;for(;--t>=0;)n[t]=0},z9=n=>{let t,e,i,r=n.w_size;t=n.hash_size,i=t;do e=n.head[--i],n.head[i]=e>=r?e-r:0;while(--t);t=r,i=t;do e=n.prev[--i],n.prev[i]=e>=r?e-r:0;while(--t)},$9=(n,t,e)=>(t<<n.hash_shift^e)&n.hash_mask,qc=$9,is=n=>{let t=n.state,e=t.pending;e>n.avail_out&&(e=n.avail_out),e!==0&&(n.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),n.next_out),n.next_out+=e,t.pending_out+=e,n.total_out+=e,n.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},rs=(n,t)=>{w9(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,is(n.strm)},Mn=(n,t)=>{n.pending_buf[n.pending++]=t},qp=(n,t)=>{n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=t&255},$S=(n,t,e,i)=>{let r=n.avail_in;return r>i&&(r=i),r===0?0:(n.avail_in-=r,t.set(n.input.subarray(n.next_in,n.next_in+r),e),n.state.wrap===1?n.adler=em(n.adler,t,r,e):n.state.wrap===2&&(n.adler=br(n.adler,t,r,e)),n.next_in+=r,n.total_in+=r,r)},Lk=(n,t)=>{let e=n.max_chain_length,i=n.strstart,r,o,s=n.prev_length,a=n.nice_match,l=n.strstart>n.w_size-$a?n.strstart-(n.w_size-$a):0,c=n.window,h=n.w_mask,g=n.prev,_=n.strstart+Bc,p=c[i+s-1],P=c[i+s];n.prev_length>=n.good_match&&(e>>=2),a>n.lookahead&&(a=n.lookahead);do if(r=t,!(c[r+s]!==P||c[r+s-1]!==p||c[r]!==c[i]||c[++r]!==c[i+1])){i+=2,r++;do;while(c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<_);if(o=Bc-(_-i),i=_-Bc,o>s){if(n.match_start=t,s=o,o>=a)break;p=c[i+s-1],P=c[i+s]}}while((t=g[t&h])>l&&--e!==0);return s<=n.lookahead?s:n.lookahead},kh=n=>{let t=n.w_size,e,i,r;do{if(i=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-$a)&&(n.window.set(n.window.subarray(t,t+t-i),0),n.match_start-=t,n.strstart-=t,n.block_start-=t,n.insert>n.strstart&&(n.insert=n.strstart),z9(n),i+=t),n.strm.avail_in===0)break;if(e=$S(n.strm,n.window,n.strstart+n.lookahead,i),n.lookahead+=e,n.lookahead+n.insert>=En)for(r=n.strstart-n.insert,n.ins_h=n.window[r],n.ins_h=qc(n,n.ins_h,n.window[r+1]);n.insert&&(n.ins_h=qc(n,n.ins_h,n.window[r+En-1]),n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,n.insert--,!(n.lookahead+n.insert<En)););}while(n.lookahead<$a&&n.strm.avail_in!==0)},Fk=(n,t)=>{let e=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,i,r,o,s=0,a=n.strm.avail_in;do{if(i=65535,o=n.bi_valid+42>>3,n.strm.avail_out<o||(o=n.strm.avail_out-o,r=n.strstart-n.block_start,i>r+n.strm.avail_in&&(i=r+n.strm.avail_in),i>o&&(i=o),i<e&&(i===0&&t!==Cs||t===$c||i!==r+n.strm.avail_in)))break;s=t===Cs&&i===r+n.strm.avail_in?1:0,FS(n,0,0,s),n.pending_buf[n.pending-4]=i,n.pending_buf[n.pending-3]=i>>8,n.pending_buf[n.pending-2]=~i,n.pending_buf[n.pending-1]=~i>>8,is(n.strm),r&&(r>i&&(r=i),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+r),n.strm.next_out),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r,n.block_start+=r,i-=r),i&&($S(n.strm,n.strm.output,n.strm.next_out,i),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i)}while(s===0);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),s?Mh:t!==$c&&t!==Cs&&n.strm.avail_in===0&&n.strstart===n.block_start?Oh:(o=n.window_size-n.strstart,n.strm.avail_in>o&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,o+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),o>n.strm.avail_in&&(o=n.strm.avail_in),o&&($S(n.strm,n.window,n.strstart,o),n.strstart+=o,n.insert+=o>n.w_size-n.insert?n.w_size-n.insert:o),n.high_water<n.strstart&&(n.high_water=n.strstart),o=n.bi_valid+42>>3,o=n.pending_buf_size-o>65535?65535:n.pending_buf_size-o,e=o>n.w_size?n.w_size:o,r=n.strstart-n.block_start,(r>=e||(r||t===Cs)&&t!==$c&&n.strm.avail_in===0&&r<=o)&&(i=r>o?o:r,s=t===Cs&&n.strm.avail_in===0&&i===r?1:0,FS(n,n.block_start,i,s),n.block_start+=i,is(n.strm)),s?Xu:_o)},CS=(n,t)=>{let e,i;for(;;){if(n.lookahead<$a){if(kh(n),n.lookahead<$a&&t===$c)return _o;if(n.lookahead===0)break}if(e=0,n.lookahead>=En&&(n.ins_h=qc(n,n.ins_h,n.window[n.strstart+En-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),e!==0&&n.strstart-e<=n.w_size-$a&&(n.match_length=Lk(n,e)),n.match_length>=En)if(i=zc(n,n.strstart-n.match_start,n.match_length-En),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=En){n.match_length--;do n.strstart++,n.ins_h=qc(n,n.ins_h,n.window[n.strstart+En-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=qc(n,n.ins_h,n.window[n.strstart+1]);else i=zc(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(i&&(rs(n,!1),n.strm.avail_out===0))return _o}return n.insert=n.strstart<En-1?n.strstart:En-1,t===Cs?(rs(n,!0),n.strm.avail_out===0?Xu:Mh):n.sym_next&&(rs(n,!1),n.strm.avail_out===0)?_o:Oh},xh=(n,t)=>{let e,i,r;for(;;){if(n.lookahead<$a){if(kh(n),n.lookahead<$a&&t===$c)return _o;if(n.lookahead===0)break}if(e=0,n.lookahead>=En&&(n.ins_h=qc(n,n.ins_h,n.window[n.strstart+En-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=En-1,e!==0&&n.prev_length<n.max_lazy_match&&n.strstart-e<=n.w_size-$a&&(n.match_length=Lk(n,e),n.match_length<=5&&(n.strategy===C9||n.match_length===En&&n.strstart-n.match_start>4096)&&(n.match_length=En-1)),n.prev_length>=En&&n.match_length<=n.prev_length){r=n.strstart+n.lookahead-En,i=zc(n,n.strstart-1-n.prev_match,n.prev_length-En),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=r&&(n.ins_h=qc(n,n.ins_h,n.window[n.strstart+En-1]),e=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=En-1,n.strstart++,i&&(rs(n,!1),n.strm.avail_out===0))return _o}else if(n.match_available){if(i=zc(n,0,n.window[n.strstart-1]),i&&rs(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return _o}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(i=zc(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<En-1?n.strstart:En-1,t===Cs?(rs(n,!0),n.strm.avail_out===0?Xu:Mh):n.sym_next&&(rs(n,!1),n.strm.avail_out===0)?_o:Oh},q9=(n,t)=>{let e,i,r,o,s=n.window;for(;;){if(n.lookahead<=Bc){if(kh(n),n.lookahead<=Bc&&t===$c)return _o;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=En&&n.strstart>0&&(r=n.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){o=n.strstart+Bc;do;while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);n.match_length=Bc-(o-r),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=En?(e=zc(n,1,n.match_length-En),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(e=zc(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),e&&(rs(n,!1),n.strm.avail_out===0))return _o}return n.insert=0,t===Cs?(rs(n,!0),n.strm.avail_out===0?Xu:Mh):n.sym_next&&(rs(n,!1),n.strm.avail_out===0)?_o:Oh},H9=(n,t)=>{let e;for(;;){if(n.lookahead===0&&(kh(n),n.lookahead===0)){if(t===$c)return _o;break}if(n.match_length=0,e=zc(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,e&&(rs(n,!1),n.strm.avail_out===0))return _o}return n.insert=0,t===Cs?(rs(n,!0),n.strm.avail_out===0?Xu:Mh):n.sym_next&&(rs(n,!1),n.strm.avail_out===0)?_o:Oh};function Ua(n,t,e,i,r){this.good_length=n,this.max_lazy=t,this.nice_length=e,this.max_chain=i,this.func=r}var Wp=[new Ua(0,0,0,0,Fk),new Ua(4,4,8,4,CS),new Ua(4,5,16,8,CS),new Ua(4,6,32,32,CS),new Ua(4,4,16,16,xh),new Ua(8,16,32,32,xh),new Ua(8,16,128,128,xh),new Ua(8,32,128,256,xh),new Ua(32,128,258,1024,xh),new Ua(32,258,258,4096,xh)],W9=n=>{n.window_size=2*n.w_size,Uc(n.head),n.max_lazy_match=Wp[n.level].max_lazy,n.good_match=Wp[n.level].good_length,n.nice_match=Wp[n.level].nice_length,n.max_chain_length=Wp[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=En-1,n.match_available=0,n.ins_h=0};function G9(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=qv,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(V9*2),this.dyn_dtree=new Uint16Array((2*L9+1)*2),this.bl_tree=new Uint16Array((2*F9+1)*2),Uc(this.dyn_ltree),Uc(this.dyn_dtree),Uc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(j9+1),this.heap=new Uint16Array(2*VS+1),Uc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*VS+1),Uc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var om=n=>{if(!n)return 1;let t=n.state;return!t||t.strm!==n||t.status!==Ph&&t.status!==KS&&t.status!==jS&&t.status!==US&&t.status!==BS&&t.status!==zS&&t.status!==Gu&&t.status!==Hp?1:0},Vk=n=>{if(om(n))return Ku(n,za);n.total_in=n.total_out=0,n.data_type=P9;let t=n.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?KS:t.wrap?Ph:Gu,n.adler=t.wrap===2?0:1,t.last_flush=-2,_9(t),Ur},jk=n=>{let t=Vk(n);return t===Ur&&W9(n.state),t},K9=(n,t)=>om(n)||n.state.wrap!==2?za:(n.state.gzhead=t,Ur),Uk=(n,t,e,i,r,o)=>{if(!n)return za;let s=1;if(t===I9&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>k9||e!==qv||i<8||i>15||t<0||t>9||o<0||o>T9||i===8&&s!==1)return Ku(n,za);i===8&&(i=9);let a=new G9;return n.state=a,a.strm=n,a.status=Ph,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+En-1)/En),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=o,a.method=e,jk(n)},Y9=(n,t)=>Uk(n,t,qv,R9,N9,D9),X9=(n,t)=>{if(om(n)||t>zP||t<0)return n?Ku(n,za):za;let e=n.state;if(!n.output||n.avail_in!==0&&!n.input||e.status===Hp&&t!==Cs)return Ku(n,n.avail_out===0?IS:za);let i=e.last_flush;if(e.last_flush=t,e.pending!==0){if(is(n),n.avail_out===0)return e.last_flush=-1,Ur}else if(n.avail_in===0&&qP(t)<=qP(i)&&t!==Cs)return Ku(n,IS);if(e.status===Hp&&n.avail_in!==0)return Ku(n,IS);if(e.status===Ph&&e.wrap===0&&(e.status=Gu),e.status===Ph){let r=qv+(e.w_bits-8<<4)<<8,o=-1;if(e.strategy>=Mv||e.level<2?o=0:e.level<6?o=1:e.level===6?o=2:o=3,r|=o<<6,e.strstart!==0&&(r|=U9),r+=31-r%31,qp(e,r),e.strstart!==0&&(qp(e,n.adler>>>16),qp(e,n.adler&65535)),n.adler=1,e.status=Gu,is(n),e.pending!==0)return e.last_flush=-1,Ur}if(e.status===KS){if(n.adler=0,Mn(e,31),Mn(e,139),Mn(e,8),e.gzhead)Mn(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),Mn(e,e.gzhead.time&255),Mn(e,e.gzhead.time>>8&255),Mn(e,e.gzhead.time>>16&255),Mn(e,e.gzhead.time>>24&255),Mn(e,e.level===9?2:e.strategy>=Mv||e.level<2?4:0),Mn(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(Mn(e,e.gzhead.extra.length&255),Mn(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(n.adler=br(n.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=jS;else if(Mn(e,0),Mn(e,0),Mn(e,0),Mn(e,0),Mn(e,0),Mn(e,e.level===9?2:e.strategy>=Mv||e.level<2?4:0),Mn(e,B9),e.status=Gu,is(n),e.pending!==0)return e.last_flush=-1,Ur}if(e.status===jS){if(e.gzhead.extra){let r=e.pending,o=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let a=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+a),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>r&&(n.adler=br(n.adler,e.pending_buf,e.pending-r,r)),e.gzindex+=a,is(n),e.pending!==0)return e.last_flush=-1,Ur;r=0,o-=a}let s=new Uint8Array(e.gzhead.extra);e.pending_buf.set(s.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>r&&(n.adler=br(n.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=US}if(e.status===US){if(e.gzhead.name){let r=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(n.adler=br(n.adler,e.pending_buf,e.pending-r,r)),is(n),e.pending!==0)return e.last_flush=-1,Ur;r=0}e.gzindex<e.gzhead.name.length?o=e.gzhead.name.charCodeAt(e.gzindex++)&255:o=0,Mn(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>r&&(n.adler=br(n.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=BS}if(e.status===BS){if(e.gzhead.comment){let r=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(n.adler=br(n.adler,e.pending_buf,e.pending-r,r)),is(n),e.pending!==0)return e.last_flush=-1,Ur;r=0}e.gzindex<e.gzhead.comment.length?o=e.gzhead.comment.charCodeAt(e.gzindex++)&255:o=0,Mn(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>r&&(n.adler=br(n.adler,e.pending_buf,e.pending-r,r))}e.status=zS}if(e.status===zS){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(is(n),e.pending!==0))return e.last_flush=-1,Ur;Mn(e,n.adler&255),Mn(e,n.adler>>8&255),n.adler=0}if(e.status=Gu,is(n),e.pending!==0)return e.last_flush=-1,Ur}if(n.avail_in!==0||e.lookahead!==0||t!==$c&&e.status!==Hp){let r=e.level===0?Fk(e,t):e.strategy===Mv?H9(e,t):e.strategy===x9?q9(e,t):Wp[e.level].func(e,t);if((r===Xu||r===Mh)&&(e.status=Hp),r===_o||r===Xu)return n.avail_out===0&&(e.last_flush=-1),Ur;if(r===Oh&&(t===S9?b9(e):t!==zP&&(FS(e,0,0,!1),t===E9&&(Uc(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),is(n),n.avail_out===0))return e.last_flush=-1,Ur}return t!==Cs?Ur:e.wrap<=0?$P:(e.wrap===2?(Mn(e,n.adler&255),Mn(e,n.adler>>8&255),Mn(e,n.adler>>16&255),Mn(e,n.adler>>24&255),Mn(e,n.total_in&255),Mn(e,n.total_in>>8&255),Mn(e,n.total_in>>16&255),Mn(e,n.total_in>>24&255)):(qp(e,n.adler>>>16),qp(e,n.adler&65535)),is(n),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?Ur:$P)},J9=n=>{if(om(n))return za;let t=n.state.status;return n.state=null,t===Gu?Ku(n,A9):Ur},Q9=(n,t)=>{let e=t.length;if(om(n))return za;let i=n.state,r=i.wrap;if(r===2||r===1&&i.status!==Ph||i.lookahead)return za;if(r===1&&(n.adler=em(n.adler,t,e,0)),i.wrap=0,e>=i.w_size){r===0&&(Uc(i.head),i.strstart=0,i.block_start=0,i.insert=0);let l=new Uint8Array(i.w_size);l.set(t.subarray(e-i.w_size,e),0),t=l,e=i.w_size}let o=n.avail_in,s=n.next_in,a=n.input;for(n.avail_in=e,n.next_in=0,n.input=t,kh(i);i.lookahead>=En;){let l=i.strstart,c=i.lookahead-(En-1);do i.ins_h=qc(i,i.ins_h,i.window[l+En-1]),i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++;while(--c);i.strstart=l,i.lookahead=En-1,kh(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=En-1,i.match_available=0,n.next_in=s,n.input=a,n.avail_in=o,i.wrap=r,Ur},Z9=Y9,eB=Uk,tB=jk,nB=Vk,iB=K9,rB=X9,oB=J9,sB=Q9,aB="pako deflate (from Nodeca project)",Kp={deflateInit:Z9,deflateInit2:eB,deflateReset:tB,deflateResetKeep:nB,deflateSetHeader:iB,deflate:rB,deflateEnd:oB,deflateSetDictionary:sB,deflateInfo:aB},lB=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),cB=function(n){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let i in e)lB(e,i)&&(n[i]=e[i])}}return n},uB=n=>{let t=0;for(let i=0,r=n.length;i<r;i++)t+=n[i].length;let e=new Uint8Array(t);for(let i=0,r=0,o=n.length;i<o;i++){let s=n[i];e.set(s,r),r+=s.length}return e},Hv={assign:cB,flattenChunks:uB},Bk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Bk=!1}var tm=new Uint8Array(256);for(let n=0;n<256;n++)tm[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;tm[254]=tm[254]=1;var dB=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,i,r,o,s=n.length,a=0;for(r=0;r<s;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<s&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(a),o=0,r=0;o<a;r++)e=n.charCodeAt(r),(e&64512)===55296&&r+1<s&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t},hB=(n,t)=>{if(t<65534&&n.subarray&&Bk)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let i=0;i<t;i++)e+=String.fromCharCode(n[i]);return e},fB=(n,t)=>{let e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let i,r,o=new Array(e*2);for(r=0,i=0;i<e;){let s=n[i++];if(s<128){o[r++]=s;continue}let a=tm[s];if(a>4){o[r++]=65533,i+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&i<e;)s=s<<6|n[i++]&63,a--;if(a>1){o[r++]=65533;continue}s<65536?o[r++]=s:(s-=65536,o[r++]=55296|s>>10&1023,o[r++]=56320|s&1023)}return hB(o,r)},pB=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+tm[n[e]]>t?e:t},nm={string2buf:dB,buf2string:fB,utf8border:pB};function mB(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zk=mB,$k=Object.prototype.toString,{Z_NO_FLUSH:gB,Z_SYNC_FLUSH:vB,Z_FULL_FLUSH:yB,Z_FINISH:_B,Z_OK:zv,Z_STREAM_END:wB,Z_DEFAULT_COMPRESSION:bB,Z_DEFAULT_STRATEGY:SB,Z_DEFLATED:EB}=Nh;function sm(n){this.options=Hv.assign({level:bB,method:EB,chunkSize:16384,windowBits:15,memLevel:8,strategy:SB},n||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zk,this.strm.avail_out=0;let e=Kp.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==zv)throw new Error(Yu[e]);if(t.header&&Kp.deflateSetHeader(this.strm,t.header),t.dictionary){let i;if(typeof t.dictionary=="string"?i=nm.string2buf(t.dictionary):$k.call(t.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(t.dictionary):i=t.dictionary,e=Kp.deflateSetDictionary(this.strm,i),e!==zv)throw new Error(Yu[e]);this._dict_set=!0}}sm.prototype.push=function(n,t){let e=this.strm,i=this.options.chunkSize,r,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?_B:gB,typeof n=="string"?e.input=nm.string2buf(n):$k.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),(o===vB||o===yB)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(r=Kp.deflate(e,o),r===wB)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),r=Kp.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===zv;if(e.avail_out===0){this.onData(e.output);continue}if(o>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};sm.prototype.onData=function(n){this.chunks.push(n)};sm.prototype.onEnd=function(n){n===zv&&(this.result=Hv.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function YS(n,t){let e=new sm(t);if(e.push(n,!0),e.err)throw e.msg||Yu[e.err];return e.result}function AB(n,t){return t=t||{},t.raw=!0,YS(n,t)}function IB(n,t){return t=t||{},t.gzip=!0,YS(n,t)}var CB=sm,xB=YS,TB=AB,DB=IB,PB=Nh,kB={Deflate:CB,deflate:xB,deflateRaw:TB,gzip:DB,constants:PB},Lv=16209,RB=16191,NB=function(t,e){let i,r,o,s,a,l,c,h,g,_,p,P,O,N,R,Q,Z,X,he,_e,H,T,I,V,b=t.state;i=t.next_in,I=t.input,r=i+(t.avail_in-5),o=t.next_out,V=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),l=b.dmax,c=b.wsize,h=b.whave,g=b.wnext,_=b.window,p=b.hold,P=b.bits,O=b.lencode,N=b.distcode,R=(1<<b.lenbits)-1,Q=(1<<b.distbits)-1;e:do{P<15&&(p+=I[i++]<<P,P+=8,p+=I[i++]<<P,P+=8),Z=O[p&R];t:for(;;){if(X=Z>>>24,p>>>=X,P-=X,X=Z>>>16&255,X===0)V[o++]=Z&65535;else if(X&16){he=Z&65535,X&=15,X&&(P<X&&(p+=I[i++]<<P,P+=8),he+=p&(1<<X)-1,p>>>=X,P-=X),P<15&&(p+=I[i++]<<P,P+=8,p+=I[i++]<<P,P+=8),Z=N[p&Q];n:for(;;){if(X=Z>>>24,p>>>=X,P-=X,X=Z>>>16&255,X&16){if(_e=Z&65535,X&=15,P<X&&(p+=I[i++]<<P,P+=8,P<X&&(p+=I[i++]<<P,P+=8)),_e+=p&(1<<X)-1,_e>l){t.msg="invalid distance too far back",b.mode=Lv;break e}if(p>>>=X,P-=X,X=o-s,_e>X){if(X=_e-X,X>h&&b.sane){t.msg="invalid distance too far back",b.mode=Lv;break e}if(H=0,T=_,g===0){if(H+=c-X,X<he){he-=X;do V[o++]=_[H++];while(--X);H=o-_e,T=V}}else if(g<X){if(H+=c+g-X,X-=g,X<he){he-=X;do V[o++]=_[H++];while(--X);if(H=0,g<he){X=g,he-=X;do V[o++]=_[H++];while(--X);H=o-_e,T=V}}}else if(H+=g-X,X<he){he-=X;do V[o++]=_[H++];while(--X);H=o-_e,T=V}for(;he>2;)V[o++]=T[H++],V[o++]=T[H++],V[o++]=T[H++],he-=3;he&&(V[o++]=T[H++],he>1&&(V[o++]=T[H++]))}else{H=o-_e;do V[o++]=V[H++],V[o++]=V[H++],V[o++]=V[H++],he-=3;while(he>2);he&&(V[o++]=V[H++],he>1&&(V[o++]=V[H++]))}}else if((X&64)===0){Z=N[(Z&65535)+(p&(1<<X)-1)];continue n}else{t.msg="invalid distance code",b.mode=Lv;break e}break}}else if((X&64)===0){Z=O[(Z&65535)+(p&(1<<X)-1)];continue t}else if(X&32){b.mode=RB;break e}else{t.msg="invalid literal/length code",b.mode=Lv;break e}break}}while(i<r&&o<a);he=P>>3,i-=he,P-=he<<3,p&=(1<<P)-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?5+(r-i):5-(i-r),t.avail_out=o<a?257+(a-o):257-(o-a),b.hold=p,b.bits=P},Th=15,HP=852,WP=592,GP=0,xS=1,KP=2,OB=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),MB=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LB=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),FB=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),VB=(n,t,e,i,r,o,s,a)=>{let l=a.bits,c=0,h=0,g=0,_=0,p=0,P=0,O=0,N=0,R=0,Q=0,Z,X,he,_e,H,T=null,I,V=new Uint16Array(Th+1),b=new Uint16Array(Th+1),C=null,x,te,we;for(c=0;c<=Th;c++)V[c]=0;for(h=0;h<i;h++)V[t[e+h]]++;for(p=l,_=Th;_>=1&&V[_]===0;_--);if(p>_&&(p=_),_===0)return r[o++]=1<<24|64<<16|0,r[o++]=1<<24|64<<16|0,a.bits=1,0;for(g=1;g<_&&V[g]===0;g++);for(p<g&&(p=g),N=1,c=1;c<=Th;c++)if(N<<=1,N-=V[c],N<0)return-1;if(N>0&&(n===GP||_!==1))return-1;for(b[1]=0,c=1;c<Th;c++)b[c+1]=b[c]+V[c];for(h=0;h<i;h++)t[e+h]!==0&&(s[b[t[e+h]]++]=h);if(n===GP?(T=C=s,I=20):n===xS?(T=OB,C=MB,I=257):(T=LB,C=FB,I=0),Q=0,h=0,c=g,H=o,P=p,O=0,he=-1,R=1<<p,_e=R-1,n===xS&&R>HP||n===KP&&R>WP)return 1;for(;;){x=c-O,s[h]+1<I?(te=0,we=s[h]):s[h]>=I?(te=C[s[h]-I],we=T[s[h]-I]):(te=96,we=0),Z=1<<c-O,X=1<<P,g=X;do X-=Z,r[H+(Q>>O)+X]=x<<24|te<<16|we|0;while(X!==0);for(Z=1<<c-1;Q&Z;)Z>>=1;if(Z!==0?(Q&=Z-1,Q+=Z):Q=0,h++,--V[c]===0){if(c===_)break;c=t[e+s[h]]}if(c>p&&(Q&_e)!==he){for(O===0&&(O=p),H+=g,P=c-O,N=1<<P;P+O<_&&(N-=V[P+O],!(N<=0));)P++,N<<=1;if(R+=1<<P,n===xS&&R>HP||n===KP&&R>WP)return 1;he=Q&_e,r[he]=p<<24|P<<16|H-o|0}}return Q!==0&&(r[H+Q]=c-O<<24|64<<16|0),a.bits=p,0},Yp=VB,jB=0,qk=1,Hk=2,{Z_FINISH:YP,Z_BLOCK:UB,Z_TREES:Fv,Z_OK:Ju,Z_STREAM_END:BB,Z_NEED_DICT:zB,Z_STREAM_ERROR:xs,Z_DATA_ERROR:Wk,Z_MEM_ERROR:Gk,Z_BUF_ERROR:$B,Z_DEFLATED:XP}=Nh,Wv=16180,JP=16181,QP=16182,ZP=16183,ek=16184,tk=16185,nk=16186,ik=16187,rk=16188,ok=16189,$v=16190,Ol=16191,TS=16192,sk=16193,DS=16194,ak=16195,lk=16196,ck=16197,uk=16198,Vv=16199,jv=16200,dk=16201,hk=16202,fk=16203,pk=16204,mk=16205,PS=16206,gk=16207,vk=16208,pi=16209,Kk=16210,Yk=16211,qB=852,HB=592,WB=15,GB=WB,yk=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function KB(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Qu=n=>{if(!n)return 1;let t=n.state;return!t||t.strm!==n||t.mode<Wv||t.mode>Yk?1:0},Xk=n=>{if(Qu(n))return xs;let t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=Wv,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(qB),t.distcode=t.distdyn=new Int32Array(HB),t.sane=1,t.back=-1,Ju},Jk=n=>{if(Qu(n))return xs;let t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,Xk(n)},Qk=(n,t)=>{let e;if(Qu(n))return xs;let i=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?xs:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,Jk(n))},Zk=(n,t)=>{if(!n)return xs;let e=new KB;n.state=e,e.strm=n,e.window=null,e.mode=Wv;let i=Qk(n,t);return i!==Ju&&(n.state=null),i},YB=n=>Zk(n,GB),_k=!0,kS,RS,XB=n=>{if(_k){kS=new Int32Array(512),RS=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Yp(qk,n.lens,0,288,kS,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Yp(Hk,n.lens,0,32,RS,0,n.work,{bits:5}),_k=!1}n.lencode=kS,n.lenbits=9,n.distcode=RS,n.distbits=5},e3=(n,t,e,i)=>{let r,o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(t.subarray(e-i,e-i+r),o.wnext),i-=r,i?(o.window.set(t.subarray(e-i,e),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},JB=(n,t)=>{let e,i,r,o,s,a,l,c,h,g,_,p,P,O,N=0,R,Q,Z,X,he,_e,H,T,I=new Uint8Array(4),V,b,C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qu(n)||!n.output||!n.input&&n.avail_in!==0)return xs;e=n.state,e.mode===Ol&&(e.mode=TS),s=n.next_out,r=n.output,l=n.avail_out,o=n.next_in,i=n.input,a=n.avail_in,c=e.hold,h=e.bits,g=a,_=l,T=Ju;e:for(;;)switch(e.mode){case Wv:if(e.wrap===0){e.mode=TS;break}for(;h<16;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}if(e.wrap&2&&c===35615){e.wbits===0&&(e.wbits=15),e.check=0,I[0]=c&255,I[1]=c>>>8&255,e.check=br(e.check,I,2,0),c=0,h=0,e.mode=JP;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((c&255)<<8)+(c>>8))%31){n.msg="incorrect header check",e.mode=pi;break}if((c&15)!==XP){n.msg="unknown compression method",e.mode=pi;break}if(c>>>=4,h-=4,H=(c&15)+8,e.wbits===0&&(e.wbits=H),H>15||H>e.wbits){n.msg="invalid window size",e.mode=pi;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=c&512?ok:Ol,c=0,h=0;break;case JP:for(;h<16;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}if(e.flags=c,(e.flags&255)!==XP){n.msg="unknown compression method",e.mode=pi;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=pi;break}e.head&&(e.head.text=c>>8&1),e.flags&512&&e.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,e.check=br(e.check,I,2,0)),c=0,h=0,e.mode=QP;case QP:for(;h<32;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}e.head&&(e.head.time=c),e.flags&512&&e.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,e.check=br(e.check,I,4,0)),c=0,h=0,e.mode=ZP;case ZP:for(;h<16;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}e.head&&(e.head.xflags=c&255,e.head.os=c>>8),e.flags&512&&e.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,e.check=br(e.check,I,2,0)),c=0,h=0,e.mode=ek;case ek:if(e.flags&1024){for(;h<16;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}e.length=c,e.head&&(e.head.extra_len=c),e.flags&512&&e.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,e.check=br(e.check,I,2,0)),c=0,h=0}else e.head&&(e.head.extra=null);e.mode=tk;case tk:if(e.flags&1024&&(p=e.length,p>a&&(p=a),p&&(e.head&&(H=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(o,o+p),H)),e.flags&512&&e.wrap&4&&(e.check=br(e.check,i,p,o)),a-=p,o+=p,e.length-=p),e.length))break e;e.length=0,e.mode=nk;case nk:if(e.flags&2048){if(a===0)break e;p=0;do H=i[o+p++],e.head&&H&&e.length<65536&&(e.head.name+=String.fromCharCode(H));while(H&&p<a);if(e.flags&512&&e.wrap&4&&(e.check=br(e.check,i,p,o)),a-=p,o+=p,H)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=ik;case ik:if(e.flags&4096){if(a===0)break e;p=0;do H=i[o+p++],e.head&&H&&e.length<65536&&(e.head.comment+=String.fromCharCode(H));while(H&&p<a);if(e.flags&512&&e.wrap&4&&(e.check=br(e.check,i,p,o)),a-=p,o+=p,H)break e}else e.head&&(e.head.comment=null);e.mode=rk;case rk:if(e.flags&512){for(;h<16;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}if(e.wrap&4&&c!==(e.check&65535)){n.msg="header crc mismatch",e.mode=pi;break}c=0,h=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Ol;break;case ok:for(;h<32;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}n.adler=e.check=yk(c),c=0,h=0,e.mode=$v;case $v:if(e.havedict===0)return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,e.hold=c,e.bits=h,zB;n.adler=e.check=1,e.mode=Ol;case Ol:if(t===UB||t===Fv)break e;case TS:if(e.last){c>>>=h&7,h-=h&7,e.mode=PS;break}for(;h<3;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}switch(e.last=c&1,c>>>=1,h-=1,c&3){case 0:e.mode=sk;break;case 1:if(XB(e),e.mode=Vv,t===Fv){c>>>=2,h-=2;break e}break;case 2:e.mode=lk;break;case 3:n.msg="invalid block type",e.mode=pi}c>>>=2,h-=2;break;case sk:for(c>>>=h&7,h-=h&7;h<32;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){n.msg="invalid stored block lengths",e.mode=pi;break}if(e.length=c&65535,c=0,h=0,e.mode=DS,t===Fv)break e;case DS:e.mode=ak;case ak:if(p=e.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;r.set(i.subarray(o,o+p),s),a-=p,o+=p,l-=p,s+=p,e.length-=p;break}e.mode=Ol;break;case lk:for(;h<14;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}if(e.nlen=(c&31)+257,c>>>=5,h-=5,e.ndist=(c&31)+1,c>>>=5,h-=5,e.ncode=(c&15)+4,c>>>=4,h-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=pi;break}e.have=0,e.mode=ck;case ck:for(;e.have<e.ncode;){for(;h<3;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}e.lens[C[e.have++]]=c&7,c>>>=3,h-=3}for(;e.have<19;)e.lens[C[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,V={bits:e.lenbits},T=Yp(jB,e.lens,0,19,e.lencode,0,e.work,V),e.lenbits=V.bits,T){n.msg="invalid code lengths set",e.mode=pi;break}e.have=0,e.mode=uk;case uk:for(;e.have<e.nlen+e.ndist;){for(;N=e.lencode[c&(1<<e.lenbits)-1],R=N>>>24,Q=N>>>16&255,Z=N&65535,!(R<=h);){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}if(Z<16)c>>>=R,h-=R,e.lens[e.have++]=Z;else{if(Z===16){for(b=R+2;h<b;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}if(c>>>=R,h-=R,e.have===0){n.msg="invalid bit length repeat",e.mode=pi;break}H=e.lens[e.have-1],p=3+(c&3),c>>>=2,h-=2}else if(Z===17){for(b=R+3;h<b;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}c>>>=R,h-=R,H=0,p=3+(c&7),c>>>=3,h-=3}else{for(b=R+7;h<b;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}c>>>=R,h-=R,H=0,p=11+(c&127),c>>>=7,h-=7}if(e.have+p>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=pi;break}for(;p--;)e.lens[e.have++]=H}}if(e.mode===pi)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=pi;break}if(e.lenbits=9,V={bits:e.lenbits},T=Yp(qk,e.lens,0,e.nlen,e.lencode,0,e.work,V),e.lenbits=V.bits,T){n.msg="invalid literal/lengths set",e.mode=pi;break}if(e.distbits=6,e.distcode=e.distdyn,V={bits:e.distbits},T=Yp(Hk,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,V),e.distbits=V.bits,T){n.msg="invalid distances set",e.mode=pi;break}if(e.mode=Vv,t===Fv)break e;case Vv:e.mode=jv;case jv:if(a>=6&&l>=258){n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,e.hold=c,e.bits=h,NB(n,_),s=n.next_out,r=n.output,l=n.avail_out,o=n.next_in,i=n.input,a=n.avail_in,c=e.hold,h=e.bits,e.mode===Ol&&(e.back=-1);break}for(e.back=0;N=e.lencode[c&(1<<e.lenbits)-1],R=N>>>24,Q=N>>>16&255,Z=N&65535,!(R<=h);){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}if(Q&&(Q&240)===0){for(X=R,he=Q,_e=Z;N=e.lencode[_e+((c&(1<<X+he)-1)>>X)],R=N>>>24,Q=N>>>16&255,Z=N&65535,!(X+R<=h);){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}c>>>=X,h-=X,e.back+=X}if(c>>>=R,h-=R,e.back+=R,e.length=Z,Q===0){e.mode=mk;break}if(Q&32){e.back=-1,e.mode=Ol;break}if(Q&64){n.msg="invalid literal/length code",e.mode=pi;break}e.extra=Q&15,e.mode=dk;case dk:if(e.extra){for(b=e.extra;h<b;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,h-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=hk;case hk:for(;N=e.distcode[c&(1<<e.distbits)-1],R=N>>>24,Q=N>>>16&255,Z=N&65535,!(R<=h);){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}if((Q&240)===0){for(X=R,he=Q,_e=Z;N=e.distcode[_e+((c&(1<<X+he)-1)>>X)],R=N>>>24,Q=N>>>16&255,Z=N&65535,!(X+R<=h);){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}c>>>=X,h-=X,e.back+=X}if(c>>>=R,h-=R,e.back+=R,Q&64){n.msg="invalid distance code",e.mode=pi;break}e.offset=Z,e.extra=Q&15,e.mode=fk;case fk:if(e.extra){for(b=e.extra;h<b;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,h-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=pi;break}e.mode=pk;case pk:if(l===0)break e;if(p=_-l,e.offset>p){if(p=e.offset-p,p>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=pi;break}p>e.wnext?(p-=e.wnext,P=e.wsize-p):P=e.wnext-p,p>e.length&&(p=e.length),O=e.window}else O=r,P=s-e.offset,p=e.length;p>l&&(p=l),l-=p,e.length-=p;do r[s++]=O[P++];while(--p);e.length===0&&(e.mode=jv);break;case mk:if(l===0)break e;r[s++]=e.length,l--,e.mode=jv;break;case PS:if(e.wrap){for(;h<32;){if(a===0)break e;a--,c|=i[o++]<<h,h+=8}if(_-=l,n.total_out+=_,e.total+=_,e.wrap&4&&_&&(n.adler=e.check=e.flags?br(e.check,r,_,s-_):em(e.check,r,_,s-_)),_=l,e.wrap&4&&(e.flags?c:yk(c))!==e.check){n.msg="incorrect data check",e.mode=pi;break}c=0,h=0}e.mode=gk;case gk:if(e.wrap&&e.flags){for(;h<32;){if(a===0)break e;a--,c+=i[o++]<<h,h+=8}if(e.wrap&4&&c!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=pi;break}c=0,h=0}e.mode=vk;case vk:T=BB;break e;case pi:T=Wk;break e;case Kk:return Gk;case Yk:default:return xs}return n.next_out=s,n.avail_out=l,n.next_in=o,n.avail_in=a,e.hold=c,e.bits=h,(e.wsize||_!==n.avail_out&&e.mode<pi&&(e.mode<PS||t!==YP))&&e3(n,n.output,n.next_out,_-n.avail_out),g-=n.avail_in,_-=n.avail_out,n.total_in+=g,n.total_out+=_,e.total+=_,e.wrap&4&&_&&(n.adler=e.check=e.flags?br(e.check,r,_,n.next_out-_):em(e.check,r,_,n.next_out-_)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Ol?128:0)+(e.mode===Vv||e.mode===DS?256:0),(g===0&&_===0||t===YP)&&T===Ju&&(T=$B),T},QB=n=>{if(Qu(n))return xs;let t=n.state;return t.window&&(t.window=null),n.state=null,Ju},ZB=(n,t)=>{if(Qu(n))return xs;let e=n.state;return(e.wrap&2)===0?xs:(e.head=t,t.done=!1,Ju)},ez=(n,t)=>{let e=t.length,i,r,o;return Qu(n)||(i=n.state,i.wrap!==0&&i.mode!==$v)?xs:i.mode===$v&&(r=1,r=em(r,t,e,0),r!==i.check)?Wk:(o=e3(n,t,e,e),o?(i.mode=Kk,Gk):(i.havedict=1,Ju))},tz=Jk,nz=Qk,iz=Xk,rz=YB,oz=Zk,sz=JB,az=QB,lz=ZB,cz=ez,uz="pako inflate (from Nodeca project)",Ll={inflateReset:tz,inflateReset2:nz,inflateResetKeep:iz,inflateInit:rz,inflateInit2:oz,inflate:sz,inflateEnd:az,inflateGetHeader:lz,inflateSetDictionary:cz,inflateInfo:uz};function dz(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hz=dz,t3=Object.prototype.toString,{Z_NO_FLUSH:fz,Z_FINISH:pz,Z_OK:im,Z_STREAM_END:NS,Z_NEED_DICT:OS,Z_STREAM_ERROR:mz,Z_DATA_ERROR:wk,Z_MEM_ERROR:gz}=Nh;function am(n){this.options=Hv.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zk,this.strm.avail_out=0;let e=Ll.inflateInit2(this.strm,t.windowBits);if(e!==im)throw new Error(Yu[e]);if(this.header=new hz,Ll.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=nm.string2buf(t.dictionary):t3.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Ll.inflateSetDictionary(this.strm,t.dictionary),e!==im)))throw new Error(Yu[e])}am.prototype.push=function(n,t){let e=this.strm,i=this.options.chunkSize,r=this.options.dictionary,o,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?pz:fz,t3.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),o=Ll.inflate(e,s),o===OS&&r&&(o=Ll.inflateSetDictionary(e,r),o===im?o=Ll.inflate(e,s):o===wk&&(o=OS));e.avail_in>0&&o===NS&&e.state.wrap>0&&n[e.next_in]!==0;)Ll.inflateReset(e),o=Ll.inflate(e,s);switch(o){case mz:case wk:case OS:case gz:return this.onEnd(o),this.ended=!0,!1}if(a=e.avail_out,e.next_out&&(e.avail_out===0||o===NS))if(this.options.to==="string"){let l=nm.utf8border(e.output,e.next_out),c=e.next_out-l,h=nm.buf2string(e.output,l);e.next_out=c,e.avail_out=i-c,c&&e.output.set(e.output.subarray(l,l+c),0),this.onData(h)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===im&&a===0)){if(o===NS)return o=Ll.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};am.prototype.onData=function(n){this.chunks.push(n)};am.prototype.onEnd=function(n){n===im&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Hv.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function XS(n,t){let e=new am(t);if(e.push(n),e.err)throw e.msg||Yu[e.err];return e.result}function vz(n,t){return t=t||{},t.raw=!0,XS(n,t)}var yz=am,_z=XS,wz=vz,bz=XS,Sz=Nh,Ez={Inflate:yz,inflate:_z,inflateRaw:wz,ungzip:bz,constants:Sz},{Deflate:goe,deflate:voe,deflateRaw:yoe,gzip:_oe}=kB,{Inflate:Az,inflate:Iz,inflateRaw:woe,ungzip:boe}=Ez;var JS=Az,n3=Iz;var r3=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;r3[n]=t}var i3=4294967295;function Cz(n,t,e){let i=n;for(let r=0;r<e;r++)i=r3[(i^t[r])&255]^i>>>8;return i}function xz(n,t){return(Cz(i3,n,t)^i3)>>>0}function QS(n,t,e){let i=n.readUint32(),r=xz(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(r!==i)throw new Error(`CRC mismatch for chunk ${e}. Expected ${i}, found ${r}`)}function Gv(n,t,e){for(let i=0;i<e;i++)t[i]=n[i]}function Kv(n,t,e,i){let r=0;for(;r<i;r++)t[r]=n[r];for(;r<e;r++)t[r]=n[r]+t[r-i]&255}function Yv(n,t,e,i){let r=0;if(e.length===0)for(;r<i;r++)t[r]=n[r];else for(;r<i;r++)t[r]=n[r]+e[r]&255}function Xv(n,t,e,i,r){let o=0;if(e.length===0){for(;o<r;o++)t[o]=n[o];for(;o<i;o++)t[o]=n[o]+(t[o-r]>>1)&255}else{for(;o<r;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<i;o++)t[o]=n[o]+(t[o-r]+e[o]>>1)&255}}function Jv(n,t,e,i,r){let o=0;if(e.length===0){for(;o<r;o++)t[o]=n[o];for(;o<i;o++)t[o]=n[o]+t[o-r]&255}else{for(;o<r;o++)t[o]=n[o]+e[o]&255;for(;o<i;o++)t[o]=n[o]+Tz(t[o-r],e[o],e[o-r])&255}}function Tz(n,t,e){let i=n+t-e,r=Math.abs(i-n),o=Math.abs(i-t),s=Math.abs(i-e);return r<=o&&r<=s?n:o<=s?t:e}function o3(n,t,e,i,r,o){switch(n){case 0:Gv(t,e,r);break;case 1:Kv(t,e,r,o);break;case 2:Yv(t,e,i,r);break;case 3:Xv(t,e,i,r,o);break;case 4:Jv(t,e,i,r,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}var Dz=new Uint16Array([255]),Pz=new Uint8Array(Dz.buffer),kz=Pz[0]===255;function s3(n){let{data:t,width:e,height:i,channels:r,depth:o}=n,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*r,l=new Uint8Array(i*e*a),c=0;for(let h=0;h<7;h++){let g=s[h],_=Math.ceil((e-g.x)/g.xStep),p=Math.ceil((i-g.y)/g.yStep);if(_<=0||p<=0)continue;let P=_*a,O=new Uint8Array(P);for(let N=0;N<p;N++){let R=t[c++],Q=t.subarray(c,c+P);c+=P;let Z=new Uint8Array(P);o3(R,Q,Z,O,P,a),O.set(Z);for(let X=0;X<_;X++){let he=g.x+X*g.xStep,_e=g.y+N*g.yStep;if(!(he>=e||_e>=i))for(let H=0;H<a;H++)l[(_e*e+he)*a+H]=Z[X*a+H]}}}if(o===16){let h=new Uint16Array(l.buffer);if(kz)for(let g=0;g<h.length;g++)h[g]=Rz(h[g]);return h}else return l}function Rz(n){return(n&255)<<8|n>>8&255}var Nz=new Uint16Array([255]),Oz=new Uint8Array(Nz.buffer),Mz=Oz[0]===255,Lz=new Uint8Array(0);function ZS(n){let{data:t,width:e,height:i,channels:r,depth:o}=n,s=Math.ceil(o/8)*r,a=Math.ceil(o/8*r*e),l=new Uint8Array(i*a),c=Lz,h=0,g,_;for(let p=0;p<i;p++){switch(g=t.subarray(h+1,h+1+a),_=l.subarray(p*a,(p+1)*a),t[h]){case 0:Gv(g,_,a);break;case 1:Kv(g,_,a,s);break;case 2:Yv(g,_,c,a);break;case 3:Xv(g,_,c,a,s);break;case 4:Jv(g,_,c,a,s);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}c=_,h+=a+1}if(o===16){let p=new Uint16Array(l.buffer);if(Mz)for(let P=0;P<p.length;P++)p[P]=Fz(p[P]);return p}else return l}function Fz(n){return(n&255)<<8|n>>8&255}var Qv=Uint8Array.of(137,80,78,71,13,10,26,10);function e5(n){if(!a3(n.readBytes(Qv.length)))throw new Error("wrong PNG signature")}function a3(n){if(n.length<Qv.length)return!1;for(let t=0;t<Qv.length;t++)if(n[t]!==Qv[t])return!1;return!0}var l3="tEXt",jz=0,c3=new TextDecoder("latin1");function Uz(n){if(zz(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}var Bz=/^[\u0000-\u00FF]*$/;function zz(n){if(!Bz.test(n))throw new Error("invalid latin1 text")}function u3(n,t,e){let i=t5(t);n[i]=$z(t,e-i.length-1)}function t5(n){for(n.mark();n.readByte()!==jz;);let t=n.offset;n.reset();let e=c3.decode(n.readBytes(t-n.offset-1));return n.skip(1),Uz(e),e}function $z(n,t){return c3.decode(n.readBytes(t))}var wo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},lm={UNKNOWN:-1,DEFLATE:0},Zv={UNKNOWN:-1,ADAPTIVE:0},cm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},um={NONE:0,BACKGROUND:1,PREVIOUS:2},e1={SOURCE:0,OVER:1};var t1=class extends $p{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);let{checkCrc:i=!1}=e;this._checkCrc=i,this._inflator=new JS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=lm.UNKNOWN,this._filterMethod=Zv.UNKNOWN,this._interlaceMethod=cm.UNKNOWN,this._colorType=wo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(e5(this);!this._end;){let t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(e5(this);!this._end;){let t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){let i=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case l3:u3(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?QS(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){let i=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?QS(this,t+4,e):this.skip(4)}decodeIHDR(){let t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=qz(this.readUint8());let e=this.readUint8();this._colorType=e;let i;switch(e){case wo.GREYSCALE:i=1;break;case wo.TRUECOLOUR:i=3;break;case wo.INDEXED_COLOUR:i=1;break;case wo.GREYSCALE_ALPHA:i=2;break;case wo.TRUECOLOUR_ALPHA:i=4;break;case wo.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==lm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);let e=t/3;this._hasPalette=!0;let i=[];this._palette=i;for(let r=0;r<e;r++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;let e=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,i=this.offset+this.byteOffset;if(i+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case wo.GREYSCALE:case wo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case wo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){let i=this.readByte();this._palette[e].push(i)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case wo.UNKNOWN:case wo.GREYSCALE_ALPHA:case wo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){let e=t5(this),i=this.readUint8();if(i!==lm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);let r=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:n3(r)}}decodepHYs(){let t=this.readUint32(),e=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:e,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){let e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=ZS({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)e.data=i.data;else{let r=this._apng.frames.at(t-1);this.disposeFrame(i,r,e),this.addFrameDataToCanvas(e,i)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,i){switch(t.disposeOp){case um.NONE:break;case um.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let o=0;o<this._png.width;o++){let s=(r*t.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)i.data[s+a]=0}break;case um.PREVIOUS:i.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){let i=1<<this._png.depth,r=(o,s)=>{let a=((o+e.yOffset)*this._png.width+e.xOffset+s)*this._png.channels,l=(o*e.width+s)*this._png.channels;return{index:a,frameIndex:l}};switch(e.blendOp){case e1.SOURCE:for(let o=0;o<e.height;o++)for(let s=0;s<e.width;s++){let{index:a,frameIndex:l}=r(o,s);for(let c=0;c<this._png.channels;c++)t.data[a+c]=e.data[l+c]}break;case e1.OVER:for(let o=0;o<e.height;o++)for(let s=0;s<e.width;s++){let{index:a,frameIndex:l}=r(o,s);for(let c=0;c<this._png.channels;c++){let h=e.data[l+this._png.channels-1]/i,g=c%(this._png.channels-1)===0?1:e.data[l+c],_=Math.floor(h*g+(1-h)*t.data[a+c]);t.data[a+c]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Zv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===cm.NO_INTERLACE)this._png.data=ZS({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===cm.ADAM7)this._png.data=s3({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:um.NONE,blendOp:e1.SOURCE,data:t}),this._inflator=new JS,this._writingDataChunks=!1}};function qz(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}function d3(n,t){return new t1(n,t).decode()}var Ht=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function n5(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var ei={log:n5,warn:function(n){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):n5.call(null,arguments))},error:function(n){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):n5(n))}};function i5(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Zu(i.response,t,e)},i.onerror=function(){ei.error("could not download file")},i.send()}function h3(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function n1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Zu=Ht.saveAs||((typeof window>"u"?"undefined":Kn(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=Ht.URL||Ht.webkitURL,r=document.createElement("a");t=t||n.name||"download",r.download=t,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?h3(r.href)?i5(n,t,e):n1(r,r.target="_blank"):n1(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){n1(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(h3(n))i5(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){n1(i)})}else navigator.msSaveOrOpenBlob((function(r,o){return o===void 0?o={autoBom:!1}:Kn(o)!=="object"&&(ei.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r})(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return i5(n,t,e);var r=n.type==="application/octet-stream",o=/constructor/i.test(Ht.HTMLElement)||Ht.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&o)&&(typeof FileReader>"u"?"undefined":Kn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=h:location=h,i=null},a.readAsDataURL(n)}else{var l=Ht.URL||Ht.webkitURL,c=l.createObjectURL(n);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function L3(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<e.length;i++){var r=e[i].re,o=e[i].process,s=r.exec(n);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var s1=Ht.atob.bind(Ht),f3=Ht.btoa.bind(Ht);function r5(n,t){var e=n[0],i=n[1],r=n[2],o=n[3];e=eo(e,i,r,o,t[0],7,-680876936),o=eo(o,e,i,r,t[1],12,-389564586),r=eo(r,o,e,i,t[2],17,606105819),i=eo(i,r,o,e,t[3],22,-1044525330),e=eo(e,i,r,o,t[4],7,-176418897),o=eo(o,e,i,r,t[5],12,1200080426),r=eo(r,o,e,i,t[6],17,-1473231341),i=eo(i,r,o,e,t[7],22,-45705983),e=eo(e,i,r,o,t[8],7,1770035416),o=eo(o,e,i,r,t[9],12,-1958414417),r=eo(r,o,e,i,t[10],17,-42063),i=eo(i,r,o,e,t[11],22,-1990404162),e=eo(e,i,r,o,t[12],7,1804603682),o=eo(o,e,i,r,t[13],12,-40341101),r=eo(r,o,e,i,t[14],17,-1502002290),e=to(e,i=eo(i,r,o,e,t[15],22,1236535329),r,o,t[1],5,-165796510),o=to(o,e,i,r,t[6],9,-1069501632),r=to(r,o,e,i,t[11],14,643717713),i=to(i,r,o,e,t[0],20,-373897302),e=to(e,i,r,o,t[5],5,-701558691),o=to(o,e,i,r,t[10],9,38016083),r=to(r,o,e,i,t[15],14,-660478335),i=to(i,r,o,e,t[4],20,-405537848),e=to(e,i,r,o,t[9],5,568446438),o=to(o,e,i,r,t[14],9,-1019803690),r=to(r,o,e,i,t[3],14,-187363961),i=to(i,r,o,e,t[8],20,1163531501),e=to(e,i,r,o,t[13],5,-1444681467),o=to(o,e,i,r,t[2],9,-51403784),r=to(r,o,e,i,t[7],14,1735328473),e=no(e,i=to(i,r,o,e,t[12],20,-1926607734),r,o,t[5],4,-378558),o=no(o,e,i,r,t[8],11,-2022574463),r=no(r,o,e,i,t[11],16,1839030562),i=no(i,r,o,e,t[14],23,-35309556),e=no(e,i,r,o,t[1],4,-1530992060),o=no(o,e,i,r,t[4],11,1272893353),r=no(r,o,e,i,t[7],16,-155497632),i=no(i,r,o,e,t[10],23,-1094730640),e=no(e,i,r,o,t[13],4,681279174),o=no(o,e,i,r,t[0],11,-358537222),r=no(r,o,e,i,t[3],16,-722521979),i=no(i,r,o,e,t[6],23,76029189),e=no(e,i,r,o,t[9],4,-640364487),o=no(o,e,i,r,t[12],11,-421815835),r=no(r,o,e,i,t[15],16,530742520),e=io(e,i=no(i,r,o,e,t[2],23,-995338651),r,o,t[0],6,-198630844),o=io(o,e,i,r,t[7],10,1126891415),r=io(r,o,e,i,t[14],15,-1416354905),i=io(i,r,o,e,t[5],21,-57434055),e=io(e,i,r,o,t[12],6,1700485571),o=io(o,e,i,r,t[3],10,-1894986606),r=io(r,o,e,i,t[10],15,-1051523),i=io(i,r,o,e,t[1],21,-2054922799),e=io(e,i,r,o,t[8],6,1873313359),o=io(o,e,i,r,t[15],10,-30611744),r=io(r,o,e,i,t[6],15,-1560198380),i=io(i,r,o,e,t[13],21,1309151649),e=io(e,i,r,o,t[4],6,-145523070),o=io(o,e,i,r,t[11],10,-1120210379),r=io(r,o,e,i,t[2],15,718787259),i=io(i,r,o,e,t[9],21,-343485551),n[0]=Wc(e,n[0]),n[1]=Wc(i,n[1]),n[2]=Wc(r,n[2]),n[3]=Wc(o,n[3])}function f1(n,t,e,i,r,o){return t=Wc(Wc(t,n),Wc(i,o)),Wc(t<<r|t>>>32-r,e)}function eo(n,t,e,i,r,o,s){return f1(t&e|~t&i,n,t,r,o,s)}function to(n,t,e,i,r,o,s){return f1(t&i|e&~i,n,t,r,o,s)}function no(n,t,e,i,r,o,s){return f1(t^e^i,n,t,r,o,s)}function io(n,t,e,i,r,o,s){return f1(e^(t|~i),n,t,r,o,s)}function F3(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)r5(i,Hz(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(r5(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,r5(i,r),i}function Hz(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var p3="0123456789abcdef".split("");function Wz(n){for(var t="",e=0;e<4;e++)t+=p3[n>>8*e+4&15]+p3[n>>8*e&15];return t}function Gz(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function u5(n){return F3(n).map(Gz).join("")}var Kz=(function(n){for(var t=0;t<n.length;t++)n[t]=Wz(n[t]);return n.join("")})(F3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wc(n,t){if(Kz){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function d5(n,t){var e,i,r,o;if(n!==e){for(var s=(r=n,o=1+(256/n.length|0),new Array(o+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var h=a[l];c=(c+h+s.charCodeAt(l))%256,a[l]=a[c],a[c]=h}e=n,i=a}else a=i;var g=t.length,_=0,p=0,P="";for(l=0;l<g;l++)p=(p+(h=a[_=(_+1)%256]))%256,a[_]=a[p],a[p]=h,s=a[(a[_]+a[p])%256],P+=String.fromCharCode(t.charCodeAt(l)^s);return P}var m3={print:4,modify:8,copy:16,"annot-forms":32};function Vh(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(a){if(m3.perm!==void 0)throw new Error("Invalid permission: "+a);r+=m3[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(t+this.padding).substr(0,32),s=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^r)),this.encryptionKey=u5(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=d5(this.encryptionKey,this.padding)}function jh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);t+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return t}function g3(n){if(Kn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,typeof e!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[i,!!r],o},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var o in t[e]){var s=t[e][o];try{s[0].apply(n,i)}catch(a){Ht.console&&ei.error("jsPDF PubSub Error",a.message,a)}s[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function d1(n){if(!(this instanceof d1))return new d1(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function V3(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function ed(n,t,e,i,r){if(!(this instanceof ed))return new ed(n,t,e,i,r);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,V3.call(this,i,r)}function Uh(n,t,e,i,r){if(!(this instanceof Uh))return new Uh(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,V3.call(this,i,r)}function vt(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",h=null;Kn(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,r=n.format||r,o=n.compress||n.compressPdf||o,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),i=i||"mm",e=(""+(e||"P")).toLowerCase();var g=n.putOnlyUsedFonts||!1,_={},p={internal:{},__private__:{}};p.__private__.PubSub=g3;var P="1.3",O=p.__private__.getPdfVersion=function(){return P};p.__private__.setPdfVersion=function(m){P=m};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var R=p.__private__.getPageFormat=function(m){return N[m]};r=r||"a4";var Q="compat",Z="advanced",X=Q;function he(){this.saveGraphicsState(),W(new bt(Kt,0,0,-Kt,0,Ms()*Kt).toString()+" cm"),this.setFontSize(this.getFontSize()/Kt),c="n",X=Z}function _e(){this.restoreGraphicsState(),c="S",X=Q}var H=p.__private__.combineFontStyleAndFontWeight=function(m,D){if(m=="bold"&&D=="normal"||m=="bold"&&D==400||m=="normal"&&D=="italic"||m=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(m=D==400||D==="normal"?m==="italic"?"italic":"normal":D!=700&&D!=="bold"||m!=="normal"?(D==700?"bold":D)+""+m:"bold"),m};p.advancedAPI=function(m){var D=X===Q;return D&&he.call(this),typeof m!="function"||(m(this),D&&_e.call(this)),this},p.compatAPI=function(m){var D=X===Z;return D&&_e.call(this),typeof m!="function"||(m(this),D&&he.call(this)),this},p.isAdvancedAPI=function(){return X===Z};var T,I=function(m){if(X!==Z)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=p.roundToPrecision=p.__private__.roundToPrecision=function(m,D){var G=t||D;if(isNaN(m)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(G).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return V(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return V(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return V(m,16)};var b=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return V(m,2)},C=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return V(m,3)},x=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return X===Q?m*Kt:X===Z?m:void 0},te=function(m){return x((function(D){return X===Q?Ms()-D:X===Z?D:void 0})(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(t=parseInt(m,10))};var we,Ie="00000000000000000000000000000000",Ae=p.__private__.getFileId=function(){return Ie},pe=p.__private__.setFileId=function(m){return Ie=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():Ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Di=new Vh(h.userPermissions,h.userPassword,h.ownerPassword,Ie)),Ie};p.setFileId=function(m){return pe(m),this},p.getFileId=function(){return Ae()};var Ce=p.__private__.convertDateToPDFDate=function(m){var D=m.getTimezoneOffset(),G=D<0?"+":"-",ne=Math.floor(Math.abs(D/60)),ue=Math.abs(D%60),Te=[G,ee(ne),"'",ee(ue),"'"].join("");return["D:",m.getFullYear(),ee(m.getMonth()+1),ee(m.getDate()),ee(m.getHours()),ee(m.getMinutes()),ee(m.getSeconds()),Te].join("")},He=p.__private__.convertPDFDateToDate=function(m){var D=parseInt(m.substr(2,4),10),G=parseInt(m.substr(6,2),10)-1,ne=parseInt(m.substr(8,2),10),ue=parseInt(m.substr(10,2),10),Te=parseInt(m.substr(12,2),10),Me=parseInt(m.substr(14,2),10);return new Date(D,G,ne,ue,Te,Me,0)},Le=p.__private__.setCreationDate=function(m){var D;if(m===void 0&&(m=new Date),m instanceof Date)D=Ce(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=m}return we=D},L=p.__private__.getCreationDate=function(m){var D=we;return m==="jsDate"&&(D=He(we)),D};p.setCreationDate=function(m){return Le(m),this},p.getCreationDate=function(m){return L(m)};var J,ee=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},re=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ce=0,fe=[],Se=[],Ee=0,Pe=[],Ue=[],Je=!1,Xe=Se;p.__private__.setCustomOutputDestination=function(m){Je=!0,Xe=m};var pt=function(m){Je||(Xe=m)};p.__private__.resetCustomOutputDestination=function(){Je=!1,Xe=Se};var W=p.__private__.out=function(m){return m=m.toString(),Ee+=m.length+1,Xe.push(m),Xe},Ye=p.__private__.write=function(m){return W(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},en=p.__private__.getArrayBuffer=function(m){for(var D=m.length,G=new ArrayBuffer(D),ne=new Uint8Array(G);D--;)ne[D]=m.charCodeAt(D);return G},xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return xt};var Ve=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return Ve=X===Z?m/Kt:m,this};var At,it=p.__private__.getFontSize=p.getFontSize=function(){return X===Q?Ve:Ve*Kt},St=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return St=m,this},p.__private__.getR2L=p.getR2L=function(){return St};var wt,An=p.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))At=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');At=m}else At=parseInt(m,10)};p.__private__.getZoomMode=function(){return At};var dn,$t=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');wt=m};p.__private__.getPageMode=function(){return wt};var kt=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');dn=m};p.__private__.getLayoutMode=function(){return dn},p.__private__.setDisplayMode=p.setDisplayMode=function(m,D,G){return An(m),kt(D),$t(G),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(Rt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[m]},p.__private__.getDocumentProperties=function(){return Rt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var D in Rt)Rt.hasOwnProperty(D)&&m[D]&&(Rt[D]=m[D]);return this},p.__private__.setDocumentProperty=function(m,D){if(Object.keys(Rt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[m]=D};var at,Kt,ht,mi,pn,rn={},on={},zn=[],Et={},$n={},Tt={},Wt={},Xn=null,Yt=0,It=[],In=new g3(p),ro=n.hotfixes||[],er={},bo={},No=[],bt=function m(D,G,ne,ue,Te,Me){if(!(this instanceof m))return new m(D,G,ne,ue,Te,Me);isNaN(D)&&(D=1),isNaN(G)&&(G=0),isNaN(ne)&&(ne=0),isNaN(ue)&&(ue=1),isNaN(Te)&&(Te=0),isNaN(Me)&&(Me=0),this._matrix=[D,G,ne,ue,Te,Me]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(m)},bt.prototype.multiply=function(m){var D=m.sx*this.sx+m.shy*this.shx,G=m.sx*this.shy+m.shy*this.sy,ne=m.shx*this.sx+m.sy*this.shx,ue=m.shx*this.shy+m.sy*this.sy,Te=m.tx*this.sx+m.ty*this.shx+this.tx,Me=m.tx*this.shy+m.ty*this.sy+this.ty;return new bt(D,G,ne,ue,Te,Me)},bt.prototype.decompose=function(){var m=this.sx,D=this.shy,G=this.shx,ne=this.sy,ue=this.tx,Te=this.ty,Me=Math.sqrt(m*m+D*D),rt=(m/=Me)*G+(D/=Me)*ne;G-=m*rt,ne-=D*rt;var ct=Math.sqrt(G*G+ne*ne);return rt/=ct,m*(ne/=ct)<D*(G/=ct)&&(m=-m,D=-D,rt=-rt,Me=-Me),{scale:new bt(Me,0,0,ct,0,0),translate:new bt(1,0,0,1,ue,Te),rotate:new bt(m,D,-D,m,0,0),skew:new bt(1,0,rt,1,0,0)}},bt.prototype.toString=function(m){return this.join(" ")},bt.prototype.inversed=function(){var m=this.sx,D=this.shy,G=this.shx,ne=this.sy,ue=this.tx,Te=this.ty,Me=1/(m*ne-D*G),rt=ne*Me,ct=-D*Me,Mt=-G*Me,qt=m*Me;return new bt(rt,ct,Mt,qt,-rt*ue-Mt*Te,-ct*ue-qt*Te)},bt.prototype.applyToPoint=function(m){var D=m.x*this.sx+m.y*this.shx+this.tx,G=m.x*this.shy+m.y*this.sy+this.ty;return new Ns(D,G)},bt.prototype.applyToRectangle=function(m){var D=this.applyToPoint(m),G=this.applyToPoint(new Ns(m.x+m.w,m.y+m.h));return new ql(D.x,D.y,G.x-D.x,G.y-D.y)},bt.prototype.clone=function(){var m=this.sx,D=this.shy,G=this.shx,ne=this.sy,ue=this.tx,Te=this.ty;return new bt(m,D,G,ne,ue,Te)},p.Matrix=bt;var os=p.matrixMult=function(m,D){return D.multiply(m)},oi=new bt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=oi;var oo=function(m,D){if(!$n[m]){var G=(D instanceof ed?"Sh":"P")+(Object.keys(Et).length+1).toString(10);D.id=G,$n[m]=G,Et[G]=D,In.publish("addPattern",D)}};p.ShadingPattern=ed,p.TilingPattern=Uh,p.addShadingPattern=function(m,D){return I("addShadingPattern()"),oo(m,D),this},p.beginTilingPattern=function(m){I("beginTilingPattern()"),Hl(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,D){I("endTilingPattern()"),D.stream=Ue[J].join(`
`),oo(m,D),In.publish("endTilingPattern",D),No.pop().restore()};var ur,qn=p.__private__.newObject=function(){var m=Bi();return tr(m,!0),m},Bi=p.__private__.newObjectDeferred=function(){return ce++,fe[ce]=function(){return Ee},ce},tr=function(m,D){return D=typeof D=="boolean"&&D,fe[m]=Ee,D&&W(m+" 0 obj"),m},So=p.__private__.newAdditionalObject=function(){var m={objId:Bi(),content:""};return Pe.push(m),m},aa=Bi(),Oo=Bi(),so=p.__private__.decodeColorString=function(m){var D=m.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var G=parseFloat(D[0]);D=[G,G,G,"r"]}for(var ne="#",ue=0;ue<3;ue++)ne+=("0"+Math.floor(255*parseFloat(D[ue])).toString(16)).slice(-2);return ne},Eo=p.__private__.encodeColorString=function(m){var D;typeof m=="string"&&(m={ch1:m});var G=m.ch1,ne=m.ch2,ue=m.ch3,Te=m.ch4,Me=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var rt=new L3(G);if(rt.ok)G=rt.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var ct=parseInt(G.substr(1),16);G=ct>>16&255,ne=ct>>8&255,ue=255&ct}if(ne===void 0||Te===void 0&&G===ne&&ne===ue)D=typeof G=="string"?G+" "+Me[0]:m.precision===2?b(G/255)+" "+Me[0]:C(G/255)+" "+Me[0];else if(Te===void 0||Kn(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return["1.","1.","1.",Me[1]].join(" ");D=typeof G=="string"?[G,ne,ue,Me[1]].join(" "):m.precision===2?[b(G/255),b(ne/255),b(ue/255),Me[1]].join(" "):[C(G/255),C(ne/255),C(ue/255),Me[1]].join(" ")}else D=typeof G=="string"?[G,ne,ue,Te,Me[2]].join(" "):m.precision===2?[b(G),b(ne),b(ue),b(Te),Me[2]].join(" "):[C(G),C(ne),C(ue),C(Te),Me[2]].join(" ");return D},ao=p.__private__.getFilters=function(){return s},Pr=p.__private__.putStream=function(m){var D=(m=m||{}).data||"",G=m.filters||ao(),ne=m.alreadyAppliedFilters||[],ue=m.addLength1||!1,Te=D.length,Me=m.objectId,rt=function(wi){return wi};if(h!==null&&Me===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(rt=Di.encryptor(Me,0));var ct={};G===!0&&(G=["FlateEncode"]);var Mt=m.additionalKeyValues||[],qt=(ct=vt.API.processDataByFilters!==void 0?vt.API.processDataByFilters(D,G):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(ne)?ne.join(" "):ne.toString());if(ct.data.length!==0&&(Mt.push({key:"Length",value:ct.data.length}),ue===!0&&Mt.push({key:"Length1",value:Te})),qt.length!=0)if(qt.split("/").length-1==1)Mt.push({key:"Filter",value:qt});else{Mt.push({key:"Filter",value:"["+qt+"]"});for(var _n=0;_n<Mt.length;_n+=1)if(Mt[_n].key==="DecodeParms"){for(var ti=[],Wn=0;Wn<ct.reverseChain.split("/").length-1;Wn+=1)ti.push("null");ti.push(Mt[_n].value),Mt[_n].value="["+ti.join(" ")+"]"}}W("<<");for(var jn=0;jn<Mt.length;jn++)W("/"+Mt[jn].key+" "+Mt[jn].value);W(">>"),ct.data.length!==0&&(W("stream"),W(rt(ct.data)),W("endstream"))},Br=p.__private__.putPage=function(m){var D=m.number,G=m.data,ne=m.objId,ue=m.contentsObjId;tr(ne,!0),W("<</Type /Page"),W("/Parent "+m.rootDictionaryObjId+" 0 R"),W("/Resources "+m.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(T(m.mediaBox.bottomLeftX))+" "+parseFloat(T(m.mediaBox.bottomLeftY))+" "+T(m.mediaBox.topRightX)+" "+T(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&W("/CropBox ["+T(m.cropBox.bottomLeftX)+" "+T(m.cropBox.bottomLeftY)+" "+T(m.cropBox.topRightX)+" "+T(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&W("/BleedBox ["+T(m.bleedBox.bottomLeftX)+" "+T(m.bleedBox.bottomLeftY)+" "+T(m.bleedBox.topRightX)+" "+T(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&W("/TrimBox ["+T(m.trimBox.bottomLeftX)+" "+T(m.trimBox.bottomLeftY)+" "+T(m.trimBox.topRightX)+" "+T(m.trimBox.topRightY)+"]"),m.artBox!==null&&W("/ArtBox ["+T(m.artBox.bottomLeftX)+" "+T(m.artBox.bottomLeftY)+" "+T(m.artBox.topRightX)+" "+T(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&W("/UserUnit "+m.userUnit),In.publish("putPage",{objId:ne,pageContext:It[D],pageNumber:D,page:G}),W("/Contents "+ue+" 0 R"),W(">>"),W("endobj");var Te=G.join(`
`);return X===Z&&(Te+=`
Q`),tr(ue,!0),Pr({data:Te,filters:ao(),objectId:ue}),W("endobj"),ne},Mo=p.__private__.putPages=function(){var m,D,G=[];for(m=1;m<=Yt;m++)It[m].objId=Bi(),It[m].contentsObjId=Bi();for(m=1;m<=Yt;m++)G.push(Br({number:m,data:Ue[m],objId:It[m].objId,contentsObjId:It[m].contentsObjId,mediaBox:It[m].mediaBox,cropBox:It[m].cropBox,bleedBox:It[m].bleedBox,trimBox:It[m].trimBox,artBox:It[m].artBox,userUnit:It[m].userUnit,rootDictionaryObjId:aa,resourceDictionaryObjId:Oo}));tr(aa,!0),W("<</Type /Pages");var ne="/Kids [";for(D=0;D<Yt;D++)ne+=G[D]+" 0 R ";W(ne+"]"),W("/Count "+Yt),W(">>"),W("endobj"),In.publish("postPutPages")},la=function(m){In.publish("putFont",{font:m,out:W,newObject:qn,putStream:Pr}),m.isAlreadyPutted!==!0&&(m.objectNumber=qn(),W("<<"),W("/Type /Font"),W("/BaseFont /"+jh(m.postScriptName)),W("/Subtype /Type1"),typeof m.encoding=="string"&&W("/Encoding /"+m.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},ca=function(m){m.objectNumber=qn();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[T(m.x),T(m.y),T(m.x+m.width),T(m.y+m.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var G=m.pages[1].join(`
`);Pr({data:G,additionalKeyValues:D,objectId:m.objectNumber}),W("endobj")},ua=function(m,D){D||(D=21);var G=qn(),ne=(function(Me,rt){var ct,Mt=[],qt=1/(rt-1);for(ct=0;ct<1;ct+=qt)Mt.push(ct);if(Mt.push(1),Me[0].offset!=0){var _n={offset:0,color:Me[0].color};Me.unshift(_n)}if(Me[Me.length-1].offset!=1){var ti={offset:1,color:Me[Me.length-1].color};Me.push(ti)}for(var Wn="",jn=0,wi=0;wi<Mt.length;wi++){for(ct=Mt[wi];ct>Me[jn+1].offset;)jn++;var vi=Me[jn].offset,zi=(ct-vi)/(Me[jn+1].offset-vi),Co=Me[jn].color,si=Me[jn+1].color;Wn+=re(Math.round((1-zi)*Co[0]+zi*si[0]).toString(16))+re(Math.round((1-zi)*Co[1]+zi*si[1]).toString(16))+re(Math.round((1-zi)*Co[2]+zi*si[2]).toString(16))}return Wn.trim()})(m.colors,D),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+D+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pr({data:ne,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),W("endobj"),m.objectNumber=qn(),W("<< /ShadingType "+m.type),W("/ColorSpace /DeviceRGB");var Te="/Coords ["+T(parseFloat(m.coords[0]))+" "+T(parseFloat(m.coords[1]))+" ";m.type===2?Te+=T(parseFloat(m.coords[2]))+" "+T(parseFloat(m.coords[3])):Te+=T(parseFloat(m.coords[2]))+" "+T(parseFloat(m.coords[3]))+" "+T(parseFloat(m.coords[4]))+" "+T(parseFloat(m.coords[5])),W(Te+="]"),m.matrix&&W("/Matrix ["+m.matrix.toString()+"]"),W("/Function "+G+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},Ga=function(m,D){var G=Bi(),ne=qn();D.push({resourcesOid:G,objectOid:ne}),m.objectNumber=ne;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+m.boundingBox.map(T).join(" ")+"]"}),ue.push({key:"XStep",value:T(m.xStep)}),ue.push({key:"YStep",value:T(m.yStep)}),ue.push({key:"Resources",value:G+" 0 R"}),m.matrix&&ue.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Pr({data:m.stream,additionalKeyValues:ue,objectId:m.objectNumber}),W("endobj")},rd=function(m){for(var D in m.objectNumber=qn(),W("<<"),m)switch(D){case"opacity":W("/ca "+b(m[D]));break;case"stroke-opacity":W("/CA "+b(m[D]))}W(">>"),W("endobj")},Qc=function(m){tr(m.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var D in W("/Font <<"),rn)rn.hasOwnProperty(D)&&(g===!1||g===!0&&_.hasOwnProperty(D))&&W("/"+D+" "+rn[D].objectNumber+" 0 R");W(">>")})(),(function(){if(Object.keys(Et).length>0){for(var D in W("/Shading <<"),Et)Et.hasOwnProperty(D)&&Et[D]instanceof ed&&Et[D].objectNumber>=0&&W("/"+D+" "+Et[D].objectNumber+" 0 R");In.publish("putShadingPatternDict"),W(">>")}})(),(function(D){if(Object.keys(Et).length>0){for(var G in W("/Pattern <<"),Et)Et.hasOwnProperty(G)&&Et[G]instanceof p.TilingPattern&&Et[G].objectNumber>=0&&Et[G].objectNumber<D&&W("/"+G+" "+Et[G].objectNumber+" 0 R");In.publish("putTilingPatternDict"),W(">>")}})(m.objectOid),(function(){if(Object.keys(Tt).length>0){var D;for(D in W("/ExtGState <<"),Tt)Tt.hasOwnProperty(D)&&Tt[D].objectNumber>=0&&W("/"+D+" "+Tt[D].objectNumber+" 0 R");In.publish("putGStateDict"),W(">>")}})(),(function(){for(var D in W("/XObject <<"),er)er.hasOwnProperty(D)&&er[D].objectNumber>=0&&W("/"+D+" "+er[D].objectNumber+" 0 R");In.publish("putXobjectDict"),W(">>")})(),W(">>"),W("endobj")},Ka=function(m){on[m.fontName]=on[m.fontName]||{},on[m.fontName][m.fontStyle]=m.id},Zc=function(m,D,G,ne,ue){var Te={id:"F"+(Object.keys(rn).length+1).toString(10),postScriptName:m,fontName:D,fontStyle:G,encoding:ne,isStandardFont:ue||!1,metadata:{}};return In.publish("addFont",{font:Te,instance:this}),rn[Te.id]=Te,Ka(Te),Te.id},zr=p.__private__.pdfEscape=p.pdfEscape=function(m,D){return(function(G,ne){var ue,Te,Me,rt,ct,Mt,qt,_n,ti;if(Me=(ne=ne||{}).sourceEncoding||"Unicode",ct=ne.outputEncoding,(ne.autoencode||ct)&&rn[at].metadata&&rn[at].metadata[Me]&&rn[at].metadata[Me].encoding&&(rt=rn[at].metadata[Me].encoding,!ct&&rn[at].encoding&&(ct=rn[at].encoding),!ct&&rt.codePages&&(ct=rt.codePages[0]),typeof ct=="string"&&(ct=rt[ct]),ct)){for(qt=!1,Mt=[],ue=0,Te=G.length;ue<Te;ue++)(_n=ct[G.charCodeAt(ue)])?Mt.push(String.fromCharCode(_n)):Mt.push(G[ue]),Mt[ue].charCodeAt(0)>>8&&(qt=!0);G=Mt.join("")}for(ue=G.length;qt===void 0&&ue!==0;)G.charCodeAt(ue-1)>>8&&(qt=!0),ue--;if(!qt)return G;for(Mt=ne.noBOM?[]:[254,255],ue=0,Te=G.length;ue<Te;ue++){if((ti=(_n=G.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push(ti),Mt.push(_n-(ti<<8))}return String.fromCharCode.apply(void 0,Mt)})(m,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ks=p.__private__.beginPage=function(m){Ue[++Yt]=[],It[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},od(Yt),pt(Ue[J])},ss=function(m,D){var G,ne,ue;switch(e=D||e,typeof m=="string"&&(G=R(m.toLowerCase()),Array.isArray(G)&&(ne=G[0],ue=G[1])),Array.isArray(m)&&(ne=m[0]*Kt,ue=m[1]*Kt),isNaN(ne)&&(ne=r[0],ue=r[1]),(ne>14400||ue>14400)&&(ei.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ne=Math.min(14400,ne),ue=Math.min(14400,ue)),r=[ne,ue],e.substr(0,1)){case"l":ue>ne&&(r=[ue,ne]);break;case"p":ne>ue&&(r=[ue,ne])}ks(r),Ut($l),W(cs),Za!==0&&W(Za+" J"),Hn!==0&&W(Hn+" j"),In.publish("addPage",{pageNumber:Yt})},Ya=function(m){m>0&&m<=Yt&&(Ue.splice(m,1),It.splice(m,1),Yt--,J>Yt&&(J=Yt),this.setPage(J))},od=function(m){m>0&&m<=Yt&&(J=m)},eu=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ue.length-1},tu=function(m,D,G){var ne,ue=void 0;return G=G||{},m=m!==void 0?m:rn[at].fontName,D=D!==void 0?D:rn[at].fontStyle,ne=m.toLowerCase(),on[ne]!==void 0&&on[ne][D]!==void 0?ue=on[ne][D]:on[m]!==void 0&&on[m][D]!==void 0?ue=on[m][D]:G.disableWarning===!1&&ei.warn("Unable to look up font label for font '"+m+"', '"+D+"'. Refer to getFontList() for available fonts."),ue||G.noFallback||(ue=on.times[D])==null&&(ue=on.times.normal),ue},Lo=p.__private__.putInfo=function(){var m=qn(),D=function(ne){return ne};for(var G in h!==null&&(D=Di.encryptor(m,0)),W("<<"),W("/Producer ("+zr(D("jsPDF "+vt.version))+")"),Rt)Rt.hasOwnProperty(G)&&Rt[G]&&W("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+zr(D(Rt[G]))+")");W("/CreationDate ("+zr(D(we))+")"),W(">>"),W("endobj")},da=p.__private__.putCatalog=function(m){var D=(m=m||{}).rootDictionaryObjId||aa;switch(qn(),W("<<"),W("/Type /Catalog"),W("/Pages "+D+" 0 R"),At||(At="fullwidth"),At){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+At;G.substr(G.length-1)==="%"&&(At=parseInt(At)/100),typeof At=="number"&&W("/OpenAction [3 0 R /XYZ null null "+b(At)+"]")}switch(dn||(dn="continuous"),dn){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}wt&&W("/PageMode /"+wt),In.publish("putCatalog"),W(">>"),W("endobj")},nu=p.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(ce+1)),W("/Root "+ce+" 0 R"),W("/Info "+(ce-1)+" 0 R"),h!==null&&W("/Encrypt "+Di.oid+" 0 R"),W("/ID [ <"+Ie+"> <"+Ie+"> ]"),W(">>")},gi=p.__private__.putHeader=function(){W("%PDF-"+P),W("%\xBA\xDF\xAC\xE0")},iu=p.__private__.putXRef=function(){var m="0000000000";W("xref"),W("0 "+(ce+1)),W("0000000000 65535 f ");for(var D=1;D<=ce;D++)typeof fe[D]=="function"?W((m+fe[D]()).slice(-10)+" 00000 n "):fe[D]!==void 0?W((m+fe[D]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},as=p.__private__.buildDocument=function(){var m;ce=0,Ee=0,Se=[],fe=[],Pe=[],aa=Bi(),Oo=Bi(),pt(Se),In.publish("buildDocument"),gi(),Mo(),(function(){In.publish("putAdditionalObjects");for(var G=0;G<Pe.length;G++){var ne=Pe[G];tr(ne.objId,!0),W(ne.content),W("endobj")}In.publish("postPutAdditionalObjects")})(),m=[],(function(){for(var G in rn)rn.hasOwnProperty(G)&&(g===!1||g===!0&&_.hasOwnProperty(G))&&la(rn[G])})(),(function(){var G;for(G in Tt)Tt.hasOwnProperty(G)&&rd(Tt[G])})(),(function(){for(var G in er)er.hasOwnProperty(G)&&ca(er[G])})(),(function(G){var ne;for(ne in Et)Et.hasOwnProperty(ne)&&(Et[ne]instanceof ed?ua(Et[ne]):Et[ne]instanceof Uh&&Ga(Et[ne],G))})(m),In.publish("putResources"),m.forEach(Qc),Qc({resourcesOid:Oo,objectOid:Number.MAX_SAFE_INTEGER}),In.publish("postPutResources"),h!==null&&(Di.oid=qn(),W("<<"),W("/Filter /Standard"),W("/V "+Di.v),W("/R "+Di.r),W("/U <"+Di.toHexString(Di.U)+">"),W("/O <"+Di.toHexString(Di.O)+">"),W("/P "+Di.P),W(">>"),W("endobj")),Lo(),da();var D=Ee;return iu(),nu(),W("startxref"),W(""+D),W("%%EOF"),pt(Ue[J]),Se.join(`
`)},Ul=p.__private__.getBlob=function(m){return new Blob([en(m)],{type:"application/pdf"})},ru=p.output=p.__private__.output=(ur=function(m,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",m){case void 0:return as();case"save":p.save(D.filename);break;case"arraybuffer":return en(as());case"blob":return Ul(as());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(Ul(as()))||void 0;ei.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",ne=as();try{G=f3(ne)}catch{G=f3(unescape(encodeURIComponent(ne)))}return"data:application/pdf;filename="+D.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(ue=D.pdfObjectUrl,Te="");var Me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",rt=Ht.open();return rt!==null&&rt.document.write(Me),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',Mt=Ht.open();if(Mt!==null){Mt.document.write(ct);var qt=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=D.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var _n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',ti=Ht.open();if(ti!==null&&(ti.document.write(_n),ti.document.title=D.filename),ti||typeof safari>"u")return ti;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",D);default:return null}},ur.foo=function(){try{return ur.apply(this,arguments)}catch(G){var m=G.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var D="Error in function "+m.split(`
`)[0].split("<")[0]+": "+G.message;if(!Ht.console)throw new Error(D);Ht.console.error(D,G),Ht.alert&&alert(D)}},ur.foo.bar=ur,ur.foo),lo=function(m){return Array.isArray(ro)===!0&&ro.indexOf(m)>-1};switch(i){case"pt":Kt=1;break;case"mm":Kt=72/25.4;break;case"cm":Kt=72/2.54;break;case"in":Kt=72;break;case"px":Kt=lo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Kt=12;break;case"ex":Kt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Kt=i}var Di=null;Le(),pe();var kr=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[m].objId,pageNumber:m,pageContext:It[m]}},Ao=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in It)if(It[D].objId===m)break;return kr(D)},Bl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:It[J].objId,pageNumber:J,pageContext:It[J]}};p.addPage=function(){return ss.apply(this,arguments),this},p.setPage=function(){return od.apply(this,arguments),pt.call(this,Ue[J]),this},p.insertPage=function(m){return this.addPage(),this.movePage(J,m),this},p.movePage=function(m,D){var G,ne;if(m>D){G=Ue[m],ne=It[m];for(var ue=m;ue>D;ue--)Ue[ue]=Ue[ue-1],It[ue]=It[ue-1];Ue[D]=G,It[D]=ne,this.setPage(D)}else if(m<D){G=Ue[m],ne=It[m];for(var Te=m;Te<D;Te++)Ue[Te]=Ue[Te+1],It[Te]=It[Te+1];Ue[D]=G,It[D]=ne,this.setPage(D)}return this},p.deletePage=function(){return Ya.apply(this,arguments),this},p.__private__.text=p.text=function(m,D,G,ne,ue){var Te,Me,rt,ct,Mt,qt,_n,ti,Wn,jn=(ne=ne||{}).scope||this;if(typeof m=="number"&&typeof D=="number"&&(typeof G=="string"||Array.isArray(G))){var wi=G;G=D,D=m,m=wi}if(arguments[3]instanceof bt==0?(rt=arguments[4],ct=arguments[5],Kn(_n=arguments[3])==="object"&&_n!==null||(typeof rt=="string"&&(ct=rt,rt=null),typeof _n=="string"&&(ct=_n,_n=null),typeof _n=="number"&&(rt=_n,_n=null),ne={flags:_n,angle:rt,align:ct})):(I("The transform parameter of text() with a Matrix value"),Wn=ue),isNaN(D)||isNaN(G)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return jn;var vi,zi="",Co=typeof ne.lineHeightFactor=="number"?ne.lineHeightFactor:$r,si=jn.internal.scaleFactor;function ds(Fn){return Fn=Fn.split("	").join(Array(ne.TabLen||9).join(" ")),zr(Fn,_n)}function Gl(Fn){for(var Jn,ki=Fn.concat(),nr=[],rl=ki.length;rl--;)typeof(Jn=ki.shift())=="string"?nr.push(Jn):Array.isArray(Fn)&&(Jn.length===1||Jn[1]===void 0&&Jn[2]===void 0)?nr.push(Jn[0]):nr.push([Jn[0],Jn[1],Jn[2]]);return nr}function Uo(Fn,Jn){var ki;if(typeof Fn=="string")ki=Jn(Fn)[0];else if(Array.isArray(Fn)){for(var nr,rl,uf=Fn.concat(),hd=[],bm=uf.length;bm--;)typeof(nr=uf.shift())=="string"?hd.push(Jn(nr)[0]):Array.isArray(nr)&&typeof nr[0]=="string"&&(rl=Jn(nr[0],nr[1],nr[2]),hd.push([rl[0],rl[1],rl[2]]));ki=hd}return ki}var d=!1,y=!0;if(typeof m=="string")d=!0;else if(Array.isArray(m)){var S=m.concat();Me=[];for(var B,ae=S.length;ae--;)(typeof(B=S.shift())!="string"||Array.isArray(B)&&typeof B[0]!="string")&&(y=!1);d=y}if(d===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var be=Ve/jn.internal.scaleFactor,We=be*(Co-1);switch(ne.baseline){case"bottom":G-=We;break;case"top":G+=be-We;break;case"hanging":G+=be-2*We;break;case"middle":G+=be/2-We}if((qt=ne.maxWidth||0)>0&&(typeof m=="string"?m=jn.splitTextToSize(m,qt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Fn,Jn){return Fn.concat(jn.splitTextToSize(Jn,qt))},[]))),Te={text:m,x:D,y:G,options:ne,mutex:{pdfEscape:zr,activeFontKey:at,fonts:rn,activeFontSize:Ve}},In.publish("preProcessText",Te),m=Te.text,rt=(ne=Te.options).angle,Wn instanceof bt==0&&rt&&typeof rt=="number"){rt*=Math.PI/180,ne.rotationDirection===0&&(rt=-rt),X===Z&&(rt=-rt);var Dn=Math.cos(rt),yi=Math.sin(rt);Wn=new bt(Dn,yi,-yi,Dn,0,0)}else rt&&rt instanceof bt&&(Wn=rt);X!==Z||Wn||(Wn=oi),(Mt=ne.charSpace||co)!==void 0&&(zi+=T(x(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ti=ne.horizontalScale)!==void 0&&(zi+=T(100*ti)+` Tz
`),ne.lang;var Bt=-1,ni=ne.renderingMode!==void 0?ne.renderingMode:ne.stroke,_i=jn.internal.getCurrentPageInfo().pageContext;switch(ni){case 0:case!1:case"fill":Bt=0;break;case 1:case!0:case"stroke":Bt=1;break;case 2:case"fillThenStroke":Bt=2;break;case 3:case"invisible":Bt=3;break;case 4:case"fillAndAddForClipping":Bt=4;break;case 5:case"strokeAndAddPathForClipping":Bt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Bt=6;break;case 7:case"addToPathForClipping":Bt=7}var Ls=_i.usedRenderingMode!==void 0?_i.usedRenderingMode:-1;Bt!==-1?zi+=Bt+` Tr
`:Ls!==-1&&(zi+=`0 Tr
`),Bt!==-1&&(_i.usedRenderingMode=Bt),ct=ne.align||"left";var ui,hs=Ve*Co,nl=jn.internal.pageSize.getWidth(),rf=rn[at];Mt=ne.charSpace||co,qt=ne.maxWidth||0,_n=Object.assign({autoencode:!0,noBOM:!0},ne.flags);var Kl=[],lu=function(Fn){return jn.getStringUnitWidth(Fn,{font:rf,charSpace:Mt,fontSize:Ve,doKerning:!1})*Ve/si};if(Object.prototype.toString.call(m)==="[object Array]"){var Bo;Me=Gl(m),ct!=="left"&&(ui=Me.map(lu));var zo,Yl=0;if(ct==="right"){D-=ui[0],m=[],ae=Me.length;for(var il=0;il<ae;il++)il===0?(zo=Rs(D),Bo=dr(G)):(zo=x(Yl-ui[il]),Bo=-hs),m.push([Me[il],zo,Bo]),Yl=ui[il]}else if(ct==="center"){D-=ui[0]/2,m=[],ae=Me.length;for(var Xl=0;Xl<ae;Xl++)Xl===0?(zo=Rs(D),Bo=dr(G)):(zo=x((Yl-ui[Xl])/2),Bo=-hs),m.push([Me[Xl],zo,Bo]),Yl=ui[Xl]}else if(ct==="left"){m=[],ae=Me.length;for(var of=0;of<ae;of++)m.push(Me[of])}else if(ct==="justify"&&rf.encoding==="Identity-H"){m=[],ae=Me.length,qt=qt!==0?qt:nl;for(var dd=0,Pi=0;Pi<ae;Pi++)if(Bo=Pi===0?dr(G):-hs,zo=Pi===0?Rs(D):dd,Pi<ae-1){var wm=x((qt-ui[Pi])/(Me[Pi].split(" ").length-1)),ma=Me[Pi].split(" ");m.push([ma[0]+" ",zo,Bo]),dd=0;for(var ga=1;ga<ma.length;ga++){var sf=(lu(ma[ga-1]+" "+ma[ga])-lu(ma[ga]))*si+wm;ga==ma.length-1?m.push([ma[ga],sf,0]):m.push([ma[ga]+" ",sf,0]),dd-=sf}}else m.push([Me[Pi],zo,Bo]);m.push(["",dd,0])}else{if(ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],ae=Me.length,qt=qt!==0?qt:nl,Pi=0;Pi<ae;Pi++){Bo=Pi===0?dr(G):-hs,zo=Pi===0?Rs(D):0;var af=Me[Pi].split(" ").length-1,lf=af>0?(qt-ui[Pi])/af:0;Pi<ae-1?Kl.push(T(x(lf))):Kl.push(0),m.push([Me[Pi],zo,Bo])}}}(typeof ne.R2L=="boolean"?ne.R2L:St)===!0&&(m=Uo(m,function(Fn,Jn,ki){return[Fn.split("").reverse().join(""),Jn,ki]})),Te={text:m,x:D,y:G,options:ne,mutex:{pdfEscape:zr,activeFontKey:at,fonts:rn,activeFontSize:Ve}},In.publish("postProcessText",Te),m=Te.text,vi=Te.mutex.isHex||!1;var cf=rn[at].encoding;cf!=="WinAnsiEncoding"&&cf!=="StandardEncoding"||(m=Uo(m,function(Fn,Jn,ki){return[ds(Fn),Jn,ki]})),Me=Gl(m),m=[];for(var Jl,Ql,Zl,cu=Array.isArray(Me[0])?1:0,ec="",uu=function(Fn,Jn,ki){var nr="";return ki instanceof bt?(ki=typeof ne.angle=="number"?os(ki,new bt(1,0,0,1,Fn,Jn)):os(new bt(1,0,0,1,Fn,Jn),ki),X===Z&&(ki=os(new bt(1,0,0,-1,0,0),ki)),nr=ki.join(" ")+` Tm
`):nr=T(Fn)+" "+T(Jn)+` Td
`,nr},fs=0;fs<Me.length;fs++){switch(ec="",cu){case 1:Zl=(vi?"<":"(")+Me[fs][0]+(vi?">":")"),Jl=parseFloat(Me[fs][1]),Ql=parseFloat(Me[fs][2]);break;case 0:Zl=(vi?"<":"(")+Me[fs]+(vi?">":")"),Jl=Rs(D),Ql=dr(G)}Kl!==void 0&&Kl[fs]!==void 0&&(ec=Kl[fs]+` Tw
`),fs===0?m.push(ec+uu(Jl,Ql,Wn)+Zl):cu===0?m.push(ec+Zl):cu===1&&m.push(ec+uu(Jl,Ql,Wn)+Zl)}m=cu===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var va=`BT
/`;return va+=at+" "+Ve+` Tf
`,va+=T(Ve*Co)+` TL
`,va+=pa+`
`,va+=zi,va+=m,W(va+="ET"),_[at]=!0,jn};var zl=p.__private__.clip=p.clip=function(m){return W(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return zl("evenodd")},p.__private__.discardPath=p.discardPath=function(){return W("n"),this};var Fo=p.__private__.isValidStyle=function(m){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(D=!0),D};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return Fo(m)&&(c=m),this};var Ln=p.__private__.getStyle=p.getStyle=function(m){var D=c;switch(m){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=m}return D},Xa=p.close=function(){return W("h"),this};p.stroke=function(){return W("S"),this},p.fill=function(m){return ls("f",m),this},p.fillEvenOdd=function(m){return ls("f*",m),this},p.fillStroke=function(m){return ls("B",m),this},p.fillStrokeEvenOdd=function(m){return ls("B*",m),this};var ls=function(m,D){Kn(D)==="object"?sd(D,m):W(m)},Vo=function(m){m===null||X===Z&&m===void 0||(m=Ln(m),W(m))};function Jh(m,D,G,ne,ue){var Te=new Uh(D||this.boundingBox,G||this.xStep,ne||this.yStep,this.gState,ue||this.matrix);Te.stream=this.stream;var Me=m+"$$"+this.cloneIndex+++"$$";return oo(Me,Te),Te}var sd=function(m,D){var G=$n[m.key],ne=Et[G];if(ne instanceof ed)W("q"),W(Qh(D)),ne.gState&&p.setGState(ne.gState),W(m.matrix.toString()+" cm"),W("/"+G+" sh"),W("Q");else if(ne instanceof Uh){var ue=new bt(1,0,0,-1,0,Ms());m.matrix&&(ue=ue.multiply(m.matrix||oi),G=Jh.call(ne,m.key,m.boundingBox,m.xStep,m.yStep,ue).id),W("q"),W("/Pattern cs"),W("/"+G+" scn"),ne.gState&&p.setGState(ne.gState),W(D),W("Q")}},Qh=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ou=p.moveTo=function(m,D){return W(T(x(m))+" "+T(te(D))+" m"),this},ad=p.lineTo=function(m,D){return W(T(x(m))+" "+T(te(D))+" l"),this},jo=p.curveTo=function(m,D,G,ne,ue,Te){return W([T(x(m)),T(te(D)),T(x(G)),T(te(ne)),T(x(ue)),T(te(Te)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,D,G,ne,ue){if(isNaN(m)||isNaN(D)||isNaN(G)||isNaN(ne)||!Fo(ue))throw new Error("Invalid arguments passed to jsPDF.line");return X===Q?this.lines([[G-m,ne-D]],m,D,[1,1],ue||"S"):this.lines([[G-m,ne-D]],m,D,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,D,G,ne,ue,Te){var Me,rt,ct,Mt,qt,_n,ti,Wn,jn,wi,vi,zi;if(typeof m=="number"&&(zi=G,G=D,D=m,m=zi),ne=ne||[1,1],Te=Te||!1,isNaN(D)||isNaN(G)||!Array.isArray(m)||!Array.isArray(ne)||!Fo(ue)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ou(D,G),Me=ne[0],rt=ne[1],Mt=m.length,wi=D,vi=G,ct=0;ct<Mt;ct++)(qt=m[ct]).length===2?(wi=qt[0]*Me+wi,vi=qt[1]*rt+vi,ad(wi,vi)):(_n=qt[0]*Me+wi,ti=qt[1]*rt+vi,Wn=qt[2]*Me+wi,jn=qt[3]*rt+vi,wi=qt[4]*Me+wi,vi=qt[5]*rt+vi,jo(_n,ti,Wn,jn,wi,vi));return Te&&Xa(),Vo(ue),this},p.path=function(m){for(var D=0;D<m.length;D++){var G=m[D],ne=G.c;switch(G.op){case"m":ou(ne[0],ne[1]);break;case"l":ad(ne[0],ne[1]);break;case"c":jo.apply(this,ne);break;case"h":Xa()}}return this},p.__private__.rect=p.rect=function(m,D,G,ne,ue){if(isNaN(m)||isNaN(D)||isNaN(G)||isNaN(ne)||!Fo(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return X===Q&&(ne=-ne),W([T(x(m)),T(te(D)),T(x(G)),T(x(ne)),"re"].join(" ")),Vo(ue),this},p.__private__.triangle=p.triangle=function(m,D,G,ne,ue,Te,Me){if(isNaN(m)||isNaN(D)||isNaN(G)||isNaN(ne)||isNaN(ue)||isNaN(Te)||!Fo(Me))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-m,ne-D],[ue-G,Te-ne],[m-ue,D-Te]],m,D,[1,1],Me,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,D,G,ne,ue,Te,Me){if(isNaN(m)||isNaN(D)||isNaN(G)||isNaN(ne)||isNaN(ue)||isNaN(Te)||!Fo(Me))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*G),Te=Math.min(Te,.5*ne),this.lines([[G-2*ue,0],[ue*rt,0,ue,Te-Te*rt,ue,Te],[0,ne-2*Te],[0,Te*rt,-ue*rt,Te,-ue,Te],[2*ue-G,0],[-ue*rt,0,-ue,-Te*rt,-ue,-Te],[0,2*Te-ne],[0,-Te*rt,ue*rt,-Te,ue,-Te]],m+ue,D,[1,1],Me,!0),this},p.__private__.ellipse=p.ellipse=function(m,D,G,ne,ue){if(isNaN(m)||isNaN(D)||isNaN(G)||isNaN(ne)||!Fo(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*G,Me=4/3*(Math.SQRT2-1)*ne;return ou(m+G,D),jo(m+G,D-Me,m+Te,D-ne,m,D-ne),jo(m-Te,D-ne,m-G,D-Me,m-G,D),jo(m-G,D+Me,m-Te,D+ne,m,D+ne),jo(m+Te,D+ne,m+G,D+Me,m+G,D),Vo(ue),this},p.__private__.circle=p.circle=function(m,D,G,ne){if(isNaN(m)||isNaN(D)||isNaN(G)||!Fo(ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,D,G,G,ne)},p.setFont=function(m,D,G){return G&&(D=H(D,G)),at=tu(m,D,{disableWarning:!1}),this};var Ja=p.__private__.getFont=p.getFont=function(){return rn[tu.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,D,G={};for(m in on)if(on.hasOwnProperty(m))for(D in G[m]=[],on[m])on[m].hasOwnProperty(D)&&G[m].push(D);return G},p.addFont=function(m,D,G,ne,ue){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(G=H(G,ne)),Zc.call(this,m,D,G,ue=ue||"Identity-H")};var $r,$l=n.lineWidth||.200025,ld=p.__private__.getLineWidth=p.getLineWidth=function(){return $l},Ut=p.__private__.setLineWidth=p.setLineWidth=function(m){return $l=m,W(T(x(m))+" w"),this};p.__private__.setLineDash=vt.API.setLineDash=vt.API.setLineDashPattern=function(m,D){if(m=m||[],D=D||0,isNaN(D)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(G){return T(x(G))}).join(" "),D=T(x(D)),W("["+m+"] "+D+" d"),this};var ha=p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*$r};p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*$r};var Zh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&($r=m),this},ef=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return $r};Zh(n.lineHeight);var Rs=p.__private__.getHorizontalCoordinate=function(m){return x(m)},dr=p.__private__.getVerticalCoordinate=function(m){return X===Z?m:It[J].mediaBox.topRightY-It[J].mediaBox.bottomLeftY-x(m)},tf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return T(Rs(m))},nf=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return T(dr(m))},cs=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return so(cs)},p.__private__.setStrokeColor=p.setDrawColor=function(m,D,G,ne){return cs=Eo({ch1:m,ch2:D,ch3:G,ch4:ne,pdfColorType:"draw",precision:2}),W(cs),this};var fa=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return so(fa)},p.__private__.setFillColor=p.setFillColor=function(m,D,G,ne){return fa=Eo({ch1:m,ch2:D,ch3:G,ch4:ne,pdfColorType:"fill",precision:2}),W(fa),this};var pa=n.textColor||"0 g",Qa=p.__private__.getTextColor=p.getTextColor=function(){return so(pa)};p.__private__.setTextColor=p.setTextColor=function(m,D,G,ne){return pa=Eo({ch1:m,ch2:D,ch3:G,ch4:ne,pdfColorType:"text",precision:3}),this};var co=n.charSpace,cd=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(co||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return co=m,this};var Za=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var D=p.CapJoinStyles[m];if(D===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Za=D,W(D+" J"),this};var Hn=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var D=p.CapJoinStyles[m];if(D===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hn=D,W(D+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(T(x(m))+" M"),this},p.GState=d1,p.setGState=function(m){(m=typeof m=="string"?Tt[Wt[m]]:ud(null,m)).equals(Xn)||(W("/"+m.id+" gs"),Xn=m)};var ud=function(m,D){if(!m||!Wt[m]){var G=!1;for(var ne in Tt)if(Tt.hasOwnProperty(ne)&&Tt[ne].equals(D)){G=!0;break}if(G)D=Tt[ne];else{var ue="GS"+(Object.keys(Tt).length+1).toString(10);Tt[ue]=D,D.id=ue}return m&&(Wt[m]=D.id),In.publish("addGState",D),D}};p.addGState=function(m,D){return ud(m,D),this},p.saveGraphicsState=function(){return W("q"),zn.push({key:at,size:Ve,color:pa}),this},p.restoreGraphicsState=function(){W("Q");var m=zn.pop();return at=m.key,Ve=m.size,pa=m.color,Xn=null,this},p.setCurrentTransformationMatrix=function(m){return W(m.toString()+" cm"),this},p.comment=function(m){return W("#"+m),this};var Ns=function(m,D){var G=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(Te){isNaN(Te)||(G=parseFloat(Te))}});var ne=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ne},set:function(Te){isNaN(Te)||(ne=parseFloat(Te))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(Te){ue=Te.toString()}}),this},ql=function(m,D,G,ne){Ns.call(this,m,D),this.type="rect";var ue=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Me){isNaN(Me)||(ue=parseFloat(Me))}});var Te=ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(Me){isNaN(Me)||(Te=parseFloat(Me))}}),this},el=function(){this.page=Yt,this.currentPage=J,this.pages=Ue.slice(0),this.pagesContext=It.slice(0),this.x=ht,this.y=mi,this.matrix=pn,this.width=Wl(J),this.height=su(J),this.outputDestination=Xe,this.id="",this.objectNumber=-1};el.prototype.restore=function(){Yt=this.page,J=this.currentPage,It=this.pagesContext,Ue=this.pages,ht=this.x,mi=this.y,pn=this.matrix,Io(J,this.width),Os(J,this.height),Xe=this.outputDestination};var Hl=function(m,D,G,ne,ue){No.push(new el),Yt=J=0,Ue=[],ht=m,mi=D,pn=ue,ks([G,ne])};for(var us in p.beginFormObject=function(m,D,G,ne,ue){return Hl(m,D,G,ne,ue),this},p.endFormObject=function(m){return(function(D){if(bo[D])No.pop().restore();else{var G=new el,ne="Xo"+(Object.keys(er).length+1).toString(10);G.id=ne,bo[D]=ne,er[ne]=G,In.publish("addFormObject",G),No.pop().restore()}})(m),this},p.doFormObject=function(m,D){var G=er[bo[m]];return W("q"),W(D.toString()+" cm"),W("/"+G.id+" Do"),W("Q"),this},p.getFormObject=function(m){var D=er[bo[m]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},p.save=function(m,D){return m=m||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(Zu(Ul(as()),m),typeof Zu.unload=="function"&&Ht.setTimeout&&setTimeout(Zu.unload,911),this):new Promise(function(G,ne){try{var ue=Zu(Ul(as()),m);typeof Zu.unload=="function"&&Ht.setTimeout&&setTimeout(Zu.unload,911),G(ue)}catch(Te){ne(Te.message)}})},vt.API)vt.API.hasOwnProperty(us)&&(us==="events"&&vt.API.events.length?(function(m,D){var G,ne,ue;for(ue=D.length-1;ue!==-1;ue--)G=D[ue][0],ne=D[ue][1],m.subscribe.apply(m,[G].concat(typeof ne=="function"?[ne]:ne))})(In,vt.API.events):p[us]=vt.API[us]);function Wl(m){return It[m].mediaBox.topRightX-It[m].mediaBox.bottomLeftX}function Io(m,D){It[m].mediaBox.topRightX=D+It[m].mediaBox.bottomLeftX}function su(m){return It[m].mediaBox.topRightY-It[m].mediaBox.bottomLeftY}function Os(m,D){It[m].mediaBox.topRightY=D+It[m].mediaBox.bottomLeftY}var uo=p.getPageWidth=function(m){return Wl(m=m||J)/Kt},au=p.setPageWidth=function(m,D){Io(m,D*Kt)},Ms=p.getPageHeight=function(m){return su(m=m||J)/Kt},tl=p.setPageHeight=function(m,D){Os(m,D*Kt)};return p.internal={pdfEscape:zr,getStyle:Ln,getFont:Ja,getFontSize:it,getCharSpace:cd,getTextColor:Qa,getLineHeight:ha,getLineHeightFactor:ef,getLineWidth:ld,write:Ye,getHorizontalCoordinate:Rs,getVerticalCoordinate:dr,getCoordinateString:tf,getVerticalCoordinateString:nf,collections:{},newObject:qn,newAdditionalObject:So,newObjectDeferred:Bi,newObjectDeferredBegin:tr,getFilters:ao,putStream:Pr,events:In,scaleFactor:Kt,pageSize:{getWidth:function(){return uo(J)},setWidth:function(m){au(J,m)},getHeight:function(){return Ms(J)},setHeight:function(m){tl(J,m)}},encryptionOptions:h,encryption:Di,getEncryptor:function(m){return h!==null?Di.encryptor(m,0):function(D){return D}},output:ru,getNumberOfPages:eu,get pages(){return Ue},out:W,f2:b,f3:C,getPageInfo:kr,getPageInfoByObjId:Ao,getCurrentPageInfo:Bl,getPDFVersion:O,Point:Ns,Rectangle:ql,Matrix:bt,hasHotfix:lo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return uo(J)},set:function(m){au(J,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ms(J)},set:function(m){tl(J,m)},enumerable:!0,configurable:!0}),(function(m){for(var D=0,G=xt.length;D<G;D++){var ne=Zc.call(this,m[D][0],m[D][1],m[D][2],xt[D][3],!0);g===!1&&(_[ne]=!0);var ue=m[D][0].split("-");Ka({id:ne,fontName:ue[0],fontStyle:ue[1]||""})}In.publish("addFonts",{fonts:rn,dictionary:on})}).call(p,xt),at="F1",ss(r,e),In.publish("initialized"),p}Vh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Vh.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Vh.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Vh.prototype.processOwnerPassword=function(n,t){return d5(u5(t).substr(0,5),n)},Vh.prototype.encryptor=function(n,t){var e=u5(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return d5(e,i)}},d1.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Kn(n)!==Kn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},vt.API={events:[]},vt.version="3.0.4";var Ti=vt.API,p5=1,nd=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(n){return n.toFixed(2)},Hc=function(n){return n.toFixed(5)};Ti.__acroform__={};var Ro=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},v3=function(n){return n*p5},qa=function(n){var t=new U3,e=lt.internal.getHeight(n)||0,i=lt.internal.getWidth(n)||0;return t.BBox=[0,0,Number(Zt(i)),Number(Zt(e))],t},Yz=Ti.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},Xz=Ti.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},Jz=Ti.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Vi=Ti.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Jz(n,t-1)},ji=Ti.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Yz(n,t-1)},Ui=Ti.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Xz(n,t-1)},Qz=Ti.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],o=n[1],s=n[2],a=n[3],l={};return l.lowerLeft_X=e(r)||0,l.lowerLeft_Y=i(o+a)||0,l.upperRight_X=e(r+s)||0,l.upperRight_Y=i(o)||0,[Number(Zt(l.lowerLeft_X)),Number(Zt(l.lowerLeft_Y)),Number(Zt(l.upperRight_X)),Number(Zt(l.upperRight_Y))]},Zz=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=h5(n,e),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+Zt(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=qa(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},h5=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=n.multiline?r.map(function(b){return b.split(`
`)}):r.map(function(b){return[b]});var o=e,s=lt.internal.getHeight(n)||0;s=s<0?-s:s;var a=lt.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(b,C,x){if(b+1<r.length){var te=C+" "+r[b+1][0];return i1(te,n,x).width<=a-4}return!1};o++;e:for(;o>0;){t="",o--;var c,h,g=i1("3",n,o).height,_=n.multiline?s-o:(s-g)/2,p=_+=2,P=0,O=0,N=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+i1(t,n,o=12).width+", FieldWidth:"+a+`
`;break}for(var R="",Q=0,Z=0;Z<r.length;Z++)if(r.hasOwnProperty(Z)){var X=!1;if(r[Z].length!==1&&N!==r[Z].length-1){if((g+2)*(Q+2)+2>s)continue e;R+=r[Z][N],X=!0,O=Z,Z--}else{R=(R+=r[Z][N]+" ").substr(R.length-1)==" "?R.substr(0,R.length-1):R;var he=parseInt(Z),_e=l(he,R,o),H=Z>=r.length-1;if(_e&&!H){R+=" ",N=0;continue}if(_e||H){if(H)O=he;else if(n.multiline&&(g+2)*(Q+2)+2>s)continue e}else{if(!n.multiline||(g+2)*(Q+2)+2>s)continue e;O=he}}for(var T="",I=P;I<=O;I++){var V=r[I];if(n.multiline){if(I===O){T+=V[N]+" ",N=(N+1)%V.length;continue}if(I===P){T+=V[V.length-1]+" ";continue}}T+=V[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,h=i1(T,n,o).width,n.textAlign){case"right":c=a-h-2;break;case"center":c=(a-h)/2;break;default:c=2}t+=Zt(c)+" "+Zt(p)+` Td
`,t+="("+nd(T)+`) Tj
`,t+=-Zt(c)+` 0 Td
`,p=-(o+2),h=0,P=X?O:O+1,Q++,R=""}break}return i.text=t,i.fontSize=o,i},i1=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},e$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},t$=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},n$=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(oa.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(e$)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");p5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new B3,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];o.objId=void 0,o.hasAnnotation&&t$(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,r){var o=!i;for(var s in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var a=i[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Qz(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=lt.createDefaultAppearanceStream(a),Kn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=Zz(a);l.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var g="";for(var _ in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(_)){var p=a.appearanceStreamContent[_];if(g+="/"+_+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var P=p[s];typeof P=="function"&&(P=P.call(r,a)),g+="/"+s+" "+P+" ",r.internal.acroformPlugin.xForms.indexOf(P)>=0||r.internal.acroformPlugin.xForms.push(P)}}else typeof(P=p)=="function"&&(P=P.call(r,a)),g+="/"+s+" "+P,r.internal.acroformPlugin.xForms.indexOf(P)>=0||r.internal.acroformPlugin.xForms.push(P);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}o&&(function(O,N){for(var R in O)if(O.hasOwnProperty(R)){var Q=R,Z=O[R];N.internal.newObjectDeferredBegin(Z.objId,!0),Kn(Z)==="object"&&typeof Z.putStream=="function"&&Z.putStream(),delete O[Q]}})(r.internal.acroformPlugin.xForms,r)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},j3=Ti.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(s){return s};if(Array.isArray(n)){for(var r="[",o=0;o<n.length;o++)switch(o!==0&&(r+=" "),Kn(n[o])){case"boolean":case"number":case"object":r+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),r+="("+nd(i(n[o].toString()))+")"):r+=n[o].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},o5=function(n,t,e){var i=function(r){return r};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+nd(i(n))+")"},Ha=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ha.prototype.toString=function(){return this.objId+" 0 R"},Ha.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ha.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:j3(r,this.objId,this.scope)}):r instanceof Ha?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var U3=function(){Ha.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Ro(U3,Ha);var B3=function(){Ha.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+nd(e(n))+")"}},set:function(e){n=e}})};Ro(B3,Ha);var oa=function n(){Ha.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute F supplied.');t=R}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vi(t,3)},set:function(R){R?this.F=ji(t,3):this.F=Ui(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute Ff supplied.');e=R}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(R){i=R!==void 0?R:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(R){i[0]=R}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(R){i[1]=R}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(R){i[2]=R}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(R){i[3]=R}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(R){switch(R){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=R;break;default:throw new Error('Invalid value "'+R+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof h1)return;o="FieldObject"+n.FieldNum++}var R=function(Q){return Q};return this.scope&&(R=this.scope.internal.getEncryptor(this.objId)),"("+nd(R(o))+")"},set:function(R){o=R.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(R){o=R}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(R){s=R}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(R){a=R}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(R){l=R}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/p5:c},set:function(R){c=R}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(R){h=R}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof h1||this instanceof td))return o5(g,this.objId,this.scope)},set:function(R){R=R.toString(),g=R}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Sr==0?o5(_,this.objId,this.scope):_},set:function(R){R=R.toString(),_=this instanceof Sr==0?R.substr(0,1)==="("?Lh(R.substr(1,R.length-2)):Lh(R):R}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sr==1?Lh(_.substr(1,_.length-1)):_},set:function(R){R=R.toString(),_=this instanceof Sr==1?"/"+R:R}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(R){this.V=R}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Sr==0?o5(p,this.objId,this.scope):p},set:function(R){R=R.toString(),p=this instanceof Sr==0?R.substr(0,1)==="("?Lh(R.substr(1,R.length-2)):Lh(R):R}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sr==1?Lh(p.substr(1,p.length-1)):p},set:function(R){R=R.toString(),p=this instanceof Sr==1?"/"+R:R}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,O=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return O},set:function(R){R=!!R,O=R}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(R){P=R}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,1)},set:function(R){R?this.Ff=ji(this.Ff,1):this.Ff=Ui(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,2)},set:function(R){R?this.Ff=ji(this.Ff,2):this.Ff=Ui(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,3)},set:function(R){R?this.Ff=ji(this.Ff,3):this.Ff=Ui(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(R){if([0,1,2].indexOf(R)===-1)throw new Error('Invalid value "'+R+'" for attribute Q supplied.');N=R}}),Object.defineProperty(this,"textAlign",{get:function(){var R;switch(N){case 0:default:R="left";break;case 1:R="center";break;case 2:R="right"}return R},configurable:!0,enumerable:!0,set:function(R){switch(R){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Ro(oa,Ha);var Bh=function(){oa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return j3(t,this.objId,this.scope)},set:function(e){var i,r;r=[],typeof(i=e)=="string"&&(r=(function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c})(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,18)},set:function(e){e?this.Ff=ji(this.Ff,18):this.Ff=Ui(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=ji(this.Ff,19):this.Ff=Ui(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,20)},set:function(e){e?(this.Ff=ji(this.Ff,20),t.sort()):this.Ff=Ui(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,22)},set:function(e){e?this.Ff=ji(this.Ff,22):this.Ff=Ui(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,23)},set:function(e){e?this.Ff=ji(this.Ff,23):this.Ff=Ui(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,27)},set:function(e){e?this.Ff=ji(this.Ff,27):this.Ff=Ui(this.Ff,27)}}),this.hasAppearanceStream=!1};Ro(Bh,oa);var zh=function(){Bh.call(this),this.fontName="helvetica",this.combo=!1};Ro(zh,Bh);var $h=function(){zh.call(this),this.combo=!0};Ro($h,zh);var a1=function(){$h.call(this),this.edit=!0};Ro(a1,$h);var Sr=function(){oa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,15)},set:function(e){e?this.Ff=ji(this.Ff,15):this.Ff=Ui(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,16)},set:function(e){e?this.Ff=ji(this.Ff,16):this.Ff=Ui(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,17)},set:function(e){e?this.Ff=ji(this.Ff,17):this.Ff=Ui(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,26)},set:function(e){e?this.Ff=ji(this.Ff,26):this.Ff=Ui(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+nd(e(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){Kn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Ro(Sr,oa);var l1=function(){Sr.call(this),this.pushButton=!0};Ro(l1,Sr);var qh=function(){Sr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Ro(qh,Sr);var h1=function(){var n,t;oa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),i)s.push("/"+o+" ("+nd(r(i[o]))+")");return s.push(">>"),s.join(`
`)},set:function(r){Kn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ro(h1,oa),qh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},qh.prototype.createOption=function(n){var t=new h1;return t.Parent=this,t.optionName=n,this.Kids.push(t),i$.call(this.scope,t),t};var c1=function(){Sr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=lt.CheckBox.createAppearanceStream()};Ro(c1,Sr);var td=function(){oa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,13)},set:function(t){t?this.Ff=ji(this.Ff,13):this.Ff=Ui(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,21)},set:function(t){t?this.Ff=ji(this.Ff,21):this.Ff=Ui(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,23)},set:function(t){t?this.Ff=ji(this.Ff,23):this.Ff=Ui(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,24)},set:function(t){t?this.Ff=ji(this.Ff,24):this.Ff=Ui(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,25)},set:function(t){t?this.Ff=ji(this.Ff,25):this.Ff=Ui(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,26)},set:function(t){t?this.Ff=ji(this.Ff,26):this.Ff=Ui(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ro(td,oa);var u1=function(){td.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,14)},set:function(n){n?this.Ff=ji(this.Ff,14):this.Ff=Ui(this.Ff,14)}}),this.password=!0};Ro(u1,td);var lt={CheckBox:{createAppearanceStream:function(){return{N:{On:lt.CheckBox.YesNormal},D:{On:lt.CheckBox.YesPushDown,Off:lt.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=qa(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),o=h5(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+Zt(lt.internal.getWidth(n))+" "+Zt(lt.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+Zt(o.fontSize)+" Tf "+r),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=qa(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],o=lt.internal.getHeight(n),s=lt.internal.getWidth(n),a=h5(n,n.caption);return r.push("1 g"),r.push("0 0 "+Zt(s)+" "+Zt(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Zt(s-1)+" "+Zt(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+Zt(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=qa(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Zt(lt.internal.getWidth(n))+" "+Zt(lt.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:lt.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=lt.RadioButton.Circle.YesNormal,t.D[n]=lt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=qa(n);t.scope=n.scope;var e=[],i=lt.internal.getWidth(n)<=lt.internal.getHeight(n)?lt.internal.getWidth(n)/4:lt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=lt.internal.Bezier_C,o=Number((i*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Hc(lt.internal.getWidth(n)/2)+" "+Hc(lt.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=qa(n);t.scope=n.scope;var e=[],i=lt.internal.getWidth(n)<=lt.internal.getHeight(n)?lt.internal.getWidth(n)/4:lt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*lt.internal.Bezier_C).toFixed(5)),s=Number((i*lt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Hc(lt.internal.getWidth(n)/2)+" "+Hc(lt.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Hc(lt.internal.getWidth(n)/2)+" "+Hc(lt.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=qa(n);t.scope=n.scope;var e=[],i=lt.internal.getWidth(n)<=lt.internal.getHeight(n)?lt.internal.getWidth(n)/4:lt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*lt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Hc(lt.internal.getWidth(n)/2)+" "+Hc(lt.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:lt.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=lt.RadioButton.Cross.YesNormal,t.D[n]=lt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=qa(n);t.scope=n.scope;var e=[],i=lt.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+Zt(lt.internal.getWidth(n)-2)+" "+Zt(lt.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(Zt(i.x1.x)+" "+Zt(i.x1.y)+" m"),e.push(Zt(i.x2.x)+" "+Zt(i.x2.y)+" l"),e.push(Zt(i.x4.x)+" "+Zt(i.x4.y)+" m"),e.push(Zt(i.x3.x)+" "+Zt(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=qa(n);t.scope=n.scope;var e=lt.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Zt(lt.internal.getWidth(n))+" "+Zt(lt.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Zt(lt.internal.getWidth(n)-2)+" "+Zt(lt.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Zt(e.x1.x)+" "+Zt(e.x1.y)+" m"),i.push(Zt(e.x2.x)+" "+Zt(e.x2.y)+" l"),i.push(Zt(e.x4.x)+" "+Zt(e.x4.y)+" m"),i.push(Zt(e.x3.x)+" "+Zt(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=qa(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Zt(lt.internal.getWidth(n))+" "+Zt(lt.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};lt.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=lt.internal.getWidth(n),e=lt.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},lt.internal.getWidth=function(n){var t=0;return Kn(n)==="object"&&(t=v3(n.Rect[2])),t},lt.internal.getHeight=function(n){var t=0;return Kn(n)==="object"&&(t=v3(n.Rect[3])),t};var i$=Ti.addField=function(n){if(n$(this,n),!(n instanceof oa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ti.AcroFormChoiceField=Bh,Ti.AcroFormListBox=zh,Ti.AcroFormComboBox=$h,Ti.AcroFormEditBox=a1,Ti.AcroFormButton=Sr,Ti.AcroFormPushButton=l1,Ti.AcroFormRadioButton=qh,Ti.AcroFormCheckBox=c1,Ti.AcroFormTextField=td,Ti.AcroFormPasswordField=u1,Ti.AcroFormAppearance=lt,Ti.AcroForm={ChoiceField:Bh,ListBox:zh,ComboBox:$h,EditBox:a1,Button:Sr,PushButton:l1,RadioButton:qh,CheckBox:c1,TextField:td,PasswordField:u1,Appearance:lt},vt.AcroForm={ChoiceField:Bh,ListBox:zh,ComboBox:$h,EditBox:a1,Button:Sr,PushButton:l1,RadioButton:qh,CheckBox:c1,TextField:td,PasswordField:u1,Appearance:lt};var mse=vt.AcroForm;function z3(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(b,C){var x,te,we,Ie,Ae,pe=e;if((C=C||e)==="RGBA"||b.data!==void 0&&b.data instanceof Uint8ClampedArray&&"height"in b&&"width"in b)return"RGBA";if(_e(b))for(Ae in i)for(we=i[Ae],x=0;x<we.length;x+=1){for(Ie=!0,te=0;te<we[x].length;te+=1)if(we[x][te]!==void 0&&we[x][te]!==b[te]){Ie=!1;break}if(Ie===!0){pe=Ae;break}}else for(Ae in i)for(we=i[Ae],x=0;x<we.length;x+=1){for(Ie=!0,te=0;te<we[x].length;te+=1)if(we[x][te]!==void 0&&we[x][te]!==b.charCodeAt(te)){Ie=!1;break}if(Ie===!0){pe=Ae;break}}return pe===e&&C!==e&&(pe=C),pe},o=function b(C){for(var x=this.internal.write,te=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var Ie=[];if(Ie.push({key:"Type",value:"/XObject"}),Ie.push({key:"Subtype",value:"/Image"}),Ie.push({key:"Width",value:C.width}),Ie.push({key:"Height",value:C.height}),C.colorSpace===R.INDEXED?Ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(Ie.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===R.DEVICE_CMYK&&Ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ie.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&Ie.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var Ae="",pe=0,Ce=C.transparency.length;pe<Ce;pe++)Ae+=C.transparency[pe]+" "+C.transparency[pe]+" ";Ie.push({key:"Mask",value:"["+Ae+"]"})}C.sMask!==void 0&&Ie.push({key:"SMask",value:C.objectId+1+" 0 R"});var He=C.filter!==void 0?["/"+C.filter]:void 0;if(te({data:C.data,additionalKeyValues:Ie,alreadyAppliedFilters:He,objectId:C.objectId}),x("endobj"),"sMask"in C&&C.sMask!==void 0){var Le,L=(Le=C.sMaskBitsPerComponent)!==null&&Le!==void 0?Le:C.bitsPerComponent,J={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:C.sMask};"filter"in C&&(J.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(C.width),J.filter=C.filter),b.call(this,J)}if(C.colorSpace===R.INDEXED){var ee=this.internal.newObject();te({data:T(new Uint8Array(C.palette)),objectId:ee}),x("endobj")}},s=function(){var b=this.internal.collections[t+"images"];for(var C in b)o.call(this,b[C])},a=function(){var b,C=this.internal.collections[t+"images"],x=this.internal.write;for(var te in C)x("/I"+(b=C[te]).index,b.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var b=this.internal.collections[t+"images"];return l.call(this),b},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},g=function(b){return typeof n["process"+b.toUpperCase()]=="function"},_=function(b){return Kn(b)==="object"&&b.nodeType===1},p=function(b,C){if(b.nodeName==="IMG"&&b.hasAttribute("src")){var x=""+b.getAttribute("src");if(x.indexOf("data:image/")===0)return s1(unescape(x).split("base64,").pop());var te=n.loadFile(x,!0);if(te!==void 0)return te}if(b.nodeName==="CANVAS"){if(b.width===0||b.height===0)throw new Error("Given canvas must have data. Canvas width: "+b.width+", height: "+b.height);var we;switch(C){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;default:we="image/jpeg"}return s1(b.toDataURL(we,1).split("base64,").pop())}},P=function(b){var C=this.internal.collections[t+"images"];if(C){for(var x in C)if(b===C[x].alias)return C[x]}},O=function(b,C,x){return b||C||(b=-96,C=-96),b<0&&(b=-1*x.width*72/b/this.internal.scaleFactor),C<0&&(C=-1*x.height*72/C/this.internal.scaleFactor),b===0&&(b=C*x.width/x.height),C===0&&(C=b*x.height/x.width),[b,C]},N=function(b,C,x,te,we,Ie){var Ae=O.call(this,x,te,we),pe=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,He=c.call(this);if(x=Ae[0],te=Ae[1],He[we.index]=we,Ie){Ie*=Math.PI/180;var Le=Math.cos(Ie),L=Math.sin(Ie),J=function(re){return re.toFixed(4)},ee=[J(Le),J(L),J(-1*L),J(Le),0,0,"cm"]}this.internal.write("q"),Ie?(this.internal.write([1,"0","0",1,pe(b),Ce(C+te),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([pe(x),"0","0",pe(te),"0","0","cm"].join(" "))):this.internal.write([pe(x),"0","0",pe(te),pe(b),Ce(C+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},R=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Q=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Z=n.__addimage__.sHashCode=function(b){var C,x,te=0;if(typeof b=="string")for(x=b.length,C=0;C<x;C++)te=(te<<5)-te+b.charCodeAt(C),te|=0;else if(_e(b))for(x=b.byteLength/2,C=0;C<x;C++)te=(te<<5)-te+b[C],te|=0;return te},X=n.__addimage__.validateStringAsBase64=function(b){(b=b||"").toString().trim();var C=!0;return b.length===0&&(C=!1),b.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(b.substr(0,b.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(b.substr(-2))===!1&&(C=!1),C},he=n.__addimage__.extractImageFromDataUrl=function(b){if(b==null||!(b=b.trim()).startsWith("data:"))return null;var C=b.indexOf(",");return C<0?null:b.substring(0,C).trim().endsWith("base64")?b.substring(C+1):null};n.__addimage__.isArrayBuffer=function(b){return b instanceof ArrayBuffer};var _e=n.__addimage__.isArrayBufferView=function(b){return b instanceof Int8Array||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int16Array||b instanceof Uint16Array||b instanceof Int32Array||b instanceof Uint32Array||b instanceof Float32Array||b instanceof Float64Array},H=n.__addimage__.binaryStringToUint8Array=function(b){for(var C=b.length,x=new Uint8Array(C),te=0;te<C;te++)x[te]=b.charCodeAt(te);return x},T=n.__addimage__.arrayBufferToBinaryString=function(b){for(var C="",x=_e(b)?b:new Uint8Array(b),te=0;te<x.length;te+=8192)C+=String.fromCharCode.apply(null,x.subarray(te,te+8192));return C};n.addImage=function(){var b,C,x,te,we,Ie,Ae,pe,Ce;if(typeof arguments[1]=="number"?(C=e,x=arguments[1],te=arguments[2],we=arguments[3],Ie=arguments[4],Ae=arguments[5],pe=arguments[6],Ce=arguments[7]):(C=arguments[1],x=arguments[2],te=arguments[3],we=arguments[4],Ie=arguments[5],Ae=arguments[6],pe=arguments[7],Ce=arguments[8]),Kn(b=arguments[0])==="object"&&!_(b)&&"imageData"in b){var He=b;b=He.imageData,C=He.format||C||e,x=He.x||x||0,te=He.y||te||0,we=He.w||He.width||we,Ie=He.h||He.height||Ie,Ae=He.alias||Ae,pe=He.compression||pe,Ce=He.rotation||He.angle||Ce}var Le=this.internal.getFilters();if(pe===void 0&&Le.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(x)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var L=I.call(this,b,C,Ae,pe);return N.call(this,x,te,we,Ie,L,Ce),this};var I=function(b,C,x,te){var we,Ie,Ae;if(typeof b=="string"&&r(b)===e){b=unescape(b);var pe=V(b,!1);(pe!==""||(pe=n.loadFile(b,!0))!==void 0)&&(b=pe)}if(_(b)&&(b=p(b,C)),C=r(b,C),!g(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((Ae=x)==null||Ae.length===0)&&(x=(function(Ce){return typeof Ce=="string"||_e(Ce)?Z(Ce):_e(Ce.data)?Z(Ce.data):null})(b)),(we=P.call(this,x))||(b instanceof Uint8Array||C==="RGBA"||(Ie=b,b=H(b)),we=this["process"+C.toUpperCase()](b,h.call(this),x,(function(Ce){return Ce&&typeof Ce=="string"&&(Ce=Ce.toUpperCase()),Ce in n.image_compression?Ce:Q.NONE})(te),Ie)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},V=n.__addimage__.convertBase64ToBinaryString=function(b,C){C=typeof C!="boolean"||C;var x,te="";if(typeof b=="string"){var we;x=(we=he(b))!==null&&we!==void 0?we:b;try{te=s1(x)}catch(Ie){if(C)throw X(x)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};n.getImageProperties=function(b){var C,x,te="";if(_(b)&&(b=p(b)),typeof b=="string"&&r(b)===e&&((te=V(b,!1))===""&&(te=n.loadFile(b)||""),b=te),x=r(b),!g(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if(b instanceof Uint8Array||(b=H(b)),!(C=this["process"+x.toUpperCase()](b)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=x,C}})(vt.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};vt.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,h=!1,g=0;g<c.length&&!h;g++)switch((i=c[g]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var _=0;_<c.length;_++){i=c[_];var p=this.internal.pdfEscape,P=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var O=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),R=this.internal.getEncryptor(O.objId),Q=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+p(R(i.contents))+")",o+=" /Popup "+N.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+p(R(Q))+") >>",O.content=o;var Z=O.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+Z,i.open&&(o+=" /Open true"),o+=" >>",N.content=o,this.internal.write(O.objId,"0 R",N.objId,"0 R");break;case"freetext":r="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var X=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(P(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+X+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var he=this.annotations._nameMap[i.options.name];i.options.pageNumber=he.page,i.options.top=he.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(P(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var _e=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+_e+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(e),y:c(i),w:l(e+r),h:c(i+o)},options:s,type:"link"})},n.textWithLink=function(e,i,r,o){var s,a,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var h=this.splitTextToSize(e,a).length;s=Math.ceil(c*h)}else a=l,s=c;return this.text(e,i,r,o),r+=.2*c,o.align==="center"&&(i-=l/2),o.align==="right"&&(i-=l),this.link(i,r-c,a,s,o),l},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}})(vt.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(O){return t[O.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(O){return typeof O=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(O)},a=n.__arabicParser__.isArabicEndLetter=function(O){return s(O)&&o(O)&&t[O.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(O){return s(O)&&r.indexOf(O.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(O){return s(O)&&o(O)&&t[O.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(O){return s(O)&&o(O)&&t[O.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(O){return s(O)&&o(O)&&t[O.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(O){return s(O)&&o(O)&&t[O.charCodeAt(0)].length==4},g=n.__arabicParser__.resolveLigatures=function(O){var N=0,R=e,Q="",Z=0;for(N=0;N<O.length;N+=1)R[O.charCodeAt(N)]!==void 0?(Z++,typeof(R=R[O.charCodeAt(N)])=="number"&&(Q+=String.fromCharCode(R),R=e,Z=0),N===O.length-1&&(R=e,Q+=O.charAt(N-(Z-1)),N-=Z-1,Z=0)):(R=e,Q+=O.charAt(N-Z),N-=Z,Z=0);return Q};n.__arabicParser__.isArabicDiacritic=function(O){return O!==void 0&&i[O.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(O,N,R){return s(O)?o(O)===!1?-1:!c(O)||!s(N)&&!s(R)||!s(R)&&a(N)||a(O)&&!s(N)||a(O)&&l(N)||a(O)&&a(N)?0:h(O)&&s(N)&&!a(N)&&s(R)&&c(R)?3:a(O)||!s(R)?1:2:-1},p=function(O){var N=0,R=0,Q=0,Z="",X="",he="",_e=(O=O||"").split("\\s+"),H=[];for(N=0;N<_e.length;N+=1){for(H.push(""),R=0;R<_e[N].length;R+=1)Z=_e[N][R],X=_e[N][R-1],he=_e[N][R+1],s(Z)?(Q=_(Z,X,he),H[N]+=Q!==-1?String.fromCharCode(t[Z.charCodeAt(0)][Q]):Z):H[N]+=Z;H[N]=g(H[N])}return H.join(" ")},P=n.__arabicParser__.processArabic=n.processArabic=function(){var O,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,R=[];if(Array.isArray(N)){var Q=0;for(R=[],Q=0;Q<N.length;Q+=1)Array.isArray(N[Q])?R.push([p(N[Q][0]),N[Q][1],N[Q][2]]):R.push([p(N[Q])]);O=R}else O=p(N);return typeof arguments[0]=="string"?O:(arguments[0].text=O,arguments[0])};n.events.push(["preProcessText",P])})(vt.API),vt.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(a){e=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if((e=e||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(vt.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(O){l=O}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(O){c=O}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(O){h=O}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(O){g=O}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(O){_=O}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(O){p=O}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(O){P=O}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){i.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),g=c.font||this.getFont(),_=c.scaleFactor||this.internal.scaleFactor,p=0,P=0,O=0,N=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var R=c.maxWidth;R>0?typeof l=="string"?l=this.splitTextToSize(l,R):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(Z,X){return Z.concat(N.splitTextToSize(X,R))},[])):l=Array.isArray(l)?l:[l];for(var Q=0;Q<l.length;Q++)p<(O=this.getStringUnitWidth(l[Q],{font:g})*h)&&(p=O);return p!==0&&(P=l.length),{w:p/=_,h:Math.max((P*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,_=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,p&&_&&(this.printHeaderRow(l.lineNumber,!0),l.y+=_[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,h,g,_){if(i.call(this),!h)throw new Error("No data for PDF table.");var p,P,O,N,R=[],Q=[],Z=[],X={},he={},_e=[],H=[],T=(_=_||{}).autoSize||!1,I=_.printHeaders!==!1,V=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,b=_.margins||Object.assign({width:this.getPageWidth()},t),C=typeof _.padding=="number"?_.padding:3,x=_.headerBackgroundColor||"#c8c8c8",te=_.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=b,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=x,this.internal.__cell__.headerTextColor=te,this.setFontSize(V),g==null)Q=R=Object.keys(h[0]),Z=R.map(function(){return"left"});else if(Array.isArray(g)&&Kn(g[0])==="object")for(R=g.map(function(He){return He.name}),Q=g.map(function(He){return He.prompt||He.name||""}),Z=g.map(function(He){return He.align||"left"}),p=0;p<g.length;p+=1)he[g[p].name]=.7499990551181103*g[p].width;else Array.isArray(g)&&typeof g[0]=="string"&&(Q=R=g,Z=R.map(function(){return"left"}));if(T||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<R.length;p+=1){for(X[N=R[p]]=h.map(function(He){return He[N]}),this.setFont(void 0,"bold"),_e.push(this.getTextDimensions(Q[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=X[N],this.setFont(void 0,"normal"),O=0;O<P.length;O+=1)_e.push(this.getTextDimensions(P[O],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);he[N]=Math.max.apply(null,_e)+C+C,_e=[]}if(I){var we={};for(p=0;p<R.length;p+=1)we[R[p]]={},we[R[p]].text=Q[p],we[R[p]].align=Z[p];var Ie=a.call(this,we,he);H=R.map(function(He){return new o(l,c,he[He],Ie,we[He].text,void 0,we[He].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var Ae=g.reduce(function(He,Le){return He[Le.name]=Le.align,He},{});for(p=0;p<h.length;p+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:p,data:h[p]},this);var pe=a.call(this,h[p],he);for(O=0;O<R.length;O+=1){var Ce=h[p][R[O]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:p,col:O,data:Ce},this),s.call(this,new o(l,c,he[R[O]],pe,Ce,p+2,Ae[R[O]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(l).map(function(p){var P=l[p];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,c[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/_+h+h},this).reduce(function(p,P){return Math.max(p,P)},0)};n.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,_.push(h)),h.lineNumber=l;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(P)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),e=!1}})(vt.API);var $3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},q3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],f5=z3(q3),H3=[100,200,300,400,500,600,700,800,900],r$=z3(H3);function s5(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return $3[o=o||"normal"]?o:"normal"})(n.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),r=(function(o){return typeof f5[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function y3(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var o$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function w3(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function b3(n){return n.trimLeft()}function s$(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function a$(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var r1,S3,E3,Fh,o1,A3,I3,C3,a5=["times"];function x3(n,t,e,i,r){var o=4,s=D3;switch(r){case vt.API.image_compression.FAST:o=1,s=T3;break;case vt.API.image_compression.MEDIUM:o=6,s=P3;break;case vt.API.image_compression.SLOW:o=9,s=k3}n=(function(l,c,h,g){for(var _,p=l.length/c,P=new Uint8Array(l.length+p),O=[l$,T3,D3,P3,k3],N=0;N<p;N+=1){var R=N*c,Q=l.subarray(R,R+c);if(g)P.set(g(Q,h,_),R+N);else{for(var Z=O.length,X=[],he=0;he<Z;he+=1)X[he]=O[he](Q,h,_);var _e=u$(X.concat());P.set(X[_e],R+N)}_=Q}return P})(n,t,Math.ceil(e*i/8),s);var a=Ov(n,{level:o});return vt.API.__addimage__.arrayBufferToBinaryString(a)}function l$(n){var t=Array.apply([],n);return t.unshift(0),t}function T3(n,t){var e=n.length,i=[];i[0]=1;for(var r=0;r<e;r+=1){var o=n[r-t]||0;i[r+1]=n[r]-o+256&255}return i}function D3(n,t,e){var i=n.length,r=[];r[0]=2;for(var o=0;o<i;o+=1){var s=e&&e[o]||0;r[o+1]=n[o]-s+256&255}return r}function P3(n,t,e){var i=n.length,r=[];r[0]=3;for(var o=0;o<i;o+=1){var s=n[o-t]||0,a=e&&e[o]||0;r[o+1]=n[o]+256-(s+a>>>1)&255}return r}function k3(n,t,e){var i=n.length,r=[];r[0]=4;for(var o=0;o<i;o+=1){var s=c$(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);r[o+1]=n[o]-s+256&255}return r}function c$(n,t,e){if(n===t&&t===e)return n;var i=Math.abs(t-e),r=Math.abs(n-e),o=Math.abs(n+t-e-e);return i<=r&&i<=o?n:r<=o?t:e}function u$(n){var t=n.map(function(e){return e.reduce(function(i,r){return i+Math.abs(r)},0)});return t.indexOf(Math.min.apply(null,t))}function l5(n,t,e){var i=t*e,r=Math.floor(i/8),o=16-(i-8*r+e),s=(1<<e)-1;return W3(n,r)>>o&s}function R3(n,t,e,i){var r=e*i,o=Math.floor(r/8),s=16-(r-8*o+i),a=(1<<i)-1,l=(t&a)<<s;(function(c,h,g){if(h+1<c.byteLength)c.setUint16(h,g,!1);else{var _=g>>8&255;c.setUint8(h,_)}})(n,o,W3(n,o)&~(a<<s)&65535|l)}function W3(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function d$(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],o=r>>7,s=1<<1+(7&r);n[t++],n[t++];var a=null,l=null;o&&(a=t,l=s,t+=3*s);var c=!0,h=[],g=0,_=null,p=0,P=null;for(this.width=e,this.height=i;c&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,P=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((b=n[t++])>=0))throw Error("Invalid block size");if(b===0)break;t+=b}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var O=n[t++];g=n[t++]|n[t++]<<8,_=n[t++],1&O||(_=null),p=O>>2&7,t++;break;case 254:for(;;){if(!((b=n[t++])>=0))throw Error("Invalid block size");if(b===0)break;t+=b}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var N=n[t++]|n[t++]<<8,R=n[t++]|n[t++]<<8,Q=n[t++]|n[t++]<<8,Z=n[t++]|n[t++]<<8,X=n[t++],he=X>>6&1,_e=1<<1+(7&X),H=a,T=l,I=!1;X>>7&&(I=!0,H=t,T=_e,t+=3*_e);var V=t;for(t++;;){var b;if(!((b=n[t++])>=0))throw Error("Invalid block size");if(b===0)break;t+=b}h.push({x:N,y:R,width:Q,height:Z,has_local_palette:I,palette_offset:H,palette_size:T,data_offset:V,data_length:t-V,transparent_index:_,interlaced:!!he,delay:g,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return P},this.frameInfo=function(C){if(C<0||C>=h.length)throw new Error("Frame index out of range.");return h[C]},this.decodeAndBlitFrameBGRA=function(C,x){var te=this.frameInfo(C),we=te.width*te.height,Ie=new Uint8Array(we);N3(n,te.data_offset,Ie,we);var Ae=te.palette_offset,pe=te.transparent_index;pe===null&&(pe=256);var Ce=te.width,He=e-Ce,Le=Ce,L=4*(te.y*e+te.x),J=4*((te.y+te.height)*e+te.x),ee=L,re=4*He;te.interlaced===!0&&(re+=4*e*7);for(var ce=8,fe=0,Se=Ie.length;fe<Se;++fe){var Ee=Ie[fe];if(Le===0&&(Le=Ce,(ee+=re)>=J&&(re=4*He+4*e*(ce-1),ee=L+(Ce+He)*(ce<<1),ce>>=1)),Ee===pe)ee+=4;else{var Pe=n[Ae+3*Ee],Ue=n[Ae+3*Ee+1],Je=n[Ae+3*Ee+2];x[ee++]=Je,x[ee++]=Ue,x[ee++]=Pe,x[ee++]=255}--Le}},this.decodeAndBlitFrameRGBA=function(C,x){var te=this.frameInfo(C),we=te.width*te.height,Ie=new Uint8Array(we);N3(n,te.data_offset,Ie,we);var Ae=te.palette_offset,pe=te.transparent_index;pe===null&&(pe=256);var Ce=te.width,He=e-Ce,Le=Ce,L=4*(te.y*e+te.x),J=4*((te.y+te.height)*e+te.x),ee=L,re=4*He;te.interlaced===!0&&(re+=4*e*7);for(var ce=8,fe=0,Se=Ie.length;fe<Se;++fe){var Ee=Ie[fe];if(Le===0&&(Le=Ce,(ee+=re)>=J&&(re=4*He+4*e*(ce-1),ee=L+(Ce+He)*(ce<<1),ce>>=1)),Ee===pe)ee+=4;else{var Pe=n[Ae+3*Ee],Ue=n[Ae+3*Ee+1],Je=n[Ae+3*Ee+2];x[ee++]=Pe,x[ee++]=Ue,x[ee++]=Je,x[ee++]=255}--Le}}}function N3(n,t,e,i){for(var r=n[t++],o=1<<r,s=o+1,a=s+1,l=r+1,c=(1<<l)-1,h=0,g=0,_=0,p=n[t++],P=new Int32Array(4096),O=null;;){for(;h<16&&p!==0;)g|=n[t++]<<h,h+=8,p===1?p=n[t++]:--p;if(h<l)break;var N=g&c;if(g>>=l,h-=l,N!==o){if(N===s)break;for(var R=N<a?N:O,Q=0,Z=R;Z>o;)Z=P[Z]>>8,++Q;var X=Z;if(_+Q+(R!==N?1:0)>i)return void ei.log("Warning, gif stream longer than expected.");e[_++]=X;var he=_+=Q;for(R!==N&&(e[_++]=X),Z=R;Q--;)Z=P[Z],e[--he]=255&Z,Z>>=8;O!==null&&a<4096&&(P[a++]=O<<8|X,a>=c+1&&l<12&&(++l,c=c<<1|1)),O=N}else a=s+1,c=(1<<(l=r+1))-1,O=null}return _!==i&&ei.log("Warning, gif stream shorter than expected."),e}function c5(n){var t,e,i,r,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),g=new Array(65535),_=new Array(65535),p=new Array(64),P=new Array(64),O=[],N=0,R=7,Q=new Array(64),Z=new Array(64),X=new Array(64),he=new Array(256),_e=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],b=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ie(L,J){for(var ee=0,re=0,ce=new Array,fe=1;fe<=16;fe++){for(var Se=1;Se<=L[fe];Se++)ce[J[re]]=[],ce[J[re]][0]=ee,ce[J[re]][1]=fe,re++,ee++;ee*=2}return ce}function Ae(L){for(var J=L[0],ee=L[1]-1;ee>=0;)J&1<<ee&&(N|=1<<R),ee--,--R<0&&(N==255?(pe(255),pe(0)):pe(N),R=7,N=0)}function pe(L){O.push(L)}function Ce(L){pe(L>>8&255),pe(255&L)}function He(L,J,ee,re,ce){for(var fe,Se=ce[0],Ee=ce[240],Pe=(function(Ve,At){var it,St,wt,An,dn,$t,kt,Rt,at,Kt,ht=0;for(at=0;at<8;++at){it=Ve[ht],St=Ve[ht+1],wt=Ve[ht+2],An=Ve[ht+3],dn=Ve[ht+4],$t=Ve[ht+5],kt=Ve[ht+6];var mi=it+(Rt=Ve[ht+7]),pn=it-Rt,rn=St+kt,on=St-kt,zn=wt+$t,Et=wt-$t,$n=An+dn,Tt=An-dn,Wt=mi+$n,Xn=mi-$n,Yt=rn+zn,It=rn-zn;Ve[ht]=Wt+Yt,Ve[ht+4]=Wt-Yt;var In=.707106781*(It+Xn);Ve[ht+2]=Xn+In,Ve[ht+6]=Xn-In;var ro=.382683433*((Wt=Tt+Et)-(It=on+pn)),er=.5411961*Wt+ro,bo=1.306562965*It+ro,No=.707106781*(Yt=Et+on),bt=pn+No,os=pn-No;Ve[ht+5]=os+er,Ve[ht+3]=os-er,Ve[ht+1]=bt+bo,Ve[ht+7]=bt-bo,ht+=8}for(ht=0,at=0;at<8;++at){it=Ve[ht],St=Ve[ht+8],wt=Ve[ht+16],An=Ve[ht+24],dn=Ve[ht+32],$t=Ve[ht+40],kt=Ve[ht+48];var oi=it+(Rt=Ve[ht+56]),oo=it-Rt,ur=St+kt,qn=St-kt,Bi=wt+$t,tr=wt-$t,So=An+dn,aa=An-dn,Oo=oi+So,so=oi-So,Eo=ur+Bi,ao=ur-Bi;Ve[ht]=Oo+Eo,Ve[ht+32]=Oo-Eo;var Pr=.707106781*(ao+so);Ve[ht+16]=so+Pr,Ve[ht+48]=so-Pr;var Br=.382683433*((Oo=aa+tr)-(ao=qn+oo)),Mo=.5411961*Oo+Br,la=1.306562965*ao+Br,ca=.707106781*(Eo=tr+qn),ua=oo+ca,Ga=oo-ca;Ve[ht+40]=Ga+Mo,Ve[ht+24]=Ga-Mo,Ve[ht+8]=ua+la,Ve[ht+56]=ua-la,ht++}for(at=0;at<64;++at)Kt=Ve[at]*At[at],p[at]=Kt>0?Kt+.5|0:Kt-.5|0;return p})(L,J),Ue=0;Ue<64;++Ue)P[H[Ue]]=Pe[Ue];var Je=P[0]-ee;ee=P[0],Je==0?Ae(re[0]):(Ae(re[_[fe=32767+Je]]),Ae(g[fe]));for(var Xe=63;Xe>0&&P[Xe]==0;)Xe--;if(Xe==0)return Ae(Se),ee;for(var pt,W=1;W<=Xe;){for(var Ye=W;P[W]==0&&W<=Xe;)++W;var en=W-Ye;if(en>=16){pt=en>>4;for(var xt=1;xt<=pt;++xt)Ae(Ee);en&=15}fe=32767+P[W],Ae(ce[(en<<4)+_[fe]]),Ae(g[fe]),W++}return Xe!=63&&Ae(Se),ee}function Le(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(J){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ce=s((ee[re]*J+50)/100);ce=Math.min(Math.max(ce,1),255),a[H[re]]=ce}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var Ee=s((fe[Se]*J+50)/100);Ee=Math.min(Math.max(Ee,1),255),l[H[Se]]=Ee}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,Je=0;Je<8;Je++)for(var Xe=0;Xe<8;Xe++)c[Ue]=1/(a[H[Ue]]*Pe[Je]*Pe[Xe]*8),h[Ue]=1/(l[H[Ue]]*Pe[Je]*Pe[Xe]*8),Ue++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,J){J&&Le(J),O=new Array,N=0,R=7,Ce(65496),Ce(65504),Ce(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Ce(1),Ce(1),pe(0),pe(0),(function(){Ce(65499),Ce(132),pe(0);for(var St=0;St<64;St++)pe(a[St]);pe(1);for(var wt=0;wt<64;wt++)pe(l[wt])})(),(function(St,wt){Ce(65472),Ce(17),pe(8),Ce(wt),Ce(St),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(L.width,L.height),(function(){Ce(65476),Ce(418),pe(0);for(var St=0;St<16;St++)pe(T[St+1]);for(var wt=0;wt<=11;wt++)pe(I[wt]);pe(16);for(var An=0;An<16;An++)pe(V[An+1]);for(var dn=0;dn<=161;dn++)pe(b[dn]);pe(1);for(var $t=0;$t<16;$t++)pe(C[$t+1]);for(var kt=0;kt<=11;kt++)pe(x[kt]);pe(17);for(var Rt=0;Rt<16;Rt++)pe(te[Rt+1]);for(var at=0;at<=161;at++)pe(we[at])})(),Ce(65498),Ce(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var ee=0,re=0,ce=0;N=0,R=7,this.encode.displayName="_encode_";for(var fe,Se,Ee,Pe,Ue,Je,Xe,pt,W,Ye=L.data,en=L.width,xt=L.height,Ve=4*en,At=0;At<xt;){for(fe=0;fe<Ve;){for(Ue=Ve*At+fe,Xe=-1,pt=0,W=0;W<64;W++)Je=Ue+(pt=W>>3)*Ve+(Xe=4*(7&W)),At+pt>=xt&&(Je-=Ve*(At+1+pt-xt)),fe+Xe>=Ve&&(Je-=fe+Xe-Ve+4),Se=Ye[Je++],Ee=Ye[Je++],Pe=Ye[Je++],Q[W]=(_e[Se]+_e[Ee+256|0]+_e[Pe+512|0]>>16)-128,Z[W]=(_e[Se+768|0]+_e[Ee+1024|0]+_e[Pe+1280|0]>>16)-128,X[W]=(_e[Se+1280|0]+_e[Ee+1536|0]+_e[Pe+1792|0]>>16)-128;ee=He(Q,c,ee,t,i),re=He(Z,h,re,e,r),ce=He(X,h,ce,e,r),fe+=32}At+=8}if(R>=0){var it=[];it[1]=R+1,it[0]=(1<<R+1)-1,Ae(it)}return Ce(65497),new Uint8Array(O)},n=n||50,(function(){for(var L=String.fromCharCode,J=0;J<256;J++)he[J]=L(J)})(),t=Ie(T,I),e=Ie(C,x),i=Ie(V,b),r=Ie(te,we),(function(){for(var L=1,J=2,ee=1;ee<=15;ee++){for(var re=L;re<J;re++)_[32767+re]=ee,g[32767+re]=[],g[32767+re][1]=ee,g[32767+re][0]=re;for(var ce=-(J-1);ce<=-L;ce++)_[32767+ce]=ee,g[32767+ce]=[],g[32767+ce][1]=ee,g[32767+ce][0]=J-1+ce;L<<=1,J<<=1}})(),(function(){for(var L=0;L<256;L++)_e[L]=19595*L,_e[L+256|0]=38470*L,_e[L+512|0]=7471*L+32768,_e[L+768|0]=-11059*L,_e[L+1024|0]=-21709*L,_e[L+1280|0]=32768*L+8421375,_e[L+1536|0]=-27439*L,_e[L+1792|0]=-5329*L})(),Le(n)}function ra(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function O3(n){function t(I){if(!I)throw Error("assert :P")}function e(I,V,b){for(var C=0;4>C;C++)if(I[V+C]!=b.charCodeAt(C))return!0;return!1}function i(I,V,b,C,x){for(var te=0;te<x;te++)I[V+te]=b[C+te]}function r(I,V,b,C){for(var x=0;x<C;x++)I[V+x]=b}function o(I){return new Int32Array(I)}function s(I,V){for(var b=[],C=0;C<I;C++)b.push(new V);return b}function a(I,V){var b=[];return(function C(x,te,we){for(var Ie=we[te],Ae=0;Ae<Ie&&(x.push(we.length>te+1?[]:new V),!(we.length<te+1));Ae++)C(x[Ae],te+1,we)})(b,0,I),b}var l=function(){var I=this;function V(u,f){for(var v=1<<f-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function b(u,f,v,w,k){t(!(w%v));do u[f+(w-=v)]=k;while(0<w)}function C(u,f,v,w,k){if(t(2328>=k),512>=k)var M=o(512);else if((M=o(k))==null)return 0;return(function(F,z,q,K,oe,ge){var Y,se,de=z,xe=1<<q,me=o(16),De=o(16);for(t(oe!=0),t(K!=null),t(F!=null),t(0<q),se=0;se<oe;++se){if(15<K[se])return 0;++me[K[se]]}if(me[0]==oe)return 0;for(De[1]=0,Y=1;15>Y;++Y){if(me[Y]>1<<Y)return 0;De[Y+1]=De[Y]+me[Y]}for(se=0;se<oe;++se)Y=K[se],0<K[se]&&(ge[De[Y]++]=se);if(De[15]==1)return(K=new x).g=0,K.value=ge[0],b(F,de,1,xe,K),xe;var ke,Be=-1,Fe=xe-1,yt=0,st=1,cn=1,ut=1<<q;for(se=0,Y=1,oe=2;Y<=q;++Y,oe<<=1){if(st+=cn<<=1,0>(cn-=me[Y]))return 0;for(;0<me[Y];--me[Y])(K=new x).g=Y,K.value=ge[se++],b(F,de+yt,oe,ut,K),yt=V(yt,Y)}for(Y=q+1,oe=2;15>=Y;++Y,oe<<=1){if(st+=cn<<=1,0>(cn-=me[Y]))return 0;for(;0<me[Y];--me[Y]){if(K=new x,(yt&Fe)!=Be){for(de+=ut,ke=1<<(Be=Y)-q;15>Be&&!(0>=(ke-=me[Be]));)++Be,ke<<=1;xe+=ut=1<<(ke=Be-q),F[z+(Be=yt&Fe)].g=ke+q,F[z+Be].value=de-z-Be}K.g=Y-q,K.value=ge[se++],b(F,de+(yt>>q),oe,ut,K),yt=V(yt,Y)}}return st!=2*De[15]-1?0:xe})(u,f,v,w,k,M)}function x(){this.value=this.g=0}function te(){this.value=this.g=0}function we(){this.G=s(5,x),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(lu,te)}function Ie(u,f,v,w){t(u!=null),t(f!=null),t(2147483648>w),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=v,u.Jd=f,u.Yc=v+w,u.Zc=4<=w?v+w-4+1:v,Se(u)}function Ae(u,f){for(var v=0;0<f--;)v|=Pe(u,128)<<f;return v}function pe(u,f){var v=Ae(u,f);return Ee(u)?-v:v}function Ce(u,f,v,w){var k,M=0;for(t(u!=null),t(f!=null),t(4294967288>w),u.Sb=w,u.Ra=0,u.u=0,u.h=0,4<w&&(w=4),k=0;k<w;++k)M+=f[v+k]<<8*k;u.Ra=M,u.bb=w,u.oa=f,u.pa=v}function He(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Yl-8>>>0,++u.bb,u.u-=8;re(u)&&(u.h=1,u.u=0)}function Le(u,f){if(t(0<=f),!u.h&&f<=zo){var v=ee(u)&Bo[f];return u.u+=f,He(u),v}return u.h=1,u.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(u){return u.Ra>>>(u.u&Yl-1)>>>0}function re(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Yl}function ce(u,f){u.u=f,u.h=re(u)}function fe(u){u.u>=il&&(t(u.u>=il),He(u))}function Se(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function Ee(u){return Ae(u,1)}function Pe(u,f){var v=u.Ca;0>u.b&&Se(u);var w=u.b,k=v*f>>>8,M=(u.I>>>w>k)+0;for(M?(v-=k,u.I-=k+1<<w>>>0):v=k+1,w=v,k=0;256<=w;)k+=8,w>>=8;return w=7^k+Xl[w],u.b-=w,u.Ca=(v<<w)-1,M}function Ue(u,f,v){u[f+0]=v>>24&255,u[f+1]=v>>16&255,u[f+2]=v>>8&255,u[f+3]=255&v}function Je(u,f){return u[f+0]|u[f+1]<<8}function Xe(u,f){return Je(u,f)|u[f+2]<<16}function pt(u,f){return Je(u,f)|Je(u,f+2)<<16}function W(u,f){var v=1<<f;return t(u!=null),t(0<f),u.X=o(v),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function Ye(u,f){t(u!=null),t(f!=null),t(u.Xa==f.Xa),i(f.X,0,u.X,0,1<<f.Xa)}function en(){this.X=[],this.Xa=this.Mb=0}function xt(u,f,v,w){t(v!=null),t(w!=null);var k=v[0],M=w[0];return k==0&&(k=(u*M+f/2)/f),M==0&&(M=(f*k+u/2)/u),0>=k||0>=M?0:(v[0]=k,w[0]=M,1)}function Ve(u,f){return u+(1<<f)-1>>>f}function At(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function it(u,f){I[f]=function(v,w,k,M,F,z,q){var K;for(K=0;K<F;++K){var oe=I[u](z[q+K-1],k,M+K);z[q+K]=At(v[w+K],oe)}}}function St(){this.ud=this.hd=this.jd=0}function wt(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function An(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function dn(u,f){return An(u+(u-f+.5>>1))}function $t(u,f,v){return Math.abs(f-v)-Math.abs(u-v)}function kt(u,f,v,w,k,M,F){for(w=M[F-1],v=0;v<k;++v)M[F+v]=w=At(u[f+v],w)}function Rt(u,f,v,w,k){var M;for(M=0;M<v;++M){var F=u[f+M],z=F>>8&255,q=16711935&(q=(q=16711935&F)+((z<<16)+z));w[k+M]=(4278255360&F)+q>>>0}}function at(u,f){f.jd=255&u,f.hd=u>>8&255,f.ud=u>>16&255}function Kt(u,f,v,w,k,M){var F;for(F=0;F<w;++F){var z=f[v+F],q=z>>>8,K=z,oe=255&(oe=(oe=z>>>16)+((u.jd<<24>>24)*(q<<24>>24)>>>5));K=255&(K=(K+=(u.hd<<24>>24)*(q<<24>>24)>>>5)+((u.ud<<24>>24)*(oe<<24>>24)>>>5)),k[M+F]=(4278255360&z)+(oe<<16)+K}}function ht(u,f,v,w,k){I[f]=function(M,F,z,q,K,oe,ge,Y,se){for(q=ge;q<Y;++q)for(ge=0;ge<se;++ge)K[oe++]=k(z[w(M[F++])])},I[u]=function(M,F,z,q,K,oe,ge){var Y=8>>M.b,se=M.Ea,de=M.K[0],xe=M.w;if(8>Y)for(M=(1<<M.b)-1,xe=(1<<Y)-1;F<z;++F){var me,De=0;for(me=0;me<se;++me)me&M||(De=w(q[K++])),oe[ge++]=k(de[De&xe]),De>>=Y}else I["VP8LMapColor"+v](q,K,de,xe,oe,ge,F,z,se)}}function mi(u,f,v,w,k){for(v=f+v;f<v;){var M=u[f++];w[k++]=M>>16&255,w[k++]=M>>8&255,w[k++]=255&M}}function pn(u,f,v,w,k){for(v=f+v;f<v;){var M=u[f++];w[k++]=M>>16&255,w[k++]=M>>8&255,w[k++]=255&M,w[k++]=M>>24&255}}function rn(u,f,v,w,k){for(v=f+v;f<v;){var M=(F=u[f++])>>16&240|F>>12&15,F=240&F|F>>28&15;w[k++]=M,w[k++]=F}}function on(u,f,v,w,k){for(v=f+v;f<v;){var M=(F=u[f++])>>16&248|F>>13&7,F=F>>5&224|F>>3&31;w[k++]=M,w[k++]=F}}function zn(u,f,v,w,k){for(v=f+v;f<v;){var M=u[f++];w[k++]=255&M,w[k++]=M>>8&255,w[k++]=M>>16&255}}function Et(u,f,v,w,k,M){if(M==0)for(v=f+v;f<v;)Ue(w,((M=u[f++])[0]>>24|M[1]>>8&65280|M[2]<<8&16711680|M[3]<<24)>>>0),k+=32;else i(w,k,u,f,v)}function $n(u,f){I[f][0]=I[u+"0"],I[f][1]=I[u+"1"],I[f][2]=I[u+"2"],I[f][3]=I[u+"3"],I[f][4]=I[u+"4"],I[f][5]=I[u+"5"],I[f][6]=I[u+"6"],I[f][7]=I[u+"7"],I[f][8]=I[u+"8"],I[f][9]=I[u+"9"],I[f][10]=I[u+"10"],I[f][11]=I[u+"11"],I[f][12]=I[u+"12"],I[f][13]=I[u+"13"],I[f][14]=I[u+"0"],I[f][15]=I[u+"0"]}function Tt(u){return u==q1||u==H1||u==xm||u==W1}function Wt(){this.eb=[],this.size=this.A=this.fb=0}function Xn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Wt,this.f.kb=new Xn,this.sd=null}function It(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function In(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ro(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function er(u,f){var v=u.T,w=f.ba.f.RGBA,k=w.eb,M=w.fb+u.ka*w.A,F=ms[f.ba.S],z=u.y,q=u.O,K=u.f,oe=u.N,ge=u.ea,Y=u.W,se=f.cc,de=f.dc,xe=f.Mc,me=f.Nc,De=u.ka,ke=u.ka+u.T,Be=u.U,Fe=Be+1>>1;for(De==0?F(z,q,null,null,K,oe,ge,Y,K,oe,ge,Y,k,M,null,null,Be):(F(f.ec,f.fc,z,q,se,de,xe,me,K,oe,ge,Y,k,M-w.A,k,M,Be),++v);De+2<ke;De+=2)se=K,de=oe,xe=ge,me=Y,oe+=u.Rc,Y+=u.Rc,M+=2*w.A,F(z,(q+=2*u.fa)-u.fa,z,q,se,de,xe,me,K,oe,ge,Y,k,M-w.A,k,M,Be);return q+=u.fa,u.j+ke<u.o?(i(f.ec,f.fc,z,q,Be),i(f.cc,f.dc,K,oe,Fe),i(f.Mc,f.Nc,ge,Y,Fe),v--):1&ke||F(z,q,null,null,K,oe,ge,Y,K,oe,ge,Y,k,M+w.A,null,null,Be),v}function bo(u,f,v){var w=u.F,k=[u.J];if(w!=null){var M=u.U,F=f.ba.S,z=F==Cm||F==xm;f=f.ba.f.RGBA;var q=[0],K=u.ka;q[0]=u.T,u.Kb&&(K==0?--q[0]:(--K,k[0]-=u.width),u.j+u.ka+u.T==u.o&&(q[0]=u.o-u.j-K));var oe=f.eb;K=f.fb+K*f.A,u=G5(w,k[0],u.width,M,q,oe,K+(z?0:3),f.A),t(v==q),u&&Tt(F)&&df(oe,K,z,M,q,f.A)}return 0}function No(u){var f=u.ma,v=f.ba.S,w=11>v,k=v==Am||v==Im||v==Cm||v==$1||v==12||Tt(v);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!nl(f.Oa,u,k?11:12))return 0;if(k&&Tt(v)&&Gl(),u.da)alert("todo:use_scaling");else{if(w){if(f.Ib=ro,u.Kb){if(v=u.U+1>>1,f.memory=o(u.U+2*v),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+v,f.Ib=er,Gl()}}else alert("todo:EmitYUV");k&&(f.Jb=bo,w&&si())}if(w&&!uE){for(u=0;256>u;++u)pN[u]=89858*(u-128)+Dm>>Tm,vN[u]=-22014*(u-128)+Dm,gN[u]=-45773*(u-128),mN[u]=113618*(u-128)+Dm>>Tm;for(u=ff;u<Y1;++u)f=76283*(u-16)+Dm>>Tm,yN[u-ff]=Lo(f,255),_N[u-ff]=Lo(f+8>>4,15);uE=1}return 1}function bt(u){var f=u.ma,v=u.U,w=u.T;return t(!(1&u.ka)),0>=v||0>=w?0:(v=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,v),f.Dc+=v,1)}function os(u){u.ma.memory=null}function oi(u,f,v,w){return Le(u,8)!=47?0:(f[0]=Le(u,14)+1,v[0]=Le(u,14)+1,w[0]=Le(u,1),Le(u,3)!=0?0:!u.h)}function oo(u,f){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+Le(f,v)+1}function ur(u,f){return 120<f?f-120:1<=(v=((v=eN[f-1])>>4)*u+(8-(15&v)))?v:1;var v}function qn(u,f,v){var w=ee(v),k=u[f+=255&w].g-8;return 0<k&&(ce(v,v.u+8),w=ee(v),f+=u[f].value,f+=w&(1<<k)-1),ce(v,v.u+u[f].g),u[f].value}function Bi(u,f,v){return v.g+=u.g,v.value+=u.value<<f>>>0,t(8>=v.g),u.g}function tr(u,f,v){var w=u.xc;return t((f=w==0?0:u.vc[u.md*(v>>w)+(f>>w)])<u.Wb),u.Ya[f]}function So(u,f,v,w){var k=u.ab,M=u.c*f,F=u.C;f=F+f;var z=v,q=w;for(w=u.Ta,v=u.Ua;0<k--;){var K=u.gc[k],oe=F,ge=f,Y=z,se=q,de=(q=w,z=v,K.Ea);switch(t(oe<ge),t(ge<=K.nc),K.hc){case 2:Pi(Y,se,(ge-oe)*de,q,z);break;case 0:var xe=oe,me=ge,De=q,ke=z,Be=(ut=K).Ea;xe==0&&(of(Y,se,null,null,1,De,ke),kt(Y,se+1,0,0,Be-1,De,ke+1),se+=Be,ke+=Be,++xe);for(var Fe=1<<ut.b,yt=Fe-1,st=Ve(Be,ut.b),cn=ut.K,ut=ut.w+(xe>>ut.b)*st;xe<me;){var Sn=cn,ir=ut,un=1;for(dd(Y,se,De,ke-Be,1,De,ke);un<Be;){var dt=(un&~yt)+Fe;dt>Be&&(dt=Be),(0,af[Sn[ir++]>>8&15])(Y,se+ +un,De,ke+un-Be,dt-un,De,ke+un),un=dt}se+=Be,ke+=Be,++xe&yt||(ut+=st)}ge!=K.nc&&i(q,z-de,q,z+(ge-oe-1)*de,de);break;case 1:for(de=Y,me=se,Be=(Y=K.Ea)-(ke=Y&~(De=(se=1<<K.b)-1)),xe=Ve(Y,K.b),Fe=K.K,K=K.w+(oe>>K.b)*xe;oe<ge;){for(yt=Fe,st=K,cn=new St,ut=me+ke,Sn=me+Y;me<ut;)at(yt[st++],cn),lf(cn,de,me,se,q,z),me+=se,z+=se;me<Sn&&(at(yt[st++],cn),lf(cn,de,me,Be,q,z),me+=Be,z+=Be),++oe&De||(K+=xe)}break;case 3:if(Y==q&&se==z&&0<K.b){for(me=q,Y=de=z+(ge-oe)*de-(ke=(ge-oe)*Ve(K.Ea,K.b)),se=q,De=z,xe=[],ke=(Be=ke)-1;0<=ke;--ke)xe[ke]=se[De+ke];for(ke=Be-1;0<=ke;--ke)me[Y+ke]=xe[ke];wm(K,oe,ge,q,de,q,z)}else wm(K,oe,ge,Y,se,q,z)}z=w,q=v}q!=v&&i(w,v,z,q,M)}function aa(u,f){var v=u.V,w=u.Ba+u.c*u.C,k=f-u.C;if(t(f<=u.l.o),t(16>=k),0<k){var M=u.l,F=u.Ta,z=u.Ua,q=M.width;if(So(u,k,v,w),k=z=[z],t((v=u.C)<(w=f)),t(M.v<M.va),w>M.o&&(w=M.o),v<M.j){var K=M.j-v;v=M.j,k[0]+=K*q}if(v>=w?v=0:(k[0]+=4*M.v,M.ka=v-M.j,M.U=M.va-M.v,M.T=w-v,v=1),v){if(z=z[0],11>(v=u.ca).S){var oe=v.f.RGBA,ge=(w=v.S,k=M.U,M=M.T,K=oe.eb,oe.A),Y=M;for(oe=oe.fb+u.Ma*oe.A;0<Y--;){var se=F,de=z,xe=k,me=K,De=oe;switch(w){case Em:cf(se,de,xe,me,De);break;case Am:Jl(se,de,xe,me,De);break;case q1:Jl(se,de,xe,me,De),df(me,De,0,xe,1,0);break;case eE:cu(se,de,xe,me,De);break;case Im:Et(se,de,xe,me,De,1);break;case H1:Et(se,de,xe,me,De,1),df(me,De,0,xe,1,0);break;case Cm:Et(se,de,xe,me,De,0);break;case xm:Et(se,de,xe,me,De,0),df(me,De,1,xe,1,0);break;case $1:Ql(se,de,xe,me,De);break;case W1:Ql(se,de,xe,me,De),W5(me,De,xe,1,0);break;case tE:Zl(se,de,xe,me,De);break;default:t(0)}z+=q,oe+=ge}u.Ma+=M}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=v.height)}}u.C=f,t(u.C<=u.i)}function Oo(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var v=u.Ya[f].G,w=u.Ya[f].H;if(0<v[1][w[1]+0].g||0<v[2][w[2]+0].g||0<v[3][w[3]+0].g)return 0}return 1}function so(u,f,v,w,k,M){if(u.Z!=0){var F=u.qd,z=u.rd;for(t(nc[u.Z]!=null);f<v;++f)nc[u.Z](F,z,w,k,w,k,M),F=w,z=k,k+=M;u.qd=F,u.rd=z}}function Eo(u,f){var v=u.l.ma,w=v.Z==0||v.Z==1?u.l.j:u.C;if(w=u.C<w?w:u.C,t(f<=u.l.o),f>w){var k=u.l.width,M=v.ca,F=v.tb+k*w,z=u.V,q=u.Ba+u.c*w,K=u.gc;t(u.ab==1),t(K[0].hc==3),ga(K[0],w,f,z,q,M,F),so(v,w,f,M,F,k)}u.C=u.Ma=f}function ao(u,f,v,w,k,M,F){var z=u.$/w,q=u.$%w,K=u.m,oe=u.s,ge=v+u.$,Y=ge;k=v+w*k;var se=v+w*M,de=280+oe.ua,xe=u.Pb?z:16777216,me=0<oe.ua?oe.Wa:null,De=oe.wc,ke=ge<se?tr(oe,q,z):null;t(u.C<M),t(se<=k);var Be=!1;e:for(;;){for(;Be||ge<se;){var Fe=0;if(z>=xe){var yt=ge-v;t((xe=u).Pb),xe.wd=xe.m,xe.xd=yt,0<xe.s.ua&&Ye(xe.s.Wa,xe.s.vb),xe=z+nN}if(q&De||(ke=tr(oe,q,z)),t(ke!=null),ke.Qb&&(f[ge]=ke.qb,Be=!0),!Be)if(fe(K),ke.jc){Fe=K,yt=f;var st=ge,cn=ke.pd[ee(Fe)&lu-1];t(ke.jc),256>cn.g?(ce(Fe,Fe.u+cn.g),yt[st]=cn.value,Fe=0):(ce(Fe,Fe.u+cn.g-256),t(256<=cn.value),Fe=cn.value),Fe==0&&(Be=!0)}else Fe=qn(ke.G[0],ke.H[0],K);if(K.h)break;if(Be||256>Fe){if(!Be)if(ke.nd)f[ge]=(ke.qb|Fe<<8)>>>0;else{if(fe(K),Be=qn(ke.G[1],ke.H[1],K),fe(K),yt=qn(ke.G[2],ke.H[2],K),st=qn(ke.G[3],ke.H[3],K),K.h)break;f[ge]=(st<<24|Be<<16|Fe<<8|yt)>>>0}if(Be=!1,++ge,++q>=w&&(q=0,++z,F!=null&&z<=M&&!(z%16)&&F(u,z),me!=null))for(;Y<ge;)Fe=f[Y++],me.X[(506832829*Fe&4294967295)>>>me.Mb]=Fe}else if(280>Fe){if(Fe=oo(Fe-256,K),yt=qn(ke.G[4],ke.H[4],K),fe(K),yt=ur(w,yt=oo(yt,K)),K.h)break;if(ge-v<yt||k-ge<Fe)break e;for(st=0;st<Fe;++st)f[ge+st]=f[ge+st-yt];for(ge+=Fe,q+=Fe;q>=w;)q-=w,++z,F!=null&&z<=M&&!(z%16)&&F(u,z);if(t(ge<=k),q&De&&(ke=tr(oe,q,z)),me!=null)for(;Y<ge;)Fe=f[Y++],me.X[(506832829*Fe&4294967295)>>>me.Mb]=Fe}else{if(!(Fe<de))break e;for(Be=Fe-280,t(me!=null);Y<ge;)Fe=f[Y++],me.X[(506832829*Fe&4294967295)>>>me.Mb]=Fe;Fe=ge,t(!(Be>>>(yt=me).Xa)),f[Fe]=yt.X[Be],Be=!0}Be||t(K.h==re(K))}if(u.Pb&&K.h&&ge<k)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Ye(u.s.vb,u.s.Wa);else{if(K.h)break e;F?.(u,z>M?M:z),u.a=0,u.$=ge-v}return 1}return u.a=3,0}function Pr(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,t(u!=null)}function Br(){var u=new Mt;return u==null?null:(u.a=0,u.xb=rE,$n("Predictor","VP8LPredictors"),$n("Predictor","VP8LPredictors_C"),$n("PredictorAdd","VP8LPredictorsAdd"),$n("PredictorAdd","VP8LPredictorsAdd_C"),Pi=Rt,lf=Kt,cf=mi,Jl=pn,Ql=rn,Zl=on,cu=zn,I.VP8LMapColor32b=ma,I.VP8LMapColor8b=sf,u)}function Mo(u,f,v,w,k){var M=1,F=[u],z=[f],q=w.m,K=w.s,oe=null,ge=0;e:for(;;){if(v)for(;M&&Le(q,1);){var Y=F,se=z,de=w,xe=1,me=de.m,De=de.gc[de.ab],ke=Le(me,2);if(de.Oc&1<<ke)M=0;else{switch(de.Oc|=1<<ke,De.hc=ke,De.Ea=Y[0],De.nc=se[0],De.K=[null],++de.ab,t(4>=de.ab),ke){case 0:case 1:De.b=Le(me,3)+2,xe=Mo(Ve(De.Ea,De.b),Ve(De.nc,De.b),0,de,De.K),De.K=De.K[0];break;case 3:var Be,Fe=Le(me,8)+1,yt=16<Fe?0:4<Fe?1:2<Fe?2:3;if(Y[0]=Ve(De.Ea,yt),De.b=yt,Be=xe=Mo(Fe,1,0,de,De.K)){var st,cn=Fe,ut=De,Sn=1<<(8>>ut.b),ir=o(Sn);if(ir==null)Be=0;else{var un=ut.K[0],dt=ut.w;for(ir[0]=ut.K[0][0],st=1;st<1*cn;++st)ir[st]=At(un[dt+st],ir[st-1]);for(;st<4*Sn;++st)ir[st]=0;ut.K[0]=null,ut.K[0]=ir,Be=1}}xe=Be;break;case 2:break;default:t(0)}M=xe}}if(F=F[0],z=z[0],M&&Le(q,1)&&!(M=1<=(ge=Le(q,4))&&11>=ge)){w.a=3;break e}var Ke;if(Ke=M)t:{var Ri,tn,Cn,ai=w,Rr=F,ho=z,bi=ge,qr=v,fo=ai.m,rr=ai.s,Pn=[null],Un=1,Si=0,Bn=tN[bi];n:for(;;){if(qr&&Le(fo,1)){var Nr=Le(fo,3)+2,Vs=Ve(Rr,Nr),Ni=Ve(ho,Nr),xo=Vs*Ni;if(!Mo(Vs,Ni,0,ai,Pn))break n;for(Pn=Pn[0],rr.xc=Nr,Ri=0;Ri<xo;++Ri){var Qn=Pn[Ri]>>8&65535;Pn[Ri]=Qn,Qn>=Un&&(Un=Qn+1)}}if(fo.h)break n;for(tn=0;5>tn;++tn){var or=nE[tn];!tn&&0<bi&&(or+=1<<bi),Si<or&&(Si=or)}var qo=s(Un*Bn,x),po=Un,Ho=s(po,we);if(Ho==null)var Wo=null;else t(65536>=po),Wo=Ho;var To=o(Si);if(Wo==null||To==null||qo==null){ai.a=1;break n}var Go=qo;for(Ri=Cn=0;Ri<Un;++Ri){var ii=Wo[Ri],Ko=ii.G,js=ii.H,du=0,sl=1,Or=0;for(tn=0;5>tn;++tn){or=nE[tn],Ko[tn]=Go,js[tn]=Cn,!tn&&0<bi&&(or+=1<<bi);r:{var km,X1=or,Rm=ai,pf=To,SN=Go,EN=Cn,J1=0,ic=Rm.m,AN=Le(ic,1);if(r(pf,0,0,X1),AN){var IN=Le(ic,1)+1,CN=Le(ic,1),fE=Le(ic,CN==0?1:8);pf[fE]=1,IN==2&&(pf[fE=Le(ic,8)]=1);var Nm=1}else{var pE=o(19),mE=Le(ic,4)+4;if(19<mE){Rm.a=3;var Om=0;break r}for(km=0;km<mE;++km)pE[ZR[km]]=Le(ic,3);var Q1=void 0,mf=void 0,gE=Rm,xN=pE,Mm=X1,vE=pf,Z1=0,rc=gE.m,yE=8,_E=s(128,x);i:for(;C(_E,0,7,xN,19);){if(Le(rc,1)){var TN=2+2*Le(rc,3);if((Q1=2+Le(rc,TN))>Mm)break i}else Q1=Mm;for(mf=0;mf<Mm&&Q1--;){fe(rc);var wE=_E[0+(127&ee(rc))];ce(rc,rc.u+wE.g);var fd=wE.value;if(16>fd)vE[mf++]=fd,fd!=0&&(yE=fd);else{var DN=fd==16,bE=fd-16,PN=JR[bE],SE=Le(rc,XR[bE])+PN;if(mf+SE>Mm)break i;for(var kN=DN?yE:0;0<SE--;)vE[mf++]=kN}}Z1=1;break i}Z1||(gE.a=3),Nm=Z1}(Nm=Nm&&!ic.h)&&(J1=C(SN,EN,8,pf,X1)),Nm&&J1!=0?Om=J1:(Rm.a=3,Om=0)}if(Om==0)break n;if(sl&&QR[tn]==1&&(sl=Go[Cn].g==0),du+=Go[Cn].g,Cn+=Om,3>=tn){var gf,ey=To[0];for(gf=1;gf<or;++gf)To[gf]>ey&&(ey=To[gf]);Or+=ey}}if(ii.nd=sl,ii.Qb=0,sl&&(ii.qb=(Ko[3][js[3]+0].value<<24|Ko[1][js[1]+0].value<<16|Ko[2][js[2]+0].value)>>>0,du==0&&256>Ko[0][js[0]+0].value&&(ii.Qb=1,ii.qb+=Ko[0][js[0]+0].value<<8)),ii.jc=!ii.Qb&&6>Or,ii.jc){var Lm,al=ii;for(Lm=0;Lm<lu;++Lm){var oc=Lm,sc=al.pd[oc],Fm=al.G[0][al.H[0]+oc];256<=Fm.value?(sc.g=Fm.g+256,sc.value=Fm.value):(sc.g=0,sc.value=0,oc>>=Bi(Fm,8,sc),oc>>=Bi(al.G[1][al.H[1]+oc],16,sc),oc>>=Bi(al.G[2][al.H[2]+oc],0,sc),Bi(al.G[3][al.H[3]+oc],24,sc))}}}rr.vc=Pn,rr.Wb=Un,rr.Ya=Wo,rr.yc=qo,Ke=1;break t}Ke=0}if(!(M=Ke)){w.a=3;break e}if(0<ge){if(K.ua=1<<ge,!W(K.Wa,ge)){w.a=1,M=0;break e}}else K.ua=0;var ty=w,EE=F,RN=z,ny=ty.s,iy=ny.xc;if(ty.c=EE,ty.i=RN,ny.md=Ve(EE,iy),ny.wc=iy==0?-1:(1<<iy)-1,v){w.xb=cN;break e}if((oe=o(F*z))==null){w.a=1,M=0;break e}M=(M=ao(w,oe,0,F,z,z,null))&&!q.h;break e}return M?(k!=null?k[0]=oe:(t(oe==null),t(v)),w.$=0,v||Pr(K)):Pr(K),M}function la(u,f){var v=u.c*u.i,w=v+f+16*f;return t(u.c<=f),u.V=o(w),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+f,1)}function ca(u,f){var v=u.C,w=f-v,k=u.V,M=u.Ba+u.c*v;for(t(f<=u.l.o);0<w;){var F=16<w?16:w,z=u.l.ma,q=u.l.width,K=q*F,oe=z.ca,ge=z.tb+q*v,Y=u.Ta,se=u.Ua;So(u,F,k,M),K5(Y,se,oe,ge,K),so(z,v,v+F,oe,ge,q),w-=F,k+=F*u.c,v+=F}t(v==f),u.C=u.Ma=f}function ua(){this.ub=this.yd=this.td=this.Rb=0}function Ga(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rd(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Qc(){this.Yb=(function(){var u=[];return(function f(v,w,k){for(var M=k[w],F=0;F<M&&(v.push(k.length>w+1?[]:0),!(k.length<w+1));F++)f(v[F],w+1,k)})(u,0,[3,11]),u})()}function Ka(){this.jb=o(3),this.Wc=a([4,8],Qc),this.Xc=a([4,17],Qc)}function Zc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function zr(){this.ld=this.La=this.dd=this.tc=0}function ks(){this.Na=this.la=0}function ss(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ya(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function od(){this.uc=this.M=this.Nb=0,this.wa=Array(new zr),this.Y=0,this.ya=Array(new Ya),this.aa=0,this.l=new da}function eu(){this.y=o(16),this.f=o(8),this.ea=o(8)}function tu(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new ua,this.Kc=new Ga,this.ed=new Zc,this.Qa=new rd,this.Ic=this.$c=this.Aa=0,this.D=new od,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,L),this.ia=0,this.pb=s(4,ss),this.Pa=new Ka,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new eu),this.Hd=0,this.rb=Array(new ks),this.sb=0,this.wa=Array(new zr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ya),this.L=this.aa=0,this.gd=a([4,2],zr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Lo(u,f){return 0>u?0:u>f?f:u}function da(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function nu(){var u=new tu;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,hf||(hf=Ul)),u}function gi(u,f,v){return u.a==0&&(u.a=f,u.sc=v,u.cb=0),0}function iu(u,f,v){return 3<=v&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function as(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return gi(u,2,"null VP8Io passed to VP8GetHeaders()");var v=f.data,w=f.w,k=f.ha;if(4>k)return gi(u,7,"Truncated header.");var M=v[w+0]|v[w+1]<<8|v[w+2]<<16,F=u.Od;if(F.Rb=!(1&M),F.td=M>>1&7,F.yd=M>>4&1,F.ub=M>>5,3<F.td)return gi(u,3,"Incorrect keyframe parameters.");if(!F.yd)return gi(u,4,"Frame not displayable.");w+=3,k-=3;var z=u.Kc;if(F.Rb){if(7>k)return gi(u,7,"cannot parse picture header");if(!iu(v,w,k))return gi(u,3,"Bad code word");z.c=16383&(v[w+4]<<8|v[w+3]),z.Td=v[w+4]>>6,z.i=16383&(v[w+6]<<8|v[w+5]),z.Ud=v[w+6]>>6,w+=7,k-=7,u.za=z.c+15>>4,u.Ub=z.i+15>>4,f.width=z.c,f.height=z.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,r((M=u.Pa).jb,0,255,M.jb.length),t((M=u.Qa)!=null),M.Cb=0,M.Bb=0,M.Fb=1,r(M.Zb,0,0,M.Zb.length),r(M.Lb,0,0,M.Lb)}if(F.ub>k)return gi(u,7,"bad partition length");Ie(M=u.m,v,w,F.ub),w+=F.ub,k-=F.ub,F.Rb&&(z.Ld=Ee(M),z.Kd=Ee(M)),z=u.Qa;var q,K=u.Pa;if(t(M!=null),t(z!=null),z.Cb=Ee(M),z.Cb){if(z.Bb=Ee(M),Ee(M)){for(z.Fb=Ee(M),q=0;4>q;++q)z.Zb[q]=Ee(M)?pe(M,7):0;for(q=0;4>q;++q)z.Lb[q]=Ee(M)?pe(M,6):0}if(z.Bb)for(q=0;3>q;++q)K.jb[q]=Ee(M)?Ae(M,8):255}else z.Bb=0;if(M.Ka)return gi(u,3,"cannot parse segment header");if((z=u.ed).zd=Ee(M),z.Tb=Ae(M,6),z.wb=Ae(M,3),z.Pc=Ee(M),z.Pc&&Ee(M)){for(K=0;4>K;++K)Ee(M)&&(z.vd[K]=pe(M,6));for(K=0;4>K;++K)Ee(M)&&(z.od[K]=pe(M,6))}if(u.L=z.Tb==0?0:z.zd?1:2,M.Ka)return gi(u,3,"cannot parse filter header");var oe=k;if(k=q=w,w=q+oe,z=oe,u.Xb=(1<<Ae(u.m,2))-1,oe<3*(K=u.Xb))v=7;else{for(q+=3*K,z-=3*K,oe=0;oe<K;++oe){var ge=v[k+0]|v[k+1]<<8|v[k+2]<<16;ge>z&&(ge=z),Ie(u.Jc[+oe],v,q,ge),q+=ge,z-=ge,k+=3}Ie(u.Jc[+K],v,q,z),v=q<w?0:5}if(v!=0)return gi(u,v,"cannot parse partitions");for(v=Ae(q=u.m,7),k=Ee(q)?pe(q,4):0,w=Ee(q)?pe(q,4):0,z=Ee(q)?pe(q,4):0,K=Ee(q)?pe(q,4):0,q=Ee(q)?pe(q,4):0,oe=u.Qa,ge=0;4>ge;++ge){if(oe.Cb){var Y=oe.Zb[ge];oe.Fb||(Y+=v)}else{if(0<ge){u.pb[ge]=u.pb[0];continue}Y=v}var se=u.pb[ge];se.Sc[0]=G1[Lo(Y+k,127)],se.Sc[1]=K1[Lo(Y+0,127)],se.Eb[0]=2*G1[Lo(Y+w,127)],se.Eb[1]=101581*K1[Lo(Y+z,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=G1[Lo(Y+K,117)],se.Qc[1]=K1[Lo(Y+q,127)],se.lc=Y+q}if(!F.Rb)return gi(u,4,"Not a key frame.");for(Ee(M),F=u.Pa,v=0;4>v;++v){for(k=0;8>k;++k)for(w=0;3>w;++w)for(z=0;11>z;++z)K=Pe(M,aN[v][k][w][z])?Ae(M,8):oN[v][k][w][z],F.Wc[v][k].Yb[w][z]=K;for(k=0;17>k;++k)F.Xc[v][k]=F.Wc[v][lN[k]]}return u.kc=Ee(M),u.kc&&(u.Bd=Ae(M,8)),u.cb=1}function Ul(u,f,v,w,k,M,F){var z=f[k].Yb[v];for(v=0;16>k;++k){if(!Pe(u,z[v+0]))return k;for(;!Pe(u,z[v+1]);)if(z=f[++k].Yb[0],v=0,k==16)return 16;var q=f[k+1].Yb;if(Pe(u,z[v+2])){var K=u,oe=0;if(Pe(K,(Y=z)[(ge=v)+3]))if(Pe(K,Y[ge+6])){for(z=0,ge=2*(oe=Pe(K,Y[ge+8]))+(Y=Pe(K,Y[ge+9+oe])),oe=0,Y=iN[ge];Y[z];++z)oe+=oe+Pe(K,Y[z]);oe+=3+(8<<ge)}else Pe(K,Y[ge+7])?(oe=7+2*Pe(K,165),oe+=Pe(K,145)):oe=5+Pe(K,159);else oe=Pe(K,Y[ge+4])?3+Pe(K,Y[ge+5]):2;z=q[2]}else oe=1,z=q[1];q=F+rN[k],0>(K=u).b&&Se(K);var ge,Y=K.b,se=(ge=K.Ca>>1)-(K.I>>Y)>>31;--K.b,K.Ca+=se,K.Ca|=1,K.I-=(ge+1&se)<<Y,M[q]=((oe^se)-se)*w[(0<k)+0]}return 16}function ru(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,r(u.zc,0,0,u.zc.length),u.ja=0}function lo(u,f,v,w,k){k=u[f+v+32*w]+(k>>3),u[f+v+32*w]=-256&k?0>k?0:255:k}function Di(u,f,v,w,k,M){lo(u,f,0,v,w+k),lo(u,f,1,v,w+M),lo(u,f,2,v,w-M),lo(u,f,3,v,w-k)}function kr(u){return(20091*u>>16)+u}function Ao(u,f,v,w){var k,M=0,F=o(16);for(k=0;4>k;++k){var z=u[f+0]+u[f+8],q=u[f+0]-u[f+8],K=(35468*u[f+4]>>16)-kr(u[f+12]),oe=kr(u[f+4])+(35468*u[f+12]>>16);F[M+0]=z+oe,F[M+1]=q+K,F[M+2]=q-K,F[M+3]=z-oe,M+=4,f++}for(k=M=0;4>k;++k)z=(u=F[M+0]+4)+F[M+8],q=u-F[M+8],K=(35468*F[M+4]>>16)-kr(F[M+12]),lo(v,w,0,0,z+(oe=kr(F[M+4])+(35468*F[M+12]>>16))),lo(v,w,1,0,q+K),lo(v,w,2,0,q-K),lo(v,w,3,0,z-oe),M++,w+=32}function Bl(u,f,v,w){var k=u[f+0]+4,M=35468*u[f+4]>>16,F=kr(u[f+4]),z=35468*u[f+1]>>16;Di(v,w,0,k+F,u=kr(u[f+1]),z),Di(v,w,1,k+M,u,z),Di(v,w,2,k-M,u,z),Di(v,w,3,k-F,u,z)}function zl(u,f,v,w,k){Ao(u,f,v,w),k&&Ao(u,f+16,v,w+4)}function Fo(u,f,v,w){uu(u,f+0,v,w,1),uu(u,f+32,v,w+128,1)}function Ln(u,f,v,w){var k;for(u=u[f+0]+4,k=0;4>k;++k)for(f=0;4>f;++f)lo(v,w,f,k,u)}function Xa(u,f,v,w){u[f+0]&&Fn(u,f+0,v,w),u[f+16]&&Fn(u,f+16,v,w+4),u[f+32]&&Fn(u,f+32,v,w+128),u[f+48]&&Fn(u,f+48,v,w+128+4)}function ls(u,f,v,w){var k,M=o(16);for(k=0;4>k;++k){var F=u[f+0+k]+u[f+12+k],z=u[f+4+k]+u[f+8+k],q=u[f+4+k]-u[f+8+k],K=u[f+0+k]-u[f+12+k];M[0+k]=F+z,M[8+k]=F-z,M[4+k]=K+q,M[12+k]=K-q}for(k=0;4>k;++k)F=(u=M[0+4*k]+3)+M[3+4*k],z=M[1+4*k]+M[2+4*k],q=M[1+4*k]-M[2+4*k],K=u-M[3+4*k],v[w+0]=F+z>>3,v[w+16]=K+q>>3,v[w+32]=F-z>>3,v[w+48]=K-q>>3,w+=64}function Vo(u,f,v){var w,k=f-32,M=$o,F=255-u[k-1];for(w=0;w<v;++w){var z,q=M,K=F+u[f-1];for(z=0;z<v;++z)u[f+z]=q[K+u[k+z]];f+=32}}function Jh(u,f){Vo(u,f,4)}function sd(u,f){Vo(u,f,8)}function Qh(u,f){Vo(u,f,16)}function ou(u,f){var v;for(v=0;16>v;++v)i(u,f+32*v,u,f-32,16)}function ad(u,f){var v;for(v=16;0<v;--v)r(u,f,u[f-1],16),f+=32}function jo(u,f,v){var w;for(w=0;16>w;++w)r(f,v+32*w,u,16)}function Ja(u,f){var v,w=16;for(v=0;16>v;++v)w+=u[f-1+32*v]+u[f+v-32];jo(w>>5,u,f)}function $r(u,f){var v,w=8;for(v=0;16>v;++v)w+=u[f-1+32*v];jo(w>>4,u,f)}function $l(u,f){var v,w=8;for(v=0;16>v;++v)w+=u[f+v-32];jo(w>>4,u,f)}function ld(u,f){jo(128,u,f)}function Ut(u,f,v){return u+2*f+v+2>>2}function ha(u,f){var v,w=f-32;for(w=new Uint8Array([Ut(u[w-1],u[w+0],u[w+1]),Ut(u[w+0],u[w+1],u[w+2]),Ut(u[w+1],u[w+2],u[w+3]),Ut(u[w+2],u[w+3],u[w+4])]),v=0;4>v;++v)i(u,f+32*v,w,0,w.length)}function Zh(u,f){var v=u[f-1],w=u[f-1+32],k=u[f-1+64],M=u[f-1+96];Ue(u,f+0,16843009*Ut(u[f-1-32],v,w)),Ue(u,f+32,16843009*Ut(v,w,k)),Ue(u,f+64,16843009*Ut(w,k,M)),Ue(u,f+96,16843009*Ut(k,M,M))}function ef(u,f){var v,w=4;for(v=0;4>v;++v)w+=u[f+v-32]+u[f-1+32*v];for(w>>=3,v=0;4>v;++v)r(u,f+32*v,w,4)}function Rs(u,f){var v=u[f-1+0],w=u[f-1+32],k=u[f-1+64],M=u[f-1-32],F=u[f+0-32],z=u[f+1-32],q=u[f+2-32],K=u[f+3-32];u[f+0+96]=Ut(w,k,u[f-1+96]),u[f+1+96]=u[f+0+64]=Ut(v,w,k),u[f+2+96]=u[f+1+64]=u[f+0+32]=Ut(M,v,w),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=Ut(F,M,v),u[f+3+64]=u[f+2+32]=u[f+1+0]=Ut(z,F,M),u[f+3+32]=u[f+2+0]=Ut(q,z,F),u[f+3+0]=Ut(K,q,z)}function dr(u,f){var v=u[f+1-32],w=u[f+2-32],k=u[f+3-32],M=u[f+4-32],F=u[f+5-32],z=u[f+6-32],q=u[f+7-32];u[f+0+0]=Ut(u[f+0-32],v,w),u[f+1+0]=u[f+0+32]=Ut(v,w,k),u[f+2+0]=u[f+1+32]=u[f+0+64]=Ut(w,k,M),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=Ut(k,M,F),u[f+3+32]=u[f+2+64]=u[f+1+96]=Ut(M,F,z),u[f+3+64]=u[f+2+96]=Ut(F,z,q),u[f+3+96]=Ut(z,q,q)}function tf(u,f){var v=u[f-1+0],w=u[f-1+32],k=u[f-1+64],M=u[f-1-32],F=u[f+0-32],z=u[f+1-32],q=u[f+2-32],K=u[f+3-32];u[f+0+0]=u[f+1+64]=M+F+1>>1,u[f+1+0]=u[f+2+64]=F+z+1>>1,u[f+2+0]=u[f+3+64]=z+q+1>>1,u[f+3+0]=q+K+1>>1,u[f+0+96]=Ut(k,w,v),u[f+0+64]=Ut(w,v,M),u[f+0+32]=u[f+1+96]=Ut(v,M,F),u[f+1+32]=u[f+2+96]=Ut(M,F,z),u[f+2+32]=u[f+3+96]=Ut(F,z,q),u[f+3+32]=Ut(z,q,K)}function nf(u,f){var v=u[f+0-32],w=u[f+1-32],k=u[f+2-32],M=u[f+3-32],F=u[f+4-32],z=u[f+5-32],q=u[f+6-32],K=u[f+7-32];u[f+0+0]=v+w+1>>1,u[f+1+0]=u[f+0+64]=w+k+1>>1,u[f+2+0]=u[f+1+64]=k+M+1>>1,u[f+3+0]=u[f+2+64]=M+F+1>>1,u[f+0+32]=Ut(v,w,k),u[f+1+32]=u[f+0+96]=Ut(w,k,M),u[f+2+32]=u[f+1+96]=Ut(k,M,F),u[f+3+32]=u[f+2+96]=Ut(M,F,z),u[f+3+64]=Ut(F,z,q),u[f+3+96]=Ut(z,q,K)}function cs(u,f){var v=u[f-1+0],w=u[f-1+32],k=u[f-1+64],M=u[f-1+96];u[f+0+0]=v+w+1>>1,u[f+2+0]=u[f+0+32]=w+k+1>>1,u[f+2+32]=u[f+0+64]=k+M+1>>1,u[f+1+0]=Ut(v,w,k),u[f+3+0]=u[f+1+32]=Ut(w,k,M),u[f+3+32]=u[f+1+64]=Ut(k,M,M),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=M}function fa(u,f){var v=u[f-1+0],w=u[f-1+32],k=u[f-1+64],M=u[f-1+96],F=u[f-1-32],z=u[f+0-32],q=u[f+1-32],K=u[f+2-32];u[f+0+0]=u[f+2+32]=v+F+1>>1,u[f+0+32]=u[f+2+64]=w+v+1>>1,u[f+0+64]=u[f+2+96]=k+w+1>>1,u[f+0+96]=M+k+1>>1,u[f+3+0]=Ut(z,q,K),u[f+2+0]=Ut(F,z,q),u[f+1+0]=u[f+3+32]=Ut(v,F,z),u[f+1+32]=u[f+3+64]=Ut(w,v,F),u[f+1+64]=u[f+3+96]=Ut(k,w,v),u[f+1+96]=Ut(M,k,w)}function pa(u,f){var v;for(v=0;8>v;++v)i(u,f+32*v,u,f-32,8)}function Qa(u,f){var v;for(v=0;8>v;++v)r(u,f,u[f-1],8),f+=32}function co(u,f,v){var w;for(w=0;8>w;++w)r(f,v+32*w,u,8)}function cd(u,f){var v,w=8;for(v=0;8>v;++v)w+=u[f+v-32]+u[f-1+32*v];co(w>>4,u,f)}function Za(u,f){var v,w=4;for(v=0;8>v;++v)w+=u[f+v-32];co(w>>3,u,f)}function Hn(u,f){var v,w=4;for(v=0;8>v;++v)w+=u[f-1+32*v];co(w>>3,u,f)}function ud(u,f){co(128,u,f)}function Ns(u,f,v){var w=u[f-v],k=u[f+0],M=3*(k-w)+z1[1020+u[f-2*v]-u[f+v]],F=Sm[112+(M+4>>3)];u[f-v]=$o[255+w+Sm[112+(M+3>>3)]],u[f+0]=$o[255+k-F]}function ql(u,f,v,w){var k=u[f+0],M=u[f+v];return ps[255+u[f-2*v]-u[f-v]]>w||ps[255+M-k]>w}function el(u,f,v,w){return 4*ps[255+u[f-v]-u[f+0]]+ps[255+u[f-2*v]-u[f+v]]<=w}function Hl(u,f,v,w,k){var M=u[f-3*v],F=u[f-2*v],z=u[f-v],q=u[f+0],K=u[f+v],oe=u[f+2*v],ge=u[f+3*v];return 4*ps[255+z-q]+ps[255+F-K]>w?0:ps[255+u[f-4*v]-M]<=k&&ps[255+M-F]<=k&&ps[255+F-z]<=k&&ps[255+ge-oe]<=k&&ps[255+oe-K]<=k&&ps[255+K-q]<=k}function us(u,f,v,w){var k=2*w+1;for(w=0;16>w;++w)el(u,f+w,v,k)&&Ns(u,f+w,v)}function Wl(u,f,v,w){var k=2*w+1;for(w=0;16>w;++w)el(u,f+w*v,1,k)&&Ns(u,f+w*v,1)}function Io(u,f,v,w){var k;for(k=3;0<k;--k)us(u,f+=4*v,v,w)}function su(u,f,v,w){var k;for(k=3;0<k;--k)Wl(u,f+=4,v,w)}function Os(u,f,v,w,k,M,F,z){for(M=2*M+1;0<k--;){if(Hl(u,f,v,M,F))if(ql(u,f,v,z))Ns(u,f,v);else{var q=u,K=f,oe=v,ge=q[K-2*oe],Y=q[K-oe],se=q[K+0],de=q[K+oe],xe=q[K+2*oe],me=27*(ke=z1[1020+3*(se-Y)+z1[1020+ge-de]])+63>>7,De=18*ke+63>>7,ke=9*ke+63>>7;q[K-3*oe]=$o[255+q[K-3*oe]+ke],q[K-2*oe]=$o[255+ge+De],q[K-oe]=$o[255+Y+me],q[K+0]=$o[255+se-me],q[K+oe]=$o[255+de-De],q[K+2*oe]=$o[255+xe-ke]}f+=w}}function uo(u,f,v,w,k,M,F,z){for(M=2*M+1;0<k--;){if(Hl(u,f,v,M,F))if(ql(u,f,v,z))Ns(u,f,v);else{var q=u,K=f,oe=v,ge=q[K-oe],Y=q[K+0],se=q[K+oe],de=Sm[112+(4+(xe=3*(Y-ge))>>3)],xe=Sm[112+(xe+3>>3)],me=de+1>>1;q[K-2*oe]=$o[255+q[K-2*oe]+me],q[K-oe]=$o[255+ge+xe],q[K+0]=$o[255+Y-de],q[K+oe]=$o[255+se-me]}f+=w}}function au(u,f,v,w,k,M){Os(u,f,v,1,16,w,k,M)}function Ms(u,f,v,w,k,M){Os(u,f,1,v,16,w,k,M)}function tl(u,f,v,w,k,M){var F;for(F=3;0<F;--F)uo(u,f+=4*v,v,1,16,w,k,M)}function m(u,f,v,w,k,M){var F;for(F=3;0<F;--F)uo(u,f+=4,1,v,16,w,k,M)}function D(u,f,v,w,k,M,F,z){Os(u,f,k,1,8,M,F,z),Os(v,w,k,1,8,M,F,z)}function G(u,f,v,w,k,M,F,z){Os(u,f,1,k,8,M,F,z),Os(v,w,1,k,8,M,F,z)}function ne(u,f,v,w,k,M,F,z){uo(u,f+4*k,k,1,8,M,F,z),uo(v,w+4*k,k,1,8,M,F,z)}function ue(u,f,v,w,k,M,F,z){uo(u,f+4,1,k,8,M,F,z),uo(v,w+4,1,k,8,M,F,z)}function Te(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new In,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Me(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ct(){this.ua=0,this.Wa=new en,this.vb=new en,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new we,this.yc=new x}function Mt(){this.xb=this.a=0,this.l=new da,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ct,this.ab=0,this.gc=s(4,rt),this.Oc=0}function qt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new da,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _n(u,f,v,w,k,M,F){for(u=u==null?0:u[f+0],f=0;f<F;++f)k[M+f]=u+v[w+f]&255,u=k[M+f]}function ti(u,f,v,w,k,M,F){var z;if(u==null)_n(null,null,v,w,k,M,F);else for(z=0;z<F;++z)k[M+z]=u[f+z]+v[w+z]&255}function Wn(u,f,v,w,k,M,F){if(u==null)_n(null,null,v,w,k,M,F);else{var z,q=u[f+0],K=q,oe=q;for(z=0;z<F;++z)K=oe+(q=u[f+z])-K,oe=v[w+z]+(-256&K?0>K?0:255:K)&255,K=q,k[M+z]=oe}}function jn(u,f,v,w){var k=f.width,M=f.o;if(t(u!=null&&f!=null),0>v||0>=w||v+w>M)return null;if(!u.Cc){if(u.ga==null){var F;if(u.ga=new qt,(F=u.ga==null)||(F=f.width*f.o,t(u.Gb.length==0),u.Gb=o(F),u.Uc=0,u.Gb==null?F=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,F=1),F=!F),!F){F=u.ga;var z=u.Fa,q=u.P,K=u.qc,oe=u.mb,ge=u.nb,Y=q+1,se=K-1,de=F.l;if(t(z!=null&&oe!=null&&f!=null),nc[0]=null,nc[1]=_n,nc[2]=ti,nc[3]=Wn,F.ca=oe,F.tb=ge,F.c=f.width,F.i=f.height,t(0<F.c&&0<F.i),1>=K)f=0;else if(F.$a=3&z[q+0],F.Z=z[q+0]>>2&3,F.Lc=z[q+0]>>4&3,q=z[q+0]>>6&3,0>F.$a||1<F.$a||4<=F.Z||1<F.Lc||q)f=0;else if(de.put=bt,de.ac=No,de.bc=os,de.ma=F,de.width=f.width,de.height=f.height,de.Da=f.Da,de.v=f.v,de.va=f.va,de.j=f.j,de.o=f.o,F.$a)e:{t(F.$a==1),f=Br();t:for(;;){if(f==null){f=0;break e}if(t(F!=null),F.mc=f,f.c=F.c,f.i=F.i,f.l=F.l,f.l.ma=F,f.l.width=F.c,f.l.height=F.i,f.a=0,Ce(f.m,z,Y,se),!Mo(F.c,F.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Oo(f.s)?(F.ic=1,z=f.c*f.i,f.Ta=null,f.Ua=0,f.V=o(z),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(F.ic=0,f=la(f,F.c)),!f))break t;f=1;break e}F.mc=null,f=0}else f=se>=F.c*F.i;F=!f}if(F)return null;u.ga.Lc!=1?u.Ga=0:w=M-v}t(u.ga!=null),t(v+w<=M);e:{if(f=(z=u.ga).c,M=z.l.o,z.$a==0){if(Y=u.rc,se=u.Vc,de=u.Fa,q=u.P+1+v*f,K=u.mb,oe=u.nb+v*f,t(q<=u.P+u.qc),z.Z!=0)for(t(nc[z.Z]!=null),F=0;F<w;++F)nc[z.Z](Y,se,de,q,K,oe,f),Y=K,se=oe,oe+=f,q+=f;else for(F=0;F<w;++F)i(K,oe,de,q,f),Y=K,se=oe,oe+=f,q+=f;u.rc=Y,u.Vc=se}else{if(t(z.mc!=null),f=v+w,t((F=z.mc)!=null),t(f<=F.i),F.C>=f)f=1;else if(z.ic||si(),z.ic){z=F.V,Y=F.Ba,se=F.c;var xe=F.i,me=(de=1,q=F.$/se,K=F.$%se,oe=F.m,ge=F.s,F.$),De=se*xe,ke=se*f,Be=ge.wc,Fe=me<ke?tr(ge,K,q):null;t(me<=De),t(f<=xe),t(Oo(ge));t:for(;;){for(;!oe.h&&me<ke;){if(K&Be||(Fe=tr(ge,K,q)),t(Fe!=null),fe(oe),256>(xe=qn(Fe.G[0],Fe.H[0],oe)))z[Y+me]=xe,++me,++K>=se&&(K=0,++q<=f&&!(q%16)&&Eo(F,q));else{if(!(280>xe)){de=0;break t}xe=oo(xe-256,oe);var yt,st=qn(Fe.G[4],Fe.H[4],oe);if(fe(oe),!(me>=(st=ur(se,st=oo(st,oe)))&&De-me>=xe)){de=0;break t}for(yt=0;yt<xe;++yt)z[Y+me+yt]=z[Y+me+yt-st];for(me+=xe,K+=xe;K>=se;)K-=se,++q<=f&&!(q%16)&&Eo(F,q);me<ke&&K&Be&&(Fe=tr(ge,K,q))}t(oe.h==re(oe))}Eo(F,q>f?f:q);break t}!de||oe.h&&me<De?(de=0,F.a=oe.h?5:3):F.$=me,f=de}else f=ao(F,F.V,F.Ba,F.c,F.i,f,ca);if(!f){w=0;break e}}v+w>=M&&(u.Cc=1),w=1}if(!w)return null;if(u.Cc&&((w=u.ga)!=null&&(w.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*k}function wi(u,f,v,w,k,M){for(;0<k--;){var F,z=u,q=f+(v?1:0),K=u,oe=f+(v?0:3);for(F=0;F<w;++F){var ge=K[oe+4*F];ge!=255&&(ge*=32897,z[q+4*F+0]=z[q+4*F+0]*ge>>23,z[q+4*F+1]=z[q+4*F+1]*ge>>23,z[q+4*F+2]=z[q+4*F+2]*ge>>23)}f+=M}}function vi(u,f,v,w,k){for(;0<w--;){var M;for(M=0;M<v;++M){var F=u[f+2*M+0],z=15&(K=u[f+2*M+1]),q=4369*z,K=(240&K|K>>4)*q>>16;u[f+2*M+0]=(240&F|F>>4)*q>>16&240|(15&F|F<<4)*q>>16>>4&15,u[f+2*M+1]=240&K|z}f+=k}}function zi(u,f,v,w,k,M,F,z){var q,K,oe=255;for(K=0;K<k;++K){for(q=0;q<w;++q){var ge=u[f+q];M[F+4*q]=ge,oe&=ge}f+=v,F+=z}return oe!=255}function Co(u,f,v,w,k){var M;for(M=0;M<k;++M)v[w+M]=u[f+M]>>8}function si(){df=wi,W5=vi,G5=zi,K5=Co}function ds(u,f,v){I[u]=function(w,k,M,F,z,q,K,oe,ge,Y,se,de,xe,me,De,ke,Be){var Fe,yt=Be-1>>1,st=z[q+0]|K[oe+0]<<16,cn=ge[Y+0]|se[de+0]<<16;t(w!=null);var ut=3*st+cn+131074>>2;for(f(w[k+0],255&ut,ut>>16,xe,me),M!=null&&(ut=3*cn+st+131074>>2,f(M[F+0],255&ut,ut>>16,De,ke)),Fe=1;Fe<=yt;++Fe){var Sn=z[q+Fe]|K[oe+Fe]<<16,ir=ge[Y+Fe]|se[de+Fe]<<16,un=st+Sn+cn+ir+524296,dt=un+2*(Sn+cn)>>3;ut=dt+st>>1,st=(un=un+2*(st+ir)>>3)+Sn>>1,f(w[k+2*Fe-1],255&ut,ut>>16,xe,me+(2*Fe-1)*v),f(w[k+2*Fe-0],255&st,st>>16,xe,me+(2*Fe-0)*v),M!=null&&(ut=un+cn>>1,st=dt+ir>>1,f(M[F+2*Fe-1],255&ut,ut>>16,De,ke+(2*Fe-1)*v),f(M[F+2*Fe+0],255&st,st>>16,De,ke+(2*Fe+0)*v)),st=Sn,cn=ir}1&Be||(ut=3*st+cn+131074>>2,f(w[k+Be-1],255&ut,ut>>16,xe,me+(Be-1)*v),M!=null&&(ut=3*cn+st+131074>>2,f(M[F+Be-1],255&ut,ut>>16,De,ke+(Be-1)*v)))}}function Gl(){ms[Em]=uN,ms[Am]=oE,ms[eE]=dN,ms[Im]=sE,ms[Cm]=aE,ms[$1]=lE,ms[tE]=hN,ms[q1]=oE,ms[H1]=sE,ms[xm]=aE,ms[W1]=lE}function Uo(u){return u&~fN?0>u?0:255:u>>cE}function d(u,f){return Uo((19077*u>>8)+(26149*f>>8)-14234)}function y(u,f,v){return Uo((19077*u>>8)-(6419*f>>8)-(13320*v>>8)+8708)}function S(u,f){return Uo((19077*u>>8)+(33050*f>>8)-17685)}function B(u,f,v,w,k){w[k+0]=d(u,v),w[k+1]=y(u,f,v),w[k+2]=S(u,f)}function ae(u,f,v,w,k){w[k+0]=S(u,f),w[k+1]=y(u,f,v),w[k+2]=d(u,v)}function be(u,f,v,w,k){var M=y(u,f,v);f=M<<3&224|S(u,f)>>3,w[k+0]=248&d(u,v)|M>>5,w[k+1]=f}function We(u,f,v,w,k){var M=240&S(u,f)|15;w[k+0]=240&d(u,v)|y(u,f,v)>>4,w[k+1]=M}function Dn(u,f,v,w,k){w[k+0]=255,B(u,f,v,w,k+1)}function yi(u,f,v,w,k){ae(u,f,v,w,k),w[k+3]=255}function Bt(u,f,v,w,k){B(u,f,v,w,k),w[k+3]=255}function ni(u,f,v){I[u]=function(w,k,M,F,z,q,K,oe,ge){for(var Y=oe+(-2&ge)*v;oe!=Y;)f(w[k+0],M[F+0],z[q+0],K,oe),f(w[k+1],M[F+0],z[q+0],K,oe+v),k+=2,++F,++q,oe+=2*v;1&ge&&f(w[k+0],M[F+0],z[q+0],K,oe)}}function _i(u,f,v){return v==0?u==0?f==0?6:5:f==0?4:0:v}function Ls(u,f,v,w,k){switch(u>>>30){case 3:uu(f,v,w,k,0);break;case 2:fs(f,v,w,k);break;case 1:Fn(f,v,w,k)}}function ui(u,f){var v,w,k=f.M,M=f.Nb,F=u.oc,z=u.pc+40,q=u.oc,K=u.pc+584,oe=u.oc,ge=u.pc+600;for(v=0;16>v;++v)F[z+32*v-1]=129;for(v=0;8>v;++v)q[K+32*v-1]=129,oe[ge+32*v-1]=129;for(0<k?F[z-1-32]=q[K-1-32]=oe[ge-1-32]=129:(r(F,z-32-1,127,21),r(q,K-32-1,127,9),r(oe,ge-32-1,127,9)),w=0;w<u.za;++w){var Y=f.ya[f.aa+w];if(0<w){for(v=-1;16>v;++v)i(F,z+32*v-4,F,z+32*v+12,4);for(v=-1;8>v;++v)i(q,K+32*v-4,q,K+32*v+4,4),i(oe,ge+32*v-4,oe,ge+32*v+4,4)}var se=u.Gd,de=u.Hd+w,xe=Y.ad,me=Y.Hc;if(0<k&&(i(F,z-32,se[de].y,0,16),i(q,K-32,se[de].f,0,8),i(oe,ge-32,se[de].ea,0,8)),Y.Za){var De=F,ke=z-32+16;for(0<k&&(w>=u.za-1?r(De,ke,se[de].y[15],4):i(De,ke,se[de+1].y,0,4)),v=0;4>v;v++)De[ke+128+v]=De[ke+256+v]=De[ke+384+v]=De[ke+0+v];for(v=0;16>v;++v,me<<=2)De=F,ke=z+dE[v],Fs[Y.Ob[v]](De,ke),Ls(me,xe,16*+v,De,ke)}else if(De=_i(w,k,Y.Ob[0]),tc[De](F,z),me!=0)for(v=0;16>v;++v,me<<=2)Ls(me,xe,16*+v,F,z+dE[v]);for(v=Y.Gc,De=_i(w,k,Y.Dd),ol[De](q,K),ol[De](oe,ge),me=xe,De=q,ke=K,255&(Y=0|v)&&(170&Y?va(me,256,De,ke):Jn(me,256,De,ke)),Y=oe,me=ge,255&(v>>=8)&&(170&v?va(xe,320,Y,me):Jn(xe,320,Y,me)),k<u.Ub-1&&(i(se[de].y,0,F,z+480,16),i(se[de].f,0,q,K+224,8),i(se[de].ea,0,oe,ge+224,8)),v=8*M*u.B,se=u.sa,de=u.ta+16*w+16*M*u.R,xe=u.qa,Y=u.ra+8*w+v,me=u.Ha,De=u.Ia+8*w+v,v=0;16>v;++v)i(se,de+v*u.R,F,z+32*v,16);for(v=0;8>v;++v)i(xe,Y+v*u.B,q,K+32*v,8),i(me,De+v*u.B,oe,ge+32*v,8)}}function hs(u,f,v,w,k,M,F,z,q){var K=[0],oe=[0],ge=0,Y=q!=null?q.kd:0,se=q??new Me;if(u==null||12>v)return 7;se.data=u,se.w=f,se.ha=v,f=[f],v=[v],se.gb=[se.gb];e:{var de=f,xe=v,me=se.gb;if(t(u!=null),t(xe!=null),t(me!=null),me[0]=0,12<=xe[0]&&!e(u,de[0],"RIFF")){if(e(u,de[0]+8,"WEBP")){me=3;break e}var De=pt(u,de[0]+4);if(12>De||4294967286<De){me=3;break e}if(Y&&De>xe[0]-8){me=7;break e}me[0]=De,de[0]+=12,xe[0]-=12}me=0}if(me!=0)return me;for(De=0<se.gb[0],v=v[0];;){e:{var ke=u;xe=f,me=v;var Be=K,Fe=oe,yt=de=[0];if((ut=ge=[ge])[0]=0,8>me[0])me=7;else{if(!e(ke,xe[0],"VP8X")){if(pt(ke,xe[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var st=pt(ke,xe[0]+8),cn=1+Xe(ke,xe[0]+12);if(2147483648<=cn*(ke=1+Xe(ke,xe[0]+15))){me=3;break e}yt!=null&&(yt[0]=st),Be!=null&&(Be[0]=cn),Fe!=null&&(Fe[0]=ke),xe[0]+=18,me[0]-=18,ut[0]=1}me=0}}if(ge=ge[0],de=de[0],me!=0)return me;if(xe=!!(2&de),!De&&ge)return 3;if(M!=null&&(M[0]=!!(16&de)),F!=null&&(F[0]=xe),z!=null&&(z[0]=0),F=K[0],de=oe[0],ge&&xe&&q==null){me=0;break}if(4>v){me=7;break}if(De&&ge||!De&&!ge&&!e(u,f[0],"ALPH")){v=[v],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{st=u,me=f,De=v;var ut=se.gb;Be=se.na,Fe=se.P,yt=se.Sa,cn=22,t(st!=null),t(De!=null),ke=me[0];var Sn=De[0];for(t(Be!=null),t(yt!=null),Be[0]=null,Fe[0]=null,yt[0]=0;;){if(me[0]=ke,De[0]=Sn,8>Sn){me=7;break e}var ir=pt(st,ke+4);if(4294967286<ir){me=3;break e}var un=8+ir+1&-2;if(cn+=un,0<ut&&cn>ut){me=3;break e}if(!e(st,ke,"VP8 ")||!e(st,ke,"VP8L")){me=0;break e}if(Sn[0]<un){me=7;break e}e(st,ke,"ALPH")||(Be[0]=st,Fe[0]=ke+8,yt[0]=ir),ke+=un,Sn-=un}}if(v=v[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],me!=0)break}v=[v],se.Ja=[se.Ja],se.xa=[se.xa];e:if(ut=u,me=f,De=v,Be=se.gb[0],Fe=se.Ja,yt=se.xa,st=me[0],ke=!e(ut,st,"VP8 "),cn=!e(ut,st,"VP8L"),t(ut!=null),t(De!=null),t(Fe!=null),t(yt!=null),8>De[0])me=7;else{if(ke||cn){if(ut=pt(ut,st+4),12<=Be&&ut>Be-12){me=3;break e}if(Y&&ut>De[0]-8){me=7;break e}Fe[0]=ut,me[0]+=8,De[0]-=8,yt[0]=cn}else yt[0]=5<=De[0]&&ut[st+0]==47&&!(ut[st+4]>>5),Fe[0]=De[0];me=0}if(v=v[0],se.Ja=se.Ja[0],se.xa=se.xa[0],f=f[0],me!=0)break;if(4294967286<se.Ja)return 3;if(z==null||xe||(z[0]=se.xa?2:1),F=[F],de=[de],se.xa){if(5>v){me=7;break}z=F,Y=de,xe=M,u==null||5>v?u=0:5<=v&&u[f+0]==47&&!(u[f+4]>>5)?(De=[0],ut=[0],Be=[0],Ce(Fe=new J,u,f,v),oi(Fe,De,ut,Be)?(z!=null&&(z[0]=De[0]),Y!=null&&(Y[0]=ut[0]),xe!=null&&(xe[0]=Be[0]),u=1):u=0):u=0}else{if(10>v){me=7;break}z=de,u==null||10>v||!iu(u,f+3,v-3)?u=0:(Y=u[f+0]|u[f+1]<<8|u[f+2]<<16,xe=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&Y||3<(Y>>1&7)||!(Y>>4&1)||Y>>5>=se.Ja||!xe||!u?u=0:(F&&(F[0]=xe),z&&(z[0]=u),u=1))}if(!u||(F=F[0],de=de[0],ge&&(K[0]!=F||oe[0]!=de)))return 3;q!=null&&(q[0]=se,q.offset=f-q.w,t(4294967286>f-q.w),t(q.offset==q.ha-v));break}return me==0||me==7&&ge&&q==null?(M!=null&&(M[0]|=se.na!=null&&0<se.na.length),w!=null&&(w[0]=F),k!=null&&(k[0]=de),0):me}function nl(u,f,v){var w=f.width,k=f.height,M=0,F=0,z=w,q=k;if(f.Da=u!=null&&0<u.Da,f.Da&&(z=u.cd,q=u.bd,M=u.v,F=u.j,11>v||(M&=-2,F&=-2),0>M||0>F||0>=z||0>=q||M+z>w||F+q>k))return 0;if(f.v=M,f.j=F,f.va=M+z,f.o=F+q,f.U=z,f.T=q,f.da=u!=null&&0<u.da,f.da){if(!xt(z,q,v=[u.ib],M=[u.hb]))return 0;f.ib=v[0],f.hb=M[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*w/4&&f.hb<3*k/4,f.Kb=0),1}function rf(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function Kl(u,f,v,w){if(w==null||0>=u||0>=f)return 2;if(v!=null){if(v.Da){var k=v.cd,M=v.bd,F=-2&v.v,z=-2&v.j;if(0>F||0>z||0>=k||0>=M||F+k>u||z+M>f)return 2;u=k,f=M}if(v.da){if(!xt(u,f,k=[v.ib],M=[v.hb]))return 2;u=k[0],f=M[0]}}w.width=u,w.height=f;e:{var q=w.width,K=w.height;if(u=w.S,0>=q||0>=K||!(u>=Em&&13>u))u=2;else{if(0>=w.Rd&&w.sd==null){F=M=k=f=0;var oe=(z=q*hE[u])*K;if(11>u||(M=(K+1)/2*(f=(q+1)/2),u==12&&(F=(k=q)*K)),(K=o(oe+2*M+F))==null){u=1;break e}w.sd=K,11>u?((q=w.f.RGBA).eb=K,q.fb=0,q.A=z,q.size=oe):((q=w.f.kb).y=K,q.O=0,q.fa=z,q.Fd=oe,q.f=K,q.N=0+oe,q.Ab=f,q.Cd=M,q.ea=K,q.W=0+oe+M,q.Db=f,q.Ed=M,u==12&&(q.F=K,q.J=0+oe+2*M),q.Tc=F,q.lb=k)}if(f=1,k=w.S,M=w.width,F=w.height,k>=Em&&13>k)if(11>k)u=w.f.RGBA,f&=(z=Math.abs(u.A))*(F-1)+M<=u.size,f&=z>=M*hE[k],f&=u.eb!=null;else{u=w.f.kb,z=(M+1)/2,oe=(F+1)/2,q=Math.abs(u.fa),K=Math.abs(u.Ab);var ge=Math.abs(u.Db),Y=Math.abs(u.lb),se=Y*(F-1)+M;f&=q*(F-1)+M<=u.Fd,f&=K*(oe-1)+z<=u.Cd,f=(f&=ge*(oe-1)+z<=u.Ed)&q>=M&K>=z&ge>=z,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,k==12&&(f&=Y>=M,f&=se<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||v!=null&&v.fd&&(u=rf(w)),u}var lu=64,Bo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zo=24,Yl=32,il=8,Xl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(u){return u},I.Predictor2=function(u,f,v){return f[v+0]},I.Predictor3=function(u,f,v){return f[v+1]},I.Predictor4=function(u,f,v){return f[v-1]},I.Predictor5=function(u,f,v){return wt(wt(u,f[v+1]),f[v+0])},I.Predictor6=function(u,f,v){return wt(u,f[v-1])},I.Predictor7=function(u,f,v){return wt(u,f[v+0])},I.Predictor8=function(u,f,v){return wt(f[v-1],f[v+0])},I.Predictor9=function(u,f,v){return wt(f[v+0],f[v+1])},I.Predictor10=function(u,f,v){return wt(wt(u,f[v-1]),wt(f[v+0],f[v+1]))},I.Predictor11=function(u,f,v){var w=f[v+0];return 0>=$t(w>>24&255,u>>24&255,(f=f[v-1])>>24&255)+$t(w>>16&255,u>>16&255,f>>16&255)+$t(w>>8&255,u>>8&255,f>>8&255)+$t(255&w,255&u,255&f)?w:u},I.Predictor12=function(u,f,v){var w=f[v+0];return(An((u>>24&255)+(w>>24&255)-((f=f[v-1])>>24&255))<<24|An((u>>16&255)+(w>>16&255)-(f>>16&255))<<16|An((u>>8&255)+(w>>8&255)-(f>>8&255))<<8|An((255&u)+(255&w)-(255&f)))>>>0},I.Predictor13=function(u,f,v){var w=f[v-1];return(dn((u=wt(u,f[v+0]))>>24&255,w>>24&255)<<24|dn(u>>16&255,w>>16&255)<<16|dn(u>>8&255,w>>8&255)<<8|dn(255&u,255&w))>>>0};var of=I.PredictorAdd0;I.PredictorAdd1=kt,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var dd=I.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Pi,wm=I.ColorIndexInverseTransform,ma=I.MapARGB,ga=I.VP8LColorIndexInverseTransformAlpha,sf=I.MapAlpha,af=I.VP8LPredictorsAdd=[];af.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var lf,cf,Jl,Ql,Zl,cu,ec,uu,fs,va,Fn,Jn,ki,nr,rl,uf,hd,bm,U5,B5,z5,$5,q5,H5,df,W5,G5,K5,Y5=o(511),X5=o(2041),J5=o(225),Q5=o(767),Z5=0,z1=X5,Sm=J5,$o=Q5,ps=Y5,Em=0,Am=1,eE=2,Im=3,Cm=4,$1=5,tE=6,q1=7,H1=8,xm=9,W1=10,XR=[2,3,7],JR=[3,3,11],nE=[280,256,256,256,40],QR=[0,1,1,1,0],ZR=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],eN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nN=8,G1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],K1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hf=null,iN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],iE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],aN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],tc=[],Fs=[],ol=[],cN=1,rE=2,nc=[],ms=[];ds("UpsampleRgbLinePair",B,3),ds("UpsampleBgrLinePair",ae,3),ds("UpsampleRgbaLinePair",Bt,4),ds("UpsampleBgraLinePair",yi,4),ds("UpsampleArgbLinePair",Dn,4),ds("UpsampleRgba4444LinePair",We,2),ds("UpsampleRgb565LinePair",be,2);var uN=I.UpsampleRgbLinePair,dN=I.UpsampleBgrLinePair,oE=I.UpsampleRgbaLinePair,sE=I.UpsampleBgraLinePair,aE=I.UpsampleArgbLinePair,lE=I.UpsampleRgba4444LinePair,hN=I.UpsampleRgb565LinePair,Tm=16,Dm=1<<Tm-1,ff=-227,Y1=482,cE=6,fN=(256<<cE)-1,uE=0,pN=o(256),mN=o(256),gN=o(256),vN=o(256),yN=o(Y1-ff),_N=o(Y1-ff);ni("YuvToRgbRow",B,3),ni("YuvToBgrRow",ae,3),ni("YuvToRgbaRow",Bt,4),ni("YuvToBgraRow",yi,4),ni("YuvToArgbRow",Dn,4),ni("YuvToRgba4444Row",We,2),ni("YuvToRgb565Row",be,2);var dE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pm=[0,2,8],wN=[8,7,6,4,4,2,2,2,1,1,1,1],bN=1;this.WebPDecodeRGBA=function(u,f,v,w,k){var M=Am,F=new Te,z=new Yt;F.ba=z,z.S=M,z.width=[z.width],z.height=[z.height];var q=z.width,K=z.height,oe=new It;if(oe==null||u==null)var ge=2;else t(oe!=null),ge=hs(u,f,v,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(ge!=0?q=0:(q!=null&&(q[0]=oe.width[0]),K!=null&&(K[0]=oe.height[0]),q=1),q){z.width=z.width[0],z.height=z.height[0],w!=null&&(w[0]=z.width),k!=null&&(k[0]=z.height);e:{if(w=new da,(k=new Me).data=u,k.w=f,k.ha=v,k.kd=1,f=[0],t(k!=null),((u=hs(k.data,k.w,k.ha,null,null,null,f,null,k))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(t(F!=null),w.data=k.data,w.w=k.w+k.offset,w.ha=k.ha-k.offset,w.put=bt,w.ac=No,w.bc=os,w.ma=F,k.xa){if((u=Br())==null){F=1;break e}if((function(Y,se){var de=[0],xe=[0],me=[0];t:for(;;){if(Y==null)return 0;if(se==null)return Y.a=2,0;if(Y.l=se,Y.a=0,Ce(Y.m,se.data,se.w,se.ha),!oi(Y.m,de,xe,me)){Y.a=3;break t}if(Y.xb=rE,se.width=de[0],se.height=xe[0],!Mo(de[0],xe[0],1,Y,null))break t;return 1}return t(Y.a!=0),0})(u,w)){if(w=(f=Kl(w.width,w.height,F.Oa,F.ba))==0){t:{w=u;n:for(;;){if(w==null){w=0;break t}if(t(w.s.yc!=null),t(w.s.Ya!=null),t(0<w.s.Wb),t((v=w.l)!=null),t((k=v.ma)!=null),w.xb!=0){if(w.ca=k.ba,w.tb=k.tb,t(w.ca!=null),!nl(k.Oa,v,Im)){w.a=2;break n}if(!la(w,v.width)||v.da)break n;if((v.da||Tt(w.ca.S))&&si(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&si()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!W(w.s.vb,w.s.Wa.Xa)){w.a=1;break n}w.xb=0}if(!ao(w,w.V,w.Ba,w.c,w.i,v.o,aa))break n;k.Dc=w.Ma,w=1;break t}t(w.a!=0),w=0}w=!w}w&&(f=u.a)}else f=u.a}else{if((u=new nu)==null){F=1;break e}if(u.Fa=k.na,u.P=k.P,u.qc=k.Sa,as(u,w)){if((f=Kl(w.width,w.height,F.Oa,F.ba))==0){if(u.Aa=0,v=F.Oa,t((k=u)!=null),v!=null){if(0<(q=0>(q=v.Md)?0:100<q?255:255*q/100)){for(K=oe=0;4>K;++K)12>(ge=k.pb[K]).lc&&(ge.ia=q*wN[0>ge.lc?0:ge.lc]>>3),oe|=ge.ia;oe&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=v.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}(function(Y,se){if(Y==null)return 0;if(se==null)return gi(Y,2,"NULL VP8Io parameter in VP8Decode().");if(!Y.cb&&!as(Y,se))return 0;if(t(Y.cb),se.ac==null||se.ac(se)){se.ob&&(Y.L=0);var de=Pm[Y.L];if(Y.L==2?(Y.yb=0,Y.zb=0):(Y.yb=se.v-de>>4,Y.zb=se.j-de>>4,0>Y.yb&&(Y.yb=0),0>Y.zb&&(Y.zb=0)),Y.Va=se.o+15+de>>4,Y.Hb=se.va+15+de>>4,Y.Hb>Y.za&&(Y.Hb=Y.za),Y.Va>Y.Ub&&(Y.Va=Y.Ub),0<Y.L){var xe=Y.ed;for(de=0;4>de;++de){var me;if(Y.Qa.Cb){var De=Y.Qa.Lb[de];Y.Qa.Fb||(De+=xe.Tb)}else De=xe.Tb;for(me=0;1>=me;++me){var ke=Y.gd[de][me],Be=De;if(xe.Pc&&(Be+=xe.vd[0],me&&(Be+=xe.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var Fe=Be;0<xe.wb&&(Fe=4<xe.wb?Fe>>2:Fe>>1)>9-xe.wb&&(Fe=9-xe.wb),1>Fe&&(Fe=1),ke.dd=Fe,ke.tc=2*Be+Fe,ke.ld=40<=Be?2:15<=Be?1:0}else ke.tc=0;ke.La=me}}}de=0}else gi(Y,6,"Frame setup failed"),de=Y.a;if(de=de==0){if(de){Y.$c=0,0<Y.Aa||(Y.Ic=bN);t:{de=Y.Ic,xe=4*(Fe=Y.za);var yt=32*Fe,st=Fe+1,cn=0<Y.L?Fe*(0<Y.Aa?2:1):0,ut=(Y.Aa==2?2:1)*Fe;if((ke=xe+832+(me=3*(16*de+Pm[Y.L])/2*yt)+(De=Y.Fa!=null&&0<Y.Fa.length?Y.Kc.c*Y.Kc.i:0))!=ke)de=0;else{if(ke>Y.Vb){if(Y.Vb=0,Y.Ec=o(ke),Y.Fc=0,Y.Ec==null){de=gi(Y,1,"no memory during frame initialization.");break t}Y.Vb=ke}ke=Y.Ec,Be=Y.Fc,Y.Ac=ke,Y.Bc=Be,Be+=xe,Y.Gd=s(yt,eu),Y.Hd=0,Y.rb=s(st+1,ks),Y.sb=1,Y.wa=cn?s(cn,zr):null,Y.Y=0,Y.D.Nb=0,Y.D.wa=Y.wa,Y.D.Y=Y.Y,0<Y.Aa&&(Y.D.Y+=Fe),t(!0),Y.oc=ke,Y.pc=Be,Be+=832,Y.ya=s(ut,Ya),Y.aa=0,Y.D.ya=Y.ya,Y.D.aa=Y.aa,Y.Aa==2&&(Y.D.aa+=Fe),Y.R=16*Fe,Y.B=8*Fe,Fe=(yt=Pm[Y.L])*Y.R,yt=yt/2*Y.B,Y.sa=ke,Y.ta=Be+Fe,Y.qa=Y.sa,Y.ra=Y.ta+16*de*Y.R+yt,Y.Ha=Y.qa,Y.Ia=Y.ra+8*de*Y.B+yt,Y.$c=0,Be+=me,Y.mb=De?ke:null,Y.nb=De?Be:null,t(Be+De<=Y.Fc+Y.Vb),ru(Y),r(Y.Ac,Y.Bc,0,xe),de=1}}if(de){if(se.ka=0,se.y=Y.sa,se.O=Y.ta,se.f=Y.qa,se.N=Y.ra,se.ea=Y.Ha,se.Vd=Y.Ia,se.fa=Y.R,se.Rc=Y.B,se.F=null,se.J=0,!Z5){for(de=-255;255>=de;++de)Y5[255+de]=0>de?-de:de;for(de=-1020;1020>=de;++de)X5[1020+de]=-128>de?-128:127<de?127:de;for(de=-112;112>=de;++de)J5[112+de]=-16>de?-16:15<de?15:de;for(de=-255;510>=de;++de)Q5[255+de]=0>de?0:255<de?255:de;Z5=1}ec=ls,uu=zl,va=Fo,Fn=Ln,Jn=Xa,fs=Bl,ki=au,nr=Ms,rl=D,uf=G,hd=tl,bm=m,U5=ne,B5=ue,z5=us,$5=Wl,q5=Io,H5=su,Fs[0]=ef,Fs[1]=Jh,Fs[2]=ha,Fs[3]=Zh,Fs[4]=Rs,Fs[5]=tf,Fs[6]=dr,Fs[7]=nf,Fs[8]=fa,Fs[9]=cs,tc[0]=Ja,tc[1]=Qh,tc[2]=ou,tc[3]=ad,tc[4]=$r,tc[5]=$l,tc[6]=ld,ol[0]=cd,ol[1]=sd,ol[2]=pa,ol[3]=Qa,ol[4]=Hn,ol[5]=Za,ol[6]=ud,de=1}else de=0}de&&(de=(function(Sn,ir){for(Sn.M=0;Sn.M<Sn.Va;++Sn.M){var un,dt=Sn.Jc[Sn.M&Sn.Xb],Ke=Sn.m,Ri=Sn;for(un=0;un<Ri.za;++un){var tn=Ke,Cn=Ri,ai=Cn.Ac,Rr=Cn.Bc+4*un,ho=Cn.zc,bi=Cn.ya[Cn.aa+un];if(Cn.Qa.Bb?bi.$b=Pe(tn,Cn.Pa.jb[0])?2+Pe(tn,Cn.Pa.jb[2]):Pe(tn,Cn.Pa.jb[1]):bi.$b=0,Cn.kc&&(bi.Ad=Pe(tn,Cn.Bd)),bi.Za=!Pe(tn,145)+0,bi.Za){var qr=bi.Ob,fo=0;for(Cn=0;4>Cn;++Cn){var rr,Pn=ho[0+Cn];for(rr=0;4>rr;++rr){Pn=sN[ai[Rr+rr]][Pn];for(var Un=iE[Pe(tn,Pn[0])];0<Un;)Un=iE[2*Un+Pe(tn,Pn[Un])];Pn=-Un,ai[Rr+rr]=Pn}i(qr,fo,ai,Rr,4),fo+=4,ho[0+Cn]=Pn}}else Pn=Pe(tn,156)?Pe(tn,128)?1:3:Pe(tn,163)?2:0,bi.Ob[0]=Pn,r(ai,Rr,Pn,4),r(ho,0,Pn,4);bi.Dd=Pe(tn,142)?Pe(tn,114)?Pe(tn,183)?1:3:2:0}if(Ri.m.Ka)return gi(Sn,7,"Premature end-of-partition0 encountered.");for(;Sn.ja<Sn.za;++Sn.ja){if(Ri=dt,tn=(Ke=Sn).rb[Ke.sb-1],ai=Ke.rb[Ke.sb+Ke.ja],un=Ke.ya[Ke.aa+Ke.ja],Rr=Ke.kc?un.Ad:0)tn.la=ai.la=0,un.Za||(tn.Na=ai.Na=0),un.Hc=0,un.Gc=0,un.ia=0;else{var Si,Bn;if(tn=ai,ai=Ri,Rr=Ke.Pa.Xc,ho=Ke.ya[Ke.aa+Ke.ja],bi=Ke.pb[ho.$b],Cn=ho.ad,qr=0,fo=Ke.rb[Ke.sb-1],Pn=rr=0,r(Cn,qr,0,384),ho.Za)var Nr=0,Vs=Rr[3];else{Un=o(16);var Ni=tn.Na+fo.Na;if(Ni=hf(ai,Rr[1],Ni,bi.Eb,0,Un,0),tn.Na=fo.Na=(0<Ni)+0,1<Ni)ec(Un,0,Cn,qr);else{var xo=Un[0]+3>>3;for(Un=0;256>Un;Un+=16)Cn[qr+Un]=xo}Nr=1,Vs=Rr[0]}var Qn=15&tn.la,or=15&fo.la;for(Un=0;4>Un;++Un){var qo=1&or;for(xo=Bn=0;4>xo;++xo)Qn=Qn>>1|(qo=(Ni=hf(ai,Vs,Ni=qo+(1&Qn),bi.Sc,Nr,Cn,qr))>Nr)<<7,Bn=Bn<<2|(3<Ni?3:1<Ni?2:Cn[qr+0]!=0),qr+=16;Qn>>=4,or=or>>1|qo<<7,rr=(rr<<8|Bn)>>>0}for(Vs=Qn,Nr=or>>4,Si=0;4>Si;Si+=2){for(Bn=0,Qn=tn.la>>4+Si,or=fo.la>>4+Si,Un=0;2>Un;++Un){for(qo=1&or,xo=0;2>xo;++xo)Ni=qo+(1&Qn),Qn=Qn>>1|(qo=0<(Ni=hf(ai,Rr[2],Ni,bi.Qc,0,Cn,qr)))<<3,Bn=Bn<<2|(3<Ni?3:1<Ni?2:Cn[qr+0]!=0),qr+=16;Qn>>=2,or=or>>1|qo<<5}Pn|=Bn<<4*Si,Vs|=Qn<<4<<Si,Nr|=(240&or)<<Si}tn.la=Vs,fo.la=Nr,ho.Hc=rr,ho.Gc=Pn,ho.ia=43690&Pn?0:bi.ia,Rr=!(rr|Pn)}if(0<Ke.L&&(Ke.wa[Ke.Y+Ke.ja]=Ke.gd[un.$b][un.Za],Ke.wa[Ke.Y+Ke.ja].La|=!Rr),Ri.Ka)return gi(Sn,7,"Premature end-of-file encountered.")}if(ru(Sn),Ke=ir,Ri=1,un=(dt=Sn).D,tn=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(un.M=dt.M,un.uc=tn,ui(dt,un),Ri=1,un=(Bn=dt.D).Nb,tn=(Pn=Pm[dt.L])*dt.R,ai=Pn/2*dt.B,Un=16*un*dt.R,xo=8*un*dt.B,Rr=dt.sa,ho=dt.ta-tn+Un,bi=dt.qa,Cn=dt.ra-ai+xo,qr=dt.Ha,fo=dt.Ia-ai+xo,or=(Qn=Bn.M)==0,rr=Qn>=dt.Va-1,dt.Aa==2&&ui(dt,Bn),Bn.uc)for(qo=(Ni=dt).D.M,t(Ni.D.uc),Bn=Ni.yb;Bn<Ni.Hb;++Bn){Nr=Bn,Vs=qo;var po=(Ho=(Or=Ni).D).Nb;Si=Or.R;var Ho=Ho.wa[Ho.Y+Nr],Wo=Or.sa,To=Or.ta+16*po*Si+16*Nr,Go=Ho.dd,ii=Ho.tc;if(ii!=0)if(t(3<=ii),Or.L==1)0<Nr&&$5(Wo,To,Si,ii+4),Ho.La&&H5(Wo,To,Si,ii),0<Vs&&z5(Wo,To,Si,ii+4),Ho.La&&q5(Wo,To,Si,ii);else{var Ko=Or.B,js=Or.qa,du=Or.ra+8*po*Ko+8*Nr,sl=Or.Ha,Or=Or.Ia+8*po*Ko+8*Nr;po=Ho.ld,0<Nr&&(nr(Wo,To,Si,ii+4,Go,po),uf(js,du,sl,Or,Ko,ii+4,Go,po)),Ho.La&&(bm(Wo,To,Si,ii,Go,po),B5(js,du,sl,Or,Ko,ii,Go,po)),0<Vs&&(ki(Wo,To,Si,ii+4,Go,po),rl(js,du,sl,Or,Ko,ii+4,Go,po)),Ho.La&&(hd(Wo,To,Si,ii,Go,po),U5(js,du,sl,Or,Ko,ii,Go,po))}}if(dt.ia&&alert("todo:DitherRow"),Ke.put!=null){if(Bn=16*Qn,Qn=16*(Qn+1),or?(Ke.y=dt.sa,Ke.O=dt.ta+Un,Ke.f=dt.qa,Ke.N=dt.ra+xo,Ke.ea=dt.Ha,Ke.W=dt.Ia+xo):(Bn-=Pn,Ke.y=Rr,Ke.O=ho,Ke.f=bi,Ke.N=Cn,Ke.ea=qr,Ke.W=fo),rr||(Qn-=Pn),Qn>Ke.o&&(Qn=Ke.o),Ke.F=null,Ke.J=null,dt.Fa!=null&&0<dt.Fa.length&&Bn<Qn&&(Ke.J=jn(dt,Ke,Bn,Qn-Bn),Ke.F=dt.mb,Ke.F==null&&Ke.F.length==0)){Ri=gi(dt,3,"Could not decode alpha data.");break t}Bn<Ke.j&&(Pn=Ke.j-Bn,Bn=Ke.j,t(!(1&Pn)),Ke.O+=dt.R*Pn,Ke.N+=dt.B*(Pn>>1),Ke.W+=dt.B*(Pn>>1),Ke.F!=null&&(Ke.J+=Ke.width*Pn)),Bn<Qn&&(Ke.O+=Ke.v,Ke.N+=Ke.v>>1,Ke.W+=Ke.v>>1,Ke.F!=null&&(Ke.J+=Ke.v),Ke.ka=Bn-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=Qn-Bn,Ri=Ke.put(Ke))}un+1!=dt.Ic||rr||(i(dt.sa,dt.ta-tn,Rr,ho+16*dt.R,tn),i(dt.qa,dt.ra-ai,bi,Cn+8*dt.B,ai),i(dt.Ha,dt.Ia-ai,qr,fo+8*dt.B,ai))}if(!Ri)return gi(Sn,6,"Output aborted.")}return 1})(Y,se)),se.bc!=null&&se.bc(se),de&=1}return de?(Y.cb=0,de):0})(u,w)||(f=u.a)}}else f=u.a}f==0&&F.Oa!=null&&F.Oa.fd&&(f=rf(F.ba))}F=f}M=F!=0?null:11>M?z.f.RGBA.eb:z.f.kb.y}else M=null;return M};var hE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,V){for(var b="",C=0;C<4;C++)b+=String.fromCharCode(I[V++]);return b}function h(I,V){return I[V+0]|I[V+1]<<8}function g(I,V){return(I[V+0]|I[V+1]<<8|I[V+2]<<16)>>>0}function _(I,V){return(I[V+0]|I[V+1]<<8|I[V+2]<<16|I[V+3]<<24)>>>0}new l;var p=[0],P=[0],O=[],N=new l,R=n,Q=(function(I,V){var b={},C=0,x=!1,te=0,we=0;if(b.frames=[],!(function(L,J){for(var ee=0;ee<4;ee++)if(L[J+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(I,V)){for(_(I,V+=4),V+=8;V<I.length;){var Ie=c(I,V),Ae=_(I,V+=4);V+=4;var pe=Ae+(1&Ae);switch(Ie){case"VP8 ":case"VP8L":b.frames[C]===void 0&&(b.frames[C]={}),(Le=b.frames[C]).src_off=x?we:V-8,Le.src_size=te+Ae+8,C++,x&&(x=!1,te=0,we=0);break;case"VP8X":(Le=b.header={}).feature_flags=I[V];var Ce=V+4;Le.canvas_width=1+g(I,Ce),Ce+=3,Le.canvas_height=1+g(I,Ce),Ce+=3;break;case"ALPH":x=!0,te=pe+8,we=V-8;break;case"ANIM":(Le=b.header).bgcolor=_(I,V),Ce=V+4,Le.loop_count=h(I,Ce),Ce+=2;break;case"ANMF":var He,Le;(Le=b.frames[C]={}).offset_x=2*g(I,V),V+=3,Le.offset_y=2*g(I,V),V+=3,Le.width=1+g(I,V),V+=3,Le.height=1+g(I,V),V+=3,Le.duration=g(I,V),V+=3,He=I[V++],Le.dispose=1&He,Le.blend=He>>1&1}Ie!="ANMF"&&(V+=pe)}return b}})(R,0);Q.response=R,Q.rgbaoutput=!0,Q.dataurl=!1;var Z=Q.header?Q.header:null,X=Q.frames?Q.frames:null;if(Z){Z.loop_counter=Z.loop_count,p=[Z.canvas_height],P=[Z.canvas_width];for(var he=0;he<X.length&&X[he].blend!=0;he++);}var _e=X[0],H=N.WebPDecodeRGBA(R,_e.src_off,_e.src_size,P,p);_e.rgba=H,_e.imgwidth=P[0],_e.imgheight=p[0];for(var T=0;T<P[0]*p[0]*4;T++)O[T]=H[T];return this.width=P,this.height=p,this.data=O,this}(function(n){var t,e,i,r,o,s,a,l,c,h=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new s,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new s,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var g=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=L;Object.defineProperty(this,"pdf",{get:function(){return J}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(W){ee=!!W}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(W){re=!!W}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(W){isNaN(W)||(ce=W)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(W){isNaN(W)||(fe=W)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(W){var Ye;typeof W=="number"?Ye=[W,W,W,W]:((Ye=new Array(4))[0]=W[0],Ye[1]=W.length>=2?W[1]:Ye[0],Ye[2]=W.length>=3?W[2]:Ye[0],Ye[3]=W.length>=4?W[3]:Ye[1]),c.margin=Ye}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(W){Se=W}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(W){Ee=W}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(W){Pe=W}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(W){W instanceof h&&(c=W)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(W){c.path=W}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(W){Ue=W}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(W){var Ye;Ye=_(W),this.ctx.fillStyle=Ye.style,this.ctx.isFillTransparent=Ye.a===0,this.ctx.fillOpacity=Ye.a,this.pdf.setFillColor(Ye.r,Ye.g,Ye.b,{a:Ye.a}),this.pdf.setTextColor(Ye.r,Ye.g,Ye.b,{a:Ye.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(W){var Ye=_(W);this.ctx.strokeStyle=Ye.style,this.ctx.isStrokeTransparent=Ye.a===0,this.ctx.strokeOpacity=Ye.a,Ye.a===0?this.pdf.setDrawColor(255,255,255):(Ye.a,this.pdf.setDrawColor(Ye.r,Ye.g,Ye.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(W){["butt","round","square"].indexOf(W)!==-1&&(this.ctx.lineCap=W,this.pdf.setLineCap(W))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(W){isNaN(W)||(this.ctx.lineWidth=W,this.pdf.setLineWidth(W))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(W){["bevel","round","miter"].indexOf(W)!==-1&&(this.ctx.lineJoin=W,this.pdf.setLineJoin(W))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(W){isNaN(W)||(this.ctx.miterLimit=W,this.pdf.setMiterLimit(W))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(W){this.ctx.textBaseline=W}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(W){["right","end","center","left","start"].indexOf(W)!==-1&&(this.ctx.textAlign=W)}});var Je=null,Xe=null,pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(W){Je=null,Xe=null,pt=W}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(W){var Ye;if(this.ctx.font=W,(Ye=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(W))!==null){var en=Ye[1];Ye[2];var xt=Ye[3],Ve=Ye[4];Ye[5];var At=Ye[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(it==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var St=(function(ht){var mi,pn,rn=[],on=ht.trim();if(on==="")return a5;if(on in _3)return[_3[on]];for(;on!=="";){switch(pn=null,mi=(on=b3(on)).charAt(0)){case'"':case"'":pn=s$(on.substring(1),mi);break;default:pn=a$(on)}if(pn===null||(rn.push(pn[0]),(on=b3(pn[1]))!==""&&on.charAt(0)!==","))return a5;on=on.replace(/^,/,"")}return rn})(At);if(this.fontFaces){var wt=(function(ht,mi){var pn=ht.getFontList(),rn=JSON.stringify(pn);if(Je===null||Xe!==rn){var on=(function(zn){var Et=[];return Object.keys(zn).forEach(function($n){zn[$n].forEach(function(Tt){var Wt=null;switch(Tt){case"bold":Wt={family:$n,weight:"bold"};break;case"italic":Wt={family:$n,style:"italic"};break;case"bolditalic":Wt={family:$n,weight:"bold",style:"italic"};break;case"":case"normal":Wt={family:$n}}Wt!==null&&(Wt.ref={name:$n,style:Tt},Et.push(Wt))})}),Et})(pn);Je=(function(zn){for(var Et={},$n=0;$n<zn.length;++$n){var Tt=s5(zn[$n]),Wt=Tt.family,Xn=Tt.stretch,Yt=Tt.style,It=Tt.weight;Et[Wt]=Et[Wt]||{},Et[Wt][Xn]=Et[Wt][Xn]||{},Et[Wt][Xn][Yt]=Et[Wt][Xn][Yt]||{},Et[Wt][Xn][Yt][It]=Tt}return Et})(on.concat(mi)),Xe=rn}return Je})(this.pdf,this.fontFaces),An=St.map(function(ht){return{family:ht,stretch:"normal",weight:xt,style:en}}),dn=(function(ht,mi,pn){for(var rn=(pn=pn||{}).defaultFontFamily||"times",on=Object.assign({},o$,pn.genericFontFamilies||{}),zn=null,Et=null,$n=0;$n<mi.length;++$n)if(on[(zn=s5(mi[$n])).family]&&(zn.family=on[zn.family]),ht.hasOwnProperty(zn.family)){Et=ht[zn.family];break}if(!(Et=Et||ht[rn]))throw new Error("Could not find a font-family for the rule '"+w3(zn)+"' and default family '"+rn+"'.");if(Et=(function(Tt,Wt){if(Wt[Tt])return Wt[Tt];var Xn=f5[Tt],Yt=Xn<=f5.normal?-1:1,It=y3(Wt,q3,Xn,Yt);if(!It)throw new Error("Could not find a matching font-stretch value for "+Tt);return It})(zn.stretch,Et),Et=(function(Tt,Wt){if(Wt[Tt])return Wt[Tt];for(var Xn=$3[Tt],Yt=0;Yt<Xn.length;++Yt)if(Wt[Xn[Yt]])return Wt[Xn[Yt]];throw new Error("Could not find a matching font-style for "+Tt)})(zn.style,Et),!(Et=(function(Tt,Wt){if(Wt[Tt])return Wt[Tt];if(Tt===400&&Wt[500])return Wt[500];if(Tt===500&&Wt[400])return Wt[400];var Xn=r$[Tt],Yt=y3(Wt,H3,Xn,Tt<400?-1:1);if(!Yt)throw new Error("Could not find a matching font-weight for value "+Tt);return Yt})(zn.weight,Et)))throw new Error("Failed to resolve a font for the rule '"+w3(zn)+"'.");return Et})(wt,An);this.pdf.setFont(dn.ref.name,dn.ref.style)}else{var $t="";(xt==="bold"||parseInt(xt,10)>=700||en==="bold")&&($t="bold"),en==="italic"&&($t+="italic"),$t.length===0&&($t="normal");for(var kt="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<St.length;at++){if(this.pdf.internal.getFont(St[at],$t,{noFallback:!0,disableWarning:!0})!==void 0){kt=St[at];break}if($t==="bolditalic"&&this.pdf.internal.getFont(St[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)kt=St[at],$t="bold";else if(this.pdf.internal.getFont(St[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){kt=St[at],$t="normal";break}}if(kt===""){for(var Kt=0;Kt<St.length;Kt++)if(Rt[St[Kt]]){kt=Rt[St[Kt]];break}}kt=kt===""?"Times":kt,this.pdf.setFont(kt,$t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(W){this.ctx.globalCompositeOperation=W}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(W){this.ctx.globalAlpha=W}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(W){this.ctx.lineDashOffset=W,Le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(W){this.ctx.lineDash=W,Le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(W){this.ctx.ignoreClearRect=!!W}})};g.prototype.setLineDash=function(L){this.lineDash=L},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){X.call(this,"fill",!1)},g.prototype.stroke=function(){X.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(L,J){if(isNaN(L)||isNaN(J))throw ei.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new s(L,J));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(L,J)},g.prototype.closePath=function(){var L=new s(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Kn(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){L=new s(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(L.x,L.y)},g.prototype.lineTo=function(L,J){if(isNaN(L)||isNaN(J))throw ei.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new s(L,J));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),X.call(this,null,!0)},g.prototype.quadraticCurveTo=function(L,J,ee,re){if(isNaN(ee)||isNaN(re)||isNaN(L)||isNaN(J))throw ei.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new s(ee,re)),fe=this.ctx.transform.applyToPoint(new s(L,J));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},g.prototype.bezierCurveTo=function(L,J,ee,re,ce,fe){if(isNaN(ce)||isNaN(fe)||isNaN(L)||isNaN(J)||isNaN(ee)||isNaN(re))throw ei.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new s(ce,fe)),Ee=this.ctx.transform.applyToPoint(new s(L,J)),Pe=this.ctx.transform.applyToPoint(new s(ee,re));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:Pe.x,y2:Pe.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new s(Se.x,Se.y)},g.prototype.arc=function(L,J,ee,re,ce,fe){if(isNaN(L)||isNaN(J)||isNaN(ee)||isNaN(re)||isNaN(ce))throw ei.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new s(L,J));L=Se.x,J=Se.y;var Ee=this.ctx.transform.applyToPoint(new s(0,ee)),Pe=this.ctx.transform.applyToPoint(new s(0,0));ee=Math.sqrt(Math.pow(Ee.x-Pe.x,2)+Math.pow(Ee.y-Pe.y,2))}Math.abs(ce-re)>=2*Math.PI&&(re=0,ce=2*Math.PI),this.path.push({type:"arc",x:L,y:J,radius:ee,startAngle:re,endAngle:ce,counterclockwise:fe})},g.prototype.arcTo=function(L,J,ee,re,ce){throw new Error("arcTo not implemented.")},g.prototype.rect=function(L,J,ee,re){if(isNaN(L)||isNaN(J)||isNaN(ee)||isNaN(re))throw ei.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,J),this.lineTo(L+ee,J),this.lineTo(L+ee,J+re),this.lineTo(L,J+re),this.lineTo(L,J),this.lineTo(L+ee,J),this.lineTo(L,J)},g.prototype.fillRect=function(L,J,ee,re){if(isNaN(L)||isNaN(J)||isNaN(ee)||isNaN(re))throw ei.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,J,ee,re),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},g.prototype.strokeRect=function(L,J,ee,re){if(isNaN(L)||isNaN(J)||isNaN(ee)||isNaN(re))throw ei.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(L,J,ee,re),this.stroke())},g.prototype.clearRect=function(L,J,ee,re){if(isNaN(L)||isNaN(J)||isNaN(ee)||isNaN(re))throw ei.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,J,ee,re))},g.prototype.save=function(L){L=typeof L!="boolean"||L;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},g.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(J),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(L){var J,ee,re,ce;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))J=0,ee=0,re=0,ce=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(fe!==null)J=parseInt(fe[1]),ee=parseInt(fe[2]),re=parseInt(fe[3]),ce=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)J=parseInt(fe[1]),ee=parseInt(fe[2]),re=parseInt(fe[3]),ce=parseFloat(fe[4]);else{if(ce=1,typeof L=="string"&&L.charAt(0)!=="#"){var Se=new L3(L);L=Se.ok?Se.toHex():"#000000"}L.length===4?(J=L.substring(1,2),J+=J,ee=L.substring(2,3),ee+=ee,re=L.substring(3,4),re+=re):(J=L.substring(1,3),ee=L.substring(3,5),re=L.substring(5,7)),J=parseInt(J,16),ee=parseInt(ee,16),re=parseInt(re,16)}}return{r:J,g:ee,b:re,a:ce,style:L}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(L,J,ee,re){if(isNaN(J)||isNaN(ee)||typeof L!="string")throw ei.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!p.call(this)){var ce=pe(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;C.call(this,{text:L,x:J,y:ee,scale:fe,angle:ce,align:this.textAlign,maxWidth:re})}},g.prototype.strokeText=function(L,J,ee,re){if(isNaN(J)||isNaN(ee)||typeof L!="string")throw ei.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){re=isNaN(re)?void 0:re;var ce=pe(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;C.call(this,{text:L,x:J,y:ee,scale:fe,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:re})}},g.prototype.measureText=function(L){if(typeof L!="string")throw ei.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,ee=this.pdf.internal.scaleFactor,re=J.internal.getFontSize(),ce=J.getStringUnitWidth(L)*re/J.internal.scaleFactor;return new function(fe){var Se=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:ce*=Math.round(96*ee/72*1e4)/1e4})},g.prototype.scale=function(L,J){if(isNaN(L)||isNaN(J))throw ei.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(L,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},g.prototype.rotate=function(L){if(isNaN(L))throw ei.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},g.prototype.translate=function(L,J){if(isNaN(L)||isNaN(J))throw ei.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,L,J);this.ctx.transform=this.ctx.transform.multiply(ee)},g.prototype.transform=function(L,J,ee,re,ce,fe){if(isNaN(L)||isNaN(J)||isNaN(ee)||isNaN(re)||isNaN(ce)||isNaN(fe))throw ei.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new l(L,J,ee,re,ce,fe);this.ctx.transform=this.ctx.transform.multiply(Se)},g.prototype.setTransform=function(L,J,ee,re,ce,fe){L=isNaN(L)?1:L,J=isNaN(J)?0:J,ee=isNaN(ee)?0:ee,re=isNaN(re)?1:re,ce=isNaN(ce)?0:ce,fe=isNaN(fe)?0:fe,this.ctx.transform=new l(L,J,ee,re,ce,fe)};var O=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(L,J,ee,re,ce,fe,Se,Ee,Pe){var Ue=this.pdf.getImageProperties(L),Je=1,Xe=1,pt=1,W=1;re!==void 0&&Ee!==void 0&&(pt=Ee/re,W=Pe/ce,Je=Ue.width/re*Ee/re,Xe=Ue.height/ce*Pe/ce),fe===void 0&&(fe=J,Se=ee,J=0,ee=0),re!==void 0&&Ee===void 0&&(Ee=re,Pe=ce),re===void 0&&Ee===void 0&&(Ee=Ue.width,Pe=Ue.height);var Ye=this.ctx.transform.decompose(),en=pe(Ye.rotate.shx),xt=new l,Ve=(xt=(xt=(xt=xt.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new a(fe-J*pt,Se-ee*W,re*Je,ce*Xe));if(this.autoPaging){for(var At,it=N.call(this,Ve),St=[],wt=0;wt<it.length;wt+=1)St.indexOf(it[wt])===-1&&St.push(it[wt]);Z(St);for(var An=St[0],dn=St[St.length-1],$t=An;$t<dn+1;$t++){this.pdf.setPage($t);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=$t===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=$t===1?0:at+($t-2)*Kt;if(this.ctx.clip_path.length!==0){var mi=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(At,this.posX+this.margin[3],-ht+Rt+this.ctx.prevPageLastElemOffset),he.call(this,"fill",!0),this.path=mi}var pn=JSON.parse(JSON.stringify(Ve));pn=Q([pn],this.posX+this.margin[3],-ht+Rt+this.ctx.prevPageLastElemOffset)[0];var rn=($t>An||$t<dn)&&O.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,Kt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",pn.x,pn.y,pn.w,pn.h,null,null,en),rn&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,en)};var N=function(L,J,ee){var re=[];J=J||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":re.push(Math.floor((L.y+ce)/ee)+1);break;case"arc":re.push(Math.floor((L.y+ce-L.radius)/ee)+1),re.push(Math.floor((L.y+ce+L.radius)/ee)+1);break;case"qct":var fe=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);re.push(Math.floor((fe.y+ce)/ee)+1),re.push(Math.floor((fe.y+fe.h+ce)/ee)+1);break;case"bct":var Se=He(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);re.push(Math.floor((Se.y+ce)/ee)+1),re.push(Math.floor((Se.y+Se.h+ce)/ee)+1);break;case"rect":re.push(Math.floor((L.y+ce)/ee)+1),re.push(Math.floor((L.y+L.h+ce)/ee)+1)}for(var Ee=0;Ee<re.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<re[Ee];)R.call(this);return re},R=function(){var L=this.fillStyle,J=this.strokeStyle,ee=this.font,re=this.lineCap,ce=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=J,this.font=ee,this.lineCap=re,this.lineWidth=ce,this.lineJoin=fe},Q=function(L,J,ee){for(var re=0;re<L.length;re++)switch(L[re].type){case"bct":L[re].x2+=J,L[re].y2+=ee;case"qct":L[re].x1+=J,L[re].y1+=ee;default:L[re].x+=J,L[re].y+=ee}return L},Z=function(L){return L.sort(function(J,ee){return J-ee})},X=function(L,J){var ee=this.fillStyle,re=this.strokeStyle,ce=this.lineCap,fe=this.lineWidth,Se=Math.abs(fe*this.ctx.transform.scaleX),Ee=this.lineJoin;if(this.autoPaging){for(var Pe,Ue,Je=JSON.parse(JSON.stringify(this.path)),Xe=JSON.parse(JSON.stringify(this.path)),pt=[],W=0;W<Xe.length;W++)if(Xe[W].x!==void 0)for(var Ye=N.call(this,Xe[W]),en=0;en<Ye.length;en+=1)pt.indexOf(Ye[en])===-1&&pt.push(Ye[en]);for(var xt=0;xt<pt.length;xt++)for(;this.pdf.internal.getNumberOfPages()<pt[xt];)R.call(this);Z(pt);for(var Ve=pt[0],At=pt[pt.length-1],it=Ve;it<At+1;it++){this.pdf.setPage(it),this.fillStyle=ee,this.strokeStyle=re,this.lineCap=ce,this.lineWidth=Se,this.lineJoin=Ee;var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=it===1?this.posY+this.margin[0]:this.margin[0],An=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$t=it===1?0:An+(it-2)*dn;if(this.ctx.clip_path.length!==0){var kt=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(Pe,this.posX+this.margin[3],-$t+wt+this.ctx.prevPageLastElemOffset),he.call(this,L,!0),this.path=kt}if(Ue=JSON.parse(JSON.stringify(Je)),this.path=Q(Ue,this.posX+this.margin[3],-$t+wt+this.ctx.prevPageLastElemOffset),J===!1||it===0){var Rt=(it>Ve||it<At)&&O.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,dn,null).clip().discardPath()),he.call(this,L,J),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}this.path=Je}else this.lineWidth=Se,he.call(this,L,J),this.lineWidth=fe},he=function(L,J){if((L!=="stroke"||J||!P.call(this))&&(L==="stroke"||J||!p.call(this))){for(var ee,re,ce=[],fe=this.path,Se=0;Se<fe.length;Se++){var Ee=fe[Se];switch(Ee.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ee,deltas:[],abs:[]});break;case"lt":var Pe=ce.length;if(fe[Se-1]&&!isNaN(fe[Se-1].x)&&(ee=[Ee.x-fe[Se-1].x,Ee.y-fe[Se-1].y],Pe>0)){for(;Pe>=0;Pe--)if(ce[Pe-1].close!==!0&&ce[Pe-1].begin!==!0){ce[Pe-1].deltas.push(ee),ce[Pe-1].abs.push(Ee);break}}break;case"bct":ee=[Ee.x1-fe[Se-1].x,Ee.y1-fe[Se-1].y,Ee.x2-fe[Se-1].x,Ee.y2-fe[Se-1].y,Ee.x-fe[Se-1].x,Ee.y-fe[Se-1].y],ce[ce.length-1].deltas.push(ee);break;case"qct":var Ue=fe[Se-1].x+2/3*(Ee.x1-fe[Se-1].x),Je=fe[Se-1].y+2/3*(Ee.y1-fe[Se-1].y),Xe=Ee.x+2/3*(Ee.x1-Ee.x),pt=Ee.y+2/3*(Ee.y1-Ee.y),W=Ee.x,Ye=Ee.y;ee=[Ue-fe[Se-1].x,Je-fe[Se-1].y,Xe-fe[Se-1].x,pt-fe[Se-1].y,W-fe[Se-1].x,Ye-fe[Se-1].y],ce[ce.length-1].deltas.push(ee);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ee)}}re=J?null:L==="stroke"?"stroke":"fill";for(var en=!1,xt=0;xt<ce.length;xt++)if(ce[xt].arc)for(var Ve=ce[xt].abs,At=0;At<Ve.length;At++){var it=Ve[At];it.type==="arc"?T.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,J,!en):x.call(this,it.x,it.y),en=!0}else if(ce[xt].close===!0)this.pdf.internal.out("h"),en=!1;else if(ce[xt].begin!==!0){var St=ce[xt].start.x,wt=ce[xt].start.y;te.call(this,ce[xt].deltas,St,wt),en=!0}re&&I.call(this,re),J&&V.call(this)}},_e=function(L){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-ee;case"top":return L+J-ee;case"hanging":return L+J-2*ee;case"middle":return L+J/2-ee;default:return L}},H=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(J,ee){this.colorStops.push([J,ee])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(L,J,ee,re,ce,fe,Se,Ee,Pe){for(var Ue=Ie.call(this,ee,re,ce,fe),Je=0;Je<Ue.length;Je++){var Xe=Ue[Je];Je===0&&(Pe?b.call(this,Xe.x1+L,Xe.y1+J):x.call(this,Xe.x1+L,Xe.y1+J)),we.call(this,L,J,Xe.x2,Xe.y2,Xe.x3,Xe.y3,Xe.x4,Xe.y4)}Ee?V.call(this):I.call(this,Se)},I=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},b=function(L,J){this.pdf.internal.out(e(L)+" "+i(J)+" m")},C=function(L){var J;switch(L.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var ee,re,ce,fe=this.pdf.getTextDimensions(L.text),Se=_e.call(this,L.y),Ee=H.call(this,Se)-fe.h,Pe=this.ctx.transform.applyToPoint(new s(L.x,Se));if(this.autoPaging){var Ue=this.ctx.transform.decompose(),Je=new l;Je=(Je=(Je=Je.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale);for(var Xe=this.ctx.transform.applyToRectangle(new a(L.x,Se,fe.w,fe.h)),pt=Je.applyToRectangle(new a(L.x,Ee,fe.w,fe.h)),W=N.call(this,pt),Ye=[],en=0;en<W.length;en+=1)Ye.indexOf(W[en])===-1&&Ye.push(W[en]);Z(Ye);for(var xt=Ye[0],Ve=Ye[Ye.length-1],At=xt;At<Ve+1;At++){this.pdf.setPage(At);var it=At===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[2],An=wt-this.margin[0],dn=this.pdf.internal.pageSize.width-this.margin[1],$t=dn-this.margin[3],kt=At===1?0:St+(At-2)*An;if(this.ctx.clip_path.length!==0){var Rt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(ee,this.posX+this.margin[3],-1*kt+it),he.call(this,"fill",!0),this.path=Rt}var at=Q([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-kt+it+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*L.scale),ce=this.lineWidth,this.lineWidth=ce*L.scale);var Kt=this.autoPaging!=="text";if(Kt||at.y+at.h<=wt){if(Kt||at.y>=it&&at.x<=dn){var ht=Kt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||dn-at.x)[0],mi=Q([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-kt+it+this.ctx.prevPageLastElemOffset)[0],pn=Kt&&(At>xt||At<Ve)&&O.call(this);pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,An,null).clip().discardPath()),this.pdf.text(ht,mi.x,mi.y,{angle:L.angle,align:J,renderingMode:L.renderingMode}),pn&&this.pdf.restoreGraphicsState()}}else at.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-at.y);L.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ce)}}else L.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*L.scale),ce=this.lineWidth,this.lineWidth=ce*L.scale),this.pdf.text(L.text,Pe.x+this.posX,Pe.y+this.posY,{angle:L.angle,align:J,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ce)},x=function(L,J,ee,re){ee=ee||0,re=re||0,this.pdf.internal.out(e(L+ee)+" "+i(J+re)+" l")},te=function(L,J,ee){return this.pdf.lines(L,J,ee,null,null)},we=function(L,J,ee,re,ce,fe,Se,Ee){this.pdf.internal.out([t(r(ee+L)),t(o(re+J)),t(r(ce+L)),t(o(fe+J)),t(r(Se+L)),t(o(Ee+J)),"c"].join(" "))},Ie=function(L,J,ee,re){for(var ce=2*Math.PI,fe=Math.PI/2;J>ee;)J-=ce;var Se=Math.abs(ee-J);Se<ce&&re&&(Se=ce-Se);for(var Ee=[],Pe=re?-1:1,Ue=J;Se>1e-5;){var Je=Ue+Pe*Math.min(Se,fe);Ee.push(Ae.call(this,L,Ue,Je)),Se-=Math.abs(Je-Ue),Ue=Je}return Ee},Ae=function(L,J,ee){var re=(ee-J)/2,ce=L*Math.cos(re),fe=L*Math.sin(re),Se=ce,Ee=-fe,Pe=Se*Se+Ee*Ee,Ue=Pe+Se*ce+Ee*fe,Je=4/3*(Math.sqrt(2*Pe*Ue)-Ue)/(Se*fe-Ee*ce),Xe=Se-Je*Ee,pt=Ee+Je*Se,W=Xe,Ye=-pt,en=re+J,xt=Math.cos(en),Ve=Math.sin(en);return{x1:L*Math.cos(J),y1:L*Math.sin(J),x2:Xe*xt-pt*Ve,y2:Xe*Ve+pt*xt,x3:W*xt-Ye*Ve,y3:W*Ve+Ye*xt,x4:L*Math.cos(ee),y4:L*Math.sin(ee)}},pe=function(L){return 180*L/Math.PI},Ce=function(L,J,ee,re,ce,fe){var Se=L+.5*(ee-L),Ee=J+.5*(re-J),Pe=ce+.5*(ee-ce),Ue=fe+.5*(re-fe),Je=Math.min(L,ce,Se,Pe),Xe=Math.max(L,ce,Se,Pe),pt=Math.min(J,fe,Ee,Ue),W=Math.max(J,fe,Ee,Ue);return new a(Je,pt,Xe-Je,W-pt)},He=function(L,J,ee,re,ce,fe,Se,Ee){var Pe,Ue,Je,Xe,pt,W,Ye,en,xt,Ve,At,it,St,wt,An=ee-L,dn=re-J,$t=ce-ee,kt=fe-re,Rt=Se-ce,at=Ee-fe;for(Ue=0;Ue<41;Ue++)xt=(Ye=(Je=L+(Pe=Ue/40)*An)+Pe*((pt=ee+Pe*$t)-Je))+Pe*(pt+Pe*(ce+Pe*Rt-pt)-Ye),Ve=(en=(Xe=J+Pe*dn)+Pe*((W=re+Pe*kt)-Xe))+Pe*(W+Pe*(fe+Pe*at-W)-en),Ue==0?(At=xt,it=Ve,St=xt,wt=Ve):(At=Math.min(At,xt),it=Math.min(it,Ve),St=Math.max(St,xt),wt=Math.max(wt,Ve));return new a(Math.round(At),Math.round(it),Math.round(St-At),Math.round(wt-it))},Le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,J,ee=(L=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:J}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(vt.API),(function(n){var t=function(s){var a,l,c,h,g,_,p,P,O,N;for(/[^\x00-\xFF]/.test(s),l=[],c=0,h=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;h>c;c+=4)(g=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(_=(g=((g=((g=((g=(g-(N=g%85))/85)-(O=g%85))/85)-(P=g%85))/85)-(p=g%85))/85)%85,l.push(_+33,p+33,P+33,O+33,N+33)):l.push(122);return(function(R,Q){for(var Z=Q;Z>0;Z--)R.pop()})(l,a.length),String.fromCharCode.apply(String,l)+"~>"},e=function(s){var a,l,c,h,g,_=String,p="length",P=255,O="charCodeAt",N="slice",R="replace";for(s[N](-2),s=s[N](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),c=[],h=0,g=(s+=a="uuuuu"[N](s[p]%5||5))[p];g>h;h+=5)l=52200625*(s[O](h)-33)+614125*(s[O](h+1)-33)+7225*(s[O](h+2)-33)+85*(s[O](h+3)-33)+(s[O](h+4)-33),c.push(P&l>>24,P&l>>16,P&l>>8,P&l);return(function(Q,Z){for(var X=Z;X>0;X--)Q.pop()})(c,a[p]),_.fromCharCode.apply(_,c)},i=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=Ov(a)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};n.processDataByFilters=function(s,a){var l=0,c=s||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=e(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=i(c),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}})(vt.API),(function(n){n.loadFile=function(t,e,i){return(function(r,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=(function(l,c,h){var g=new XMLHttpRequest,_=0,p=function(P){var O=P.length,N=[],R=String.fromCharCode;for(_=0;_<O;_+=1)N.push(R(255&P.charCodeAt(_)));return N.join("")};if(g.open("GET",l,!c),g.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(g.onload=function(){g.status===200?h(p(this.responseText)):h(void 0)}),g.send(null),c&&g.status===200)return p(g.responseText)})(r,o,s)}catch{}return a})(t,e,i)},n.loadImageFile=n.loadFile})(vt.API),(function(n){function t(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):import("./chunk-YJV27OED.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):import("./chunk-ZWZCBNTK.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var l=Kn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(a,l){var c=document.createElement(a);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},o=function a(l,c){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)c!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(a(g,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),c);return(h=h.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||(function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),l){case"string":return this.then(e).then(function(c){return this.set({src:r("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var P=h[p],O=P.src.find(function(N){return N.format==="truetype"});O&&c.addFont(O.url,P.ref.name,P.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,c.context2d.save(!0),l(this.prop.container,_)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(i(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(a=a||vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,h){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,h){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(h,g){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(_){return c.updateProgress(null,h),_}).then(h,g).then(function(_){return c.updateProgress(1),_})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var h=this;a&&(a=a.bind(h)),l&&(l=l.bind(h));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:s.convert(Object.assign({},h),Promise.prototype),_=c.call(g,a,l);return s.convert(_,h.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,vt.getPageSize=function(a,l,c){if(Kn(a)==="object"){var h=a;a=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var g,_=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var P,O=0,N=0;if(p.hasOwnProperty(_))O=p[_][1]/g,N=p[_][0]/g;else try{O=c[1],N=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",N>O&&(P=N,N=O,O=P);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",O>N&&(P=N,N=O,O=P)}return{width:N,height:O,unit:l,k:g,orientation:a}},n.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(s5):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}})(vt.API),vt.API.addJS=function(n){return E3=n,this.internal.events.subscribe("postPutResources",function(){r1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(r1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),S3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+E3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){r1!==void 0&&S3!==void 0&&this.internal.out("/Names <</JavaScript "+r1+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),o=0;o<r.length;o++){var s=r[o],a=i.exec(s);if(a!=null){var l=a[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(o=0;o<c;o++){var g=e.internal.newObject();h.push(g);var _=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var p=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<h.length;o++)e.internal.write("(page_"+(o+1)+")"+h[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+p+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,o){var s={title:r,options:o,children:[]};return i==null&&(i=this.root),i.children.push(s),s},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var s=i.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,r){for(var o=0;o<r.children.length;o++)i.count++,this.count_r(i,r.children[o]);return i.count}}])})(vt.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,o,s,a){var l,c=this.decode.DCT_DECODE,h=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,l=(function(g){for(var _,p=256*g.charCodeAt(4)+g.charCodeAt(5),P=g.length,O={width:0,height:0,numcomponents:1},N=4;N<P;N+=2){if(N+=p,t.indexOf(g.charCodeAt(N+1))!==-1){_=256*g.charCodeAt(N+5)+g.charCodeAt(N+6),O={width:256*g.charCodeAt(N+7)+g.charCodeAt(N+8),height:_,numcomponents:g.charCodeAt(N+9)};break}p=256*g.charCodeAt(N+2)+g.charCodeAt(N+3)}return O})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:e,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:r}}return h}})(vt.API),vt.API.processPNG=function(n,t,e,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var r,o=d3(n,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,c=o.palette,h=o.depth;r=c&&l===1?(function(T){for(var I=T.width,V=T.height,b=T.data,C=T.palette,x=T.depth,te=!1,we=[],Ie=[],Ae=void 0,pe=!1,Ce=0,He=0;He<C.length;He++){var Le=yS(C[He],4),L=Le[0],J=Le[1],ee=Le[2],re=Le[3];we.push(L,J,ee),re!=null&&(re===0?(Ce++,Ie.length<1&&Ie.push(He)):re<255&&(pe=!0))}if(pe||Ce>1){te=!0,Ie=void 0;var ce=I*V;Ae=new Uint8Array(ce);for(var fe=new DataView(b.buffer),Se=0;Se<ce;Se++){var Ee=l5(fe,Se,x),Pe=yS(C[Ee],4)[3];Ae[Se]=Pe}}else Ce===0&&(Ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:b,alphaBytes:Ae,needSMask:te,palette:we,mask:Ie}})(o):l===2||l===4?(function(T){for(var I=T.data,V=T.width,b=T.height,C=T.channels,x=T.depth,te=C===2?"DeviceGray":"DeviceRGB",we=C-1,Ie=V*b,Ae=we,pe=Ie*Ae,Ce=1*Ie,He=Math.ceil(pe*x/8),Le=Math.ceil(Ce*x/8),L=new Uint8Array(He),J=new Uint8Array(Le),ee=new DataView(I.buffer),re=new DataView(L.buffer),ce=new DataView(J.buffer),fe=!1,Se=0;Se<Ie;Se++){for(var Ee=Se*C,Pe=0;Pe<Ae;Pe++)R3(re,l5(ee,Ee+Pe,x),Se*Ae+Pe,x);var Ue=l5(ee,Ee+Ae,x);Ue<(1<<x)-1&&(fe=!0),R3(ce,Ue,1*Se,x)}return{colorSpace:te,colorsPerPixel:we,sMaskBitsPerComponent:fe?x:void 0,colorBytes:L,alphaBytes:J,needSMask:fe}})(o):(function(T){var I=T.data,V=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(b){for(var C=b.length,x=new Uint8Array(2*C),te=new DataView(x.buffer,x.byteOffset,x.byteLength),we=0;we<C;we++)te.setUint16(2*we,b[we],!1);return x})(I):I,needSMask:!1}})(o);var g,_,p,P=r,O=P.colorSpace,N=P.colorsPerPixel,R=P.sMaskBitsPerComponent,Q=P.colorBytes,Z=P.alphaBytes,X=P.needSMask,he=P.palette,_e=P.mask,H=null;return i!==vt.API.image_compression.NONE&&typeof Ov=="function"?(H=(function(T){var I;switch(T){case vt.API.image_compression.FAST:I=11;break;case vt.API.image_compression.MEDIUM:I=13;break;case vt.API.image_compression.SLOW:I=14;break;default:I=12}return I})(i),g=this.decode.FLATE_DECODE,_="/Predictor ".concat(H," /Colors ").concat(N," /BitsPerComponent ").concat(h," /Columns ").concat(s),n=x3(Q,Math.ceil(s*N*h/8),N,h,i),X&&(p=x3(Z,Math.ceil(s*R/8),1,R,i))):(g=void 0,_=void 0,n=Q,X&&(p=Z)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:e,data:n,index:t,filter:g,decodeParameters:_,transparency:_e,palette:he,sMask:p,predictor:H,width:s,height:a,bitsPerComponent:h,sMaskBitsPerComponent:R,colorSpace:O}}},(function(n){n.processGIF89A=function(t,e,i,r){var o=new d$(t),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},h=new c5(100).encode(c,100);return n.processJPEG.call(this,h,e,i,r)},n.processGIF87A=n.processGIF89A})(vt.API),ra.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ra.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){ei.log("bit decode error:"+e)}},ra.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}e!==0&&(this.pos+=4-e)}},ra.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*r*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},ra.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;if(r<this.palette.length){var s=this.palette[r];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},ra.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,a=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,h=i*this.width*4+4*r;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=s,this.data[h+3]=c}this.pos+=n}},ra.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&e)/e*255|0,c=(s>>11)/t*255|0,h=r*this.width*4+4*o;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=n}},ra.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*e;this.data[s]=o,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},ra.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=s}},ra.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,i,r){var o=new ra(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new c5(100).encode(l,100);return n.processJPEG.call(this,c,e,i,r)}})(vt.API),O3.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,i,r){var o=new O3(t),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new c5(100).encode(l,100);return n.processJPEG.call(this,c,e,i,r)}})(vt.API),vt.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,o=new Uint8Array(r/4*3),s=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var h=i[c],g=i[c+1],_=i[c+2],p=i[c+3];o[a++]=h,o[a++]=g,o[a++]=_,s[l++]=p}var P=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:P,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},vt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fh=vt.API,o1=Fh.getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:r.metadata.Unicode.kerning,h=c.fof?c.fof:1,g=t.doKerning!==!1,_=0,p=n.length,P=0,O=a[0]||l,N=[];for(e=0;e<p;e++)i=n.charCodeAt(e),typeof r.metadata.widthOfString=="function"?N.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+s*(1e3/o)||0)/1e3):(_=g&&Kn(c[i])==="object"&&!isNaN(parseInt(c[i][P],10))?c[i][P]/h:0,N.push((a[i]||O)/l+_)),P=i;return N},A3=Fh.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return Fh.processArabic&&(n=Fh.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,r)/e:o1.apply(this,arguments).reduce(function(o,s){return o+s},0)},I3=function(n,t,e,i){for(var r=[],o=0,s=n.length,a=0;o!==s&&a+t[o]<e;)a+=t[o],o++;r.push(n.slice(0,o));var l=o;for(a=0;o!==s;)a+t[o]>i&&(r.push(n.slice(l,o)),a=0,l=o),a+=t[o],o++;return l!==o&&r.push(n.slice(l,o)),r},C3=function(n,t,e){e||(e={});var i,r,o,s,a,l,c,h=[],g=[h],_=e.textIndent||0,p=0,P=0,O=n.split(" "),N=o1.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?O[0].length+2:e.lineIndent||0){var R=Array(l).join(" "),Q=[];O.map(function(X){(X=X.split(/\s*\n/)).length>1?Q=Q.concat(X.map(function(he,_e){return(_e&&he.length?`
`:"")+he})):Q.push(X[0])}),O=Q,l=A3.apply(this,[R,e])}for(o=0,s=O.length;o<s;o++){var Z=0;if(i=O[o],l&&i[0]==`
`&&(i=i.substr(1),Z=1),_+p+(P=(r=o1.apply(this,[i,e])).reduce(function(X,he){return X+he},0))>t||Z){if(P>t){for(a=I3.apply(this,[i,r,t-(_+p),t]),h.push(a.shift()),h=[a.pop()];a.length;)g.push([a.shift()]);P=r.slice(i.length-(h[0]?h[0].length:0)).reduce(function(X,he){return X+he},0)}else h=[i];g.push(h),_=P+l,p=N}else h.push(i),_+=p+P,p=N}return c=l?function(X,he){return(he?R:"")+X.join(" ")}:function(X){return X.join(" ")},g.map(c)},Fh.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle),_="Unicode";return g.metadata[_]?{widths:g.metadata[_].widths||{0:1},kerning:g.metadata[_].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/r;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=e.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(C3.apply(this,[i[a],s,o]));return c},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",i={},r={},o=0;o<16;o++)i[e[o]]=t[o],r[t[o]]=e[o];var s=function(_){return"0x"+parseInt(_,10).toString(16)},a=n.__fontmetrics__.compress=function(_){var p,P,O,N,R=["{"];for(var Q in _){if(p=_[Q],isNaN(parseInt(Q,10))?P="'"+Q+"'":(Q=parseInt(Q,10),P=(P=s(Q).slice(2)).slice(0,-1)+r[P.slice(-1)]),typeof p=="number")p<0?(O=s(p).slice(3),N="-"):(O=s(p).slice(2),N=""),O=N+O.slice(0,-1)+r[O.slice(-1)];else{if(Kn(p)!=="object")throw new Error("Don't know what to do with value type "+Kn(p)+".");O=a(p)}R.push(P+O)}return R.push("}"),R.join("")},l=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,P,O,N,R={},Q=1,Z=R,X=[],he="",_e="",H=_.length-1,T=1;T<H;T+=1)(N=_[T])=="'"?p?(O=p.join(""),p=void 0):p=[]:p?p.push(N):N=="{"?(X.push([Z,O]),Z={},O=void 0):N=="}"?((P=X.pop())[0][P[1]]=Z,O=void 0,Z=P[0]):N=="-"?Q=-1:O===void 0?i.hasOwnProperty(N)?(he+=i[N],O=parseInt(he,16)*Q,Q=1,he=""):he+=N:i.hasOwnProperty(N)?(_e+=i[N],Z[O]=parseInt(_e,16)*Q,Q=1,O=void 0,_e=""):_e+=N;return R},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var p=_.font,P=g.Unicode[p.postScriptName];P&&(p.metadata.Unicode={},p.metadata.Unicode.widths=P.widths,p.metadata.Unicode.kerning=P.kerning);var O=h.Unicode[p.postScriptName];O&&(p.metadata.Unicode.encoding=O,p.encoding=O.codePages[0])}])})(vt.API),(function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=e.charCodeAt(o);return r};n.API.events.push(["addFont",function(e){var i=void 0,r=e.font,o=e.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(s1(a)),s.metadata=n.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(r,i)}}])})(vt),vt.API.addSvgAsImage=function(n,t,e,i,r,o,s,a){if(isNaN(t)||isNaN(e))throw ei.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw ei.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Ht.canvg?Promise.resolve(Ht.canvg):import("./chunk-RZLFRSFF.js")).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(c,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(h)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),t,e,i,r,s,a)})},vt.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},vt.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,h=0,g=0;function _(P,O){var N,R=!1;for(N=0;N<P.length;N+=1)P[N]===O&&(R=!0);return R}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var p=a.length;for(g=0;g<p;g+=1)e[a[g]].value=e[a[g]].defaultValue,e[a[g]].explicitSet=!1}if(Kn(n)==="object"){for(r in n)if(o=n[r],_(a,r)&&o!==void 0){if(e[r].type==="boolean"&&typeof o=="boolean")e[r].value=o;else if(e[r].type==="name"&&_(e[r].valueSet,o))e[r].value=o;else if(e[r].type==="integer"&&Number.isInteger(o))e[r].value=o;else if(e[r].type==="array"){for(c=0;c<o.length;c+=1)if(i=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(h=0;h<o[c].length;h+=1)typeof o[c][h]!="number"&&(i=!1);i===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}e[r].value="["+l.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,O=[];for(P in e)e[P].explicitSet===!0&&(e[P].type==="name"?O.push("/"+P+" /"+e[P].value):O.push("/"+P+" "+e[P].value));O.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+O.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(vt.API),(function(n){var t=n.API,e=t.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],g=0,_=o.length;g<_;++g){if(a=s.metadata.characterToGlyph(o.charCodeAt(g)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(g),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(c[4-a.length],a)}return h.join("")},i=function(o){var s,a,l,c,h,g,_;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,_=(a=Object.keys(o).sort(function(p,P){return p-P})).length;g<_;g++)s=a[g],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,h=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var g=a.metadata.Unicode.widths,_=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",P=0;P<_.length;P++)p+=String.fromCharCode(_[P]);var O=c();h({data:p,addLength1:!0,objectId:O}),l("endobj");var N=c();h({data:i(a.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var R=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+jh(a.fontName)),l("/FontFile2 "+O+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var Q=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+jh(a.fontName)),l("/FontDescriptor "+R+" 0 R"),l("/W "+n.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+N+" 0 R"),l("/BaseFont /"+jh(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+Q+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,h=s.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var g=a.metadata.rawData,_="",p=0;p<g.length;p++)_+=String.fromCharCode(g[p]);var P=c();h({data:_,addLength1:!0,objectId:P}),l("endobj");var O=c();h({data:i(a.metadata.toUnicode),addLength1:!0,objectId:O}),l("endobj");var N=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+P+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+jh(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var R=0;R<a.metadata.hmtx.widths.length;R++)a.metadata.hmtx.widths[R]=parseInt(a.metadata.hmtx.widths[R]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+O+" 0 R/BaseFont/"+jh(a.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var r=function(o){var s,a=o.text||"",l=o.x,c=o.y,h=o.options||{},g=o.mutex||{},_=g.pdfEscape,p=g.activeFontKey,P=g.fonts,O=p,N="",R=0,Q="",Z=P[O].encoding;if(P[O].encoding!=="Identity-H")return{text:a,x:l,y:c,options:h,mutex:g};for(Q=a,O=p,Array.isArray(a)&&(Q=a[0]),R=0;R<Q.length;R+=1)P[O].metadata.hasOwnProperty("cmap")&&(s=P[O].metadata.cmap.unicode.codeMap[Q[R].charCodeAt(0)]),s||Q[R].charCodeAt(0)<256&&P[O].metadata.hasOwnProperty("Unicode")?N+=Q[R]:N+="";var X="";return parseInt(O.slice(1))<14||Z==="WinAnsiEncoding"?X=_(N,O).split("").map(function(he){return he.charCodeAt(0).toString(16)}).join(""):Z==="Identity-H"&&(X=e(N,P[O])),g.isHex=!0,{text:X,x:l,y:c,options:h,mutex:g}};t.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([r(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(r(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=r(Object.assign({},l,{text:s})).text}])})(vt),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(vt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,o,s,a,l,c,h,g=t,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},O={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],R=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Q=!1,Z=0;this.__bidiEngine__={};var X=function(b){var C=b.charCodeAt(),x=C>>8,te=O[x];return te!==void 0?g[256*te+(255&C)]:x===252||x===253?"AL":R.test(x)?"L":x===8?"R":"N"},he=function(b){for(var C,x=0;x<b.length;x++){if((C=X(b.charAt(x)))==="L")return!1;if(C==="R")return!0}return!1},_e=function(b,C,x,te){var we,Ie,Ae,pe,Ce=C[te];switch(Ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Q=!1;break;case"N":case"AN":break;case"EN":Q&&(Ce="AN");break;case"AL":Q=!0,Ce="R";break;case"WS":case"BN":Ce="N";break;case"CS":te<1||te+1>=C.length||(we=x[te-1])!=="EN"&&we!=="AN"||(Ie=C[te+1])!=="EN"&&Ie!=="AN"?Ce="N":Q&&(Ie="AN"),Ce=Ie===we?Ie:"N";break;case"ES":Ce=(we=te>0?x[te-1]:"B")==="EN"&&te+1<C.length&&C[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&x[te-1]==="EN"){Ce="EN";break}if(Q){Ce="N";break}for(Ae=te+1,pe=C.length;Ae<pe&&C[Ae]==="ET";)Ae++;Ce=Ae<pe&&C[Ae]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(pe=C.length,Ae=te+1;Ae<pe&&C[Ae]==="NSM";)Ae++;if(Ae<pe){var He=b[te],Le=He>=1425&&He<=2303||He===64286;if(we=C[Ae],Le&&(we==="R"||we==="AL")){Ce="R";break}}}Ce=te<1||(we=C[te-1])==="B"?"N":x[te-1];break;case"B":Q=!1,r=!0,Ce=Z;break;case"S":o=!0,Ce="N"}return Ce},H=function(b,C,x){var te=b.split("");return x&&T(te,x,{hiLevel:Z}),te.reverse(),C&&C.reverse(),te.join("")},T=function(b,C,x){var te,we,Ie,Ae,pe,Ce=-1,He=b.length,Le=0,L=[],J=Z?p:_,ee=[];for(Q=!1,r=!1,o=!1,we=0;we<He;we++)ee[we]=X(b[we]);for(Ie=0;Ie<He;Ie++){if(pe=Le,L[Ie]=_e(b,ee,L,Ie),te=240&(Le=J[pe][P[L[Ie]]]),Le&=15,C[Ie]=Ae=J[Le][5],te>0)if(te===16){for(we=Ce;we<Ie;we++)C[we]=1;Ce=-1}else Ce=-1;if(J[Le][6])Ce===-1&&(Ce=Ie);else if(Ce>-1){for(we=Ce;we<Ie;we++)C[we]=Ae;Ce=-1}ee[Ie]==="B"&&(C[Ie]=0),x.hiLevel|=Ae}o&&(function(re,ce,fe){for(var Se=0;Se<fe;Se++)if(re[Se]==="S"){ce[Se]=Z;for(var Ee=Se-1;Ee>=0&&re[Ee]==="WS";Ee--)ce[Ee]=Z}})(ee,C,He)},I=function(b,C,x,te,we){if(!(we.hiLevel<b)){if(b===1&&Z===1&&!r)return C.reverse(),void(x&&x.reverse());for(var Ie,Ae,pe,Ce,He=C.length,Le=0;Le<He;){if(te[Le]>=b){for(pe=Le+1;pe<He&&te[pe]>=b;)pe++;for(Ce=Le,Ae=pe-1;Ce<Ae;Ce++,Ae--)Ie=C[Ce],C[Ce]=C[Ae],C[Ae]=Ie,x&&(Ie=x[Ce],x[Ce]=x[Ae],x[Ae]=Ie);Le=pe}Le++}}},V=function(b,C,x){var te=b.split(""),we={hiLevel:Z};return x||(x=[]),T(te,x,we),(function(Ie,Ae,pe){if(pe.hiLevel!==0&&h)for(var Ce,He=0;He<Ie.length;He++)Ae[He]===1&&(Ce=N.indexOf(Ie[He]))>=0&&(Ie[He]=N[Ce+1])})(te,x,we),I(2,te,C,x,we),I(1,te,C,x,we),te.join("")};return this.__bidiEngine__.doBidiReorder=function(b,C,x){if((function(we,Ie){if(Ie)for(var Ae=0;Ae<we.length;Ae++)Ie[Ae]=Ae;a===void 0&&(a=he(we)),c===void 0&&(c=he(we))})(b,C),s||!l||c)if(s&&l&&a^c)Z=a?1:0,b=H(b,C,x);else if(!s&&l&&c)Z=a?1:0,b=V(b,C,x),b=H(b,C);else if(!s||a||l||c){if(s&&!l&&a^c)b=H(b,C),a?(Z=0,b=V(b,C,x)):(Z=1,b=V(b,C,x),b=H(b,C));else if(s&&a&&!l&&c)Z=1,b=V(b,C,x),b=H(b,C);else if(!s&&!l&&a^c){var te=h;a?(Z=1,b=V(b,C,x),Z=0,h=!1,b=V(b,C,x),h=te):(Z=0,b=V(b,C,x),b=H(b,C),Z=1,h=!1,b=V(b,C,x),h=te,b=H(b,C))}}else Z=0,b=V(b,C,x);else Z=a?1:0,b=V(b,C,x);return b},this.__bidiEngine__.setOptions=function(b){b&&(s=b.isInputVisual,l=b.isOutputVisual,a=b.isInputRtl,c=b.isOutputRtl,h=b.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(s=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?s.push([e.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):s.push([e.doBidiReorder(r[a])]);i.text=s}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])})(vt),vt.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Gc(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new C$(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new h$(this.contents),this.head=new p$(this),this.name=new _$(this),this.cmap=new G3(this),this.toUnicode={},this.hhea=new m$(this),this.maxp=new w$(this),this.hmtx=new b$(this),this.post=new v$(this),this.os2=new g$(this),this.loca=new I$(this),this.glyf=new S$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,o,s,a;for(s=0,o=0,a=(t=""+t).length;0<=a?o<a:o>a;o=0<=a?++o:--o)r=t.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return s*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n})();var sa,Gc=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,o,s,a,l;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*o+65536*s+256*a+l},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,r,o;for(o=[],i=0,r=t.length;i<r;i++)e=t[i],o.push(this.writeByte(e));return o},n})(),h$=(function(){var n;function t(e){var i,r,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,o,s,a,l,c,h,g,_,p,P,O;for(O in p=Object.keys(e).length,l=Math.log(2),g=16*Math.floor(Math.log(p)/l),s=Math.floor(g/l),h=16*p-g,(r=new Gc).writeInt(this.scalarType),r.writeShort(p),r.writeShort(g),r.writeShort(s),r.writeShort(h),o=16*p,c=r.pos+o,a=null,P=[],e)for(_=e[O],r.writeString(O),r.writeInt(n(_)),r.writeInt(c),r.writeInt(_.length),P=P.concat(_),O==="head"&&(a=c),c+=_.length;c%4;)P.push(0),c++;return r.write(P),i=2981146554-n(r.data),r.pos=a+8,r.writeUInt32(i),r.data},n=function(e){var i,r,o,s;for(e=K3.call(e);e.length%4;)e.push(0);for(o=new Gc(e),r=0,i=0,s=e.length;i<s;i=i+=4)r+=o.readUInt32();return 4294967295&r},t})(),f$={}.hasOwnProperty,Wa=function(n,t){for(var e in t)f$.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};sa=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var p$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wa(n,sa),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Gc).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),M3=(function(){function n(t,e){var i,r,o,s,a,l,c,h,g,_,p,P,O,N,R,Q,Z;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),_=p/2,t.pos+=6,o=(function(){var X,he;for(he=[],l=X=0;0<=_?X<_:X>_;l=0<=_?++X:--X)he.push(t.readUInt16());return he})(),t.pos+=2,O=(function(){var X,he;for(he=[],l=X=0;0<=_?X<_:X>_;l=0<=_?++X:--X)he.push(t.readUInt16());return he})(),c=(function(){var X,he;for(he=[],l=X=0;0<=_?X<_:X>_;l=0<=_?++X:--X)he.push(t.readUInt16());return he})(),h=(function(){var X,he;for(he=[],l=X=0;0<=_?X<_:X>_;l=0<=_?++X:--X)he.push(t.readUInt16());return he})(),r=(this.length-t.pos+this.offset)/2,a=(function(){var X,he;for(he=[],l=X=0;0<=r?X<r:X>r;l=0<=r?++X:--X)he.push(t.readUInt16());return he})(),l=R=0,Z=o.length;R<Z;l=++R)for(N=o[l],i=Q=P=O[l];P<=N?Q<=N:Q>=N;i=P<=N?++Q:--Q)h[l]===0?s=i+c[l]:(s=a[h[l]/2+(i-P)-(_-l)]||0)!==0&&(s+=c[l]),this.codeMap[i]=65535&s}t.pos=g}return n.encode=function(t,e){var i,r,o,s,a,l,c,h,g,_,p,P,O,N,R,Q,Z,X,he,_e,H,T,I,V,b,C,x,te,we,Ie,Ae,pe,Ce,He,Le,L,J,ee,re,ce,fe,Se,Ee,Pe,Ue,Je;switch(te=new Gc,s=Object.keys(t).sort(function(Xe,pt){return Xe-pt}),e){case"macroman":for(O=0,N=(function(){var Xe=[];for(P=0;P<256;++P)Xe.push(0);return Xe})(),Q={0:0},o={},we=0,Ce=s.length;we<Ce;we++)Q[Ee=t[r=s[we]]]==null&&(Q[Ee]=++O),o[r]={old:t[r],new:Q[t[r]]},N[r]=Q[t[r]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(N),{charMap:o,subtable:te.data,maxGlyphID:O+1};case"unicode":for(C=[],g=[],Z=0,Q={},i={},R=c=null,Ie=0,He=s.length;Ie<He;Ie++)Q[he=t[r=s[Ie]]]==null&&(Q[he]=++Z),i[r]={old:he,new:Q[he]},a=Q[he]-r,R!=null&&a===c||(R&&g.push(R),C.push(r),c=a),R=r;for(R&&g.push(R),g.push(65535),C.push(65535),V=2*(I=C.length),T=2*Math.pow(Math.log(I)/Math.LN2,2),_=Math.log(T/2)/Math.LN2,H=2*I-T,l=[],_e=[],p=[],P=Ae=0,Le=C.length;Ae<Le;P=++Ae){if(b=C[P],h=g[P],b===65535){l.push(0),_e.push(0);break}if(b-(x=i[b].new)>=32768)for(l.push(0),_e.push(2*(p.length+I-P)),r=pe=b;b<=h?pe<=h:pe>=h;r=b<=h?++pe:--pe)p.push(i[r].new);else l.push(x-b),_e.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*I+2*p.length),te.writeUInt16(0),te.writeUInt16(V),te.writeUInt16(T),te.writeUInt16(_),te.writeUInt16(H),fe=0,L=g.length;fe<L;fe++)r=g[fe],te.writeUInt16(r);for(te.writeUInt16(0),Se=0,J=C.length;Se<J;Se++)r=C[Se],te.writeUInt16(r);for(Pe=0,ee=l.length;Pe<ee;Pe++)a=l[Pe],te.writeUInt16(a);for(Ue=0,re=_e.length;Ue<re;Ue++)X=_e[Ue],te.writeUInt16(X);for(Je=0,ce=p.length;Je<ce;Je++)O=p[Je],te.writeUInt16(O);return{charMap:i,subtable:te.data,maxGlyphID:Z+1}}},n})(),G3=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wa(n,sa),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,i,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)e=new M3(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var i,r;return e==null&&(e="macroman"),i=M3.encode(t,e),(r=new Gc).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},n})(),m$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wa(n,sa),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),g$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wa(n,sa),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,i;for(i=[],e=0;e<10;++e)i.push(t.readByte());return i})(),this.charRange=(function(){var e,i;for(i=[],e=0;e<4;++e)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,i;for(i=[],e=0;e<2;e=++e)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),v$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wa(n,sa),n.prototype.tag="post",n.prototype.parse=function(t){var e,i,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(t.readUInt32());return l}).call(this)}},n})(),y$=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},_$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wa(n,sa),n.prototype.tag="name",n.prototype.parse=function(t){var e,i,r,o,s,a,l,c,h,g,_;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),i=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},o=h=0,g=i.length;h<g;o=++h)r=i[o],t.pos=r.offset,c=t.readString(r.length),s=new y$(c,r),l[_=r.nameID]==null&&(l[_]=[]),l[r.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},n})(),w$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wa(n,sa),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),b$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wa(n,sa),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,i,r,o,s,a,l;for(t.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:e>a;e=0<=a?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,h;for(h=[],e=c=0;0<=r?c<r:c>r;e=0<=r?++c:--c)h.push(t.readInt16());return h})(),this.widths=(function(){var c,h,g,_;for(_=[],c=0,h=(g=this.metrics).length;c<h;c++)o=g[c],_.push(o.advance);return _}).call(this),i=this.widths[this.widths.length-1],l=[],e=s=0;0<=r?s<r:s>r;e=0<=r?++s:--s)l.push(this.widths.push(i));return l},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),K3=[].slice,S$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wa(n,sa),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,i,r,o,s,a,l,c,h,g;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,i=o.indexOf(t),(r=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+i,s=(a=new Gc(e.read(r))).readShort(),c=a.readShort(),g=a.readShort(),l=a.readShort(),h=a.readShort(),this.cache[t]=s===-1?new A$(a,c,g,l,h):new E$(a,s,c,g,l,h),this.cache[t]))},n.prototype.encode=function(t,e,i){var r,o,s,a,l;for(s=[],o=[],a=0,l=e.length;a<l;a++)r=t[e[a]],o.push(s.length),r&&(s=s.concat(r.encode(i)));return o.push(s.length),{table:s,offsets:o}},n})(),E$=(function(){function n(t,e,i,r,o,s){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),A$=(function(){function n(t,e,i,r,o){var s,a;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new Gc(K3.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),I$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wa(n,sa),n.prototype.tag="loca",n.prototype.parse=function(t){var e,i;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var r,o;for(o=[],i=0,r=this.length;i<r;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var r,o;for(o=[],i=0,r=this.length;i<r;i+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var i=new Uint32Array(this.offsets.length),r=0,o=0,s=0;s<i.length;++s)if(i[s]=r,o<e.length&&e[o]==s){++o,i[s]=r;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(r+=l)}for(var c=new Array(4*i.length),h=0;h<i.length;++h)c[4*h+3]=255&i[h],c[4*h+2]=(65280&i[h])>>8,c[4*h+1]=(16711680&i[h])>>16,c[4*h]=(4278190080&i[h])>>24;return c},n})(),C$=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,r,o;for(e in r=this.font.cmap.tables[0].codeMap,t={},o=this.subset)i=o[e],t[e]=r[i];return t},n.prototype.glyphsFor=function(t){var e,i,r,o,s,a,l;for(r={},s=0,a=t.length;s<a;s++)r[o=t[s]]=this.font.glyf.glyphFor(o);for(o in e=[],r)(i=r[o])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in l=this.glyphsFor(e))i=l[o],r[o]=i;return r},n.prototype.encode=function(t,e){var i,r,o,s,a,l,c,h,g,_,p,P,O,N,R;for(r in i=G3.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},R=i.charMap)p[(l=R[r]).old]=l.new;for(P in _=i.maxGlyphID,s)P in p||(p[P]=_++);return h=(function(Q){var Z,X;for(Z in X={},Q)X[Q[Z]]=Z;return X})(p),g=Object.keys(h).sort(function(Q,Z){return Q-Z}),O=(function(){var Q,Z,X;for(X=[],Q=0,Z=g.length;Q<Z;Q++)a=g[Q],X.push(h[a]);return X})(),o=this.font.glyf.encode(s,O,p),c=this.font.loca.encode(o.offsets,O),N={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},n})();vt.API.PDFObject=(function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,r,o,s;if(Array.isArray(e))return"["+(function(){var a,l,c;for(c=[],a=0,l=e.length;a<l;a++)i=e[a],c.push(t.convert(i));return c})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in o=["<<"],e)s=e[r],o.push("/"+r+" "+t.convert(s));return o.push(">>"),o.join(`
`)}return""+e},t})();function eR(n,t,e,i,r){i=i||{};var o=1.15,s=r.internal.scaleFactor,a=r.internal.getFontSize()/s,l=r.getLineHeightFactor?r.getLineHeightFactor():o,c=a*l,h=/\r\n|\r|\n/g,g="",_=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(g=typeof n=="string"?n.split(h):n,_=g.length||1),e+=a*(2-o),i.valign==="middle"?e-=_/2*c:i.valign==="bottom"&&(e-=_*c),i.halign==="center"||i.halign==="right"){var p=a;if(i.halign==="center"&&(p*=.5),g&&_>=1){for(var P=0;P<g.length;P++)r.text(g[P],t-r.getStringUnitWidth(g[P])*p,e),e+=c;return r}t-=r.getStringUnitWidth(n)*p}return i.halign==="justify"?r.text(n,t,e,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,t,e),r}var Y3={},Hh=(function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:Y3=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var i,r,o;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),a=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){a=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var h=n.unifyColor(t.fillColor);h&&(i=this.jsPDFDocument).setFillColor.apply(i,h),h=n.unifyColor(t.textColor),h&&(r=this.jsPDFDocument).setTextColor.apply(r,h),h=n.unifyColor(t.lineColor),h&&(o=this.jsPDFDocument).setDrawColor.apply(o,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,i){return this.jsPDFDocument.splitTextToSize(t,e,i)},n.prototype.rect=function(t,e,i,r,o){return this.jsPDFDocument.rect(t,e,i,r,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Y3||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),b5=function(n,t){return b5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},b5(n,t)};function tR(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");b5(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var nR=(function(n){tR(t,n);function t(e){var i=n.call(this)||this;return i._element=e,i}return t})(Array);function x$(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function T$(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function p1(n,t,e){e.applyStyles(t,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(o){return e.getTextWidth(o)}).reduce(function(o,s){return Math.max(o,s)},0);return r}function iR(n,t,e,i){var r=t.settings.tableLineWidth,o=t.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:o});var s=rR(r,!1);s&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),i.y-e.y,s)}function rR(n,t){var e=n>0,i=t||t===0;return e&&i?"DF":e?"S":i?"F":null}function g1(n,t){var e,i,r,o;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(i=n.top)!==null&&i!==void 0?i:t,right:(r=n.right)!==null&&r!==void 0?r:t,bottom:(o=n.bottom)!==null&&o!==void 0?o:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function oR(n,t){var e=g1(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function D$(n,t,e,i,r){var o={},s=1.3333333333333333,a=m5(t,function(Z){return r.getComputedStyle(Z).backgroundColor});a!=null&&(o.fillColor=a);var l=m5(t,function(Z){return r.getComputedStyle(Z).color});l!=null&&(o.textColor=l);var c=k$(i,e);c&&(o.cellPadding=c);var h="borderTopColor",g=s*e,_=i.borderTopWidth;if(i.borderBottomWidth===_&&i.borderRightWidth===_&&i.borderLeftWidth===_){var p=(parseFloat(_)||0)/g;p&&(o.lineWidth=p)}else o.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/g,right:(parseFloat(i.borderRightWidth)||0)/g,bottom:(parseFloat(i.borderBottomWidth)||0)/g,left:(parseFloat(i.borderLeftWidth)||0)/g},o.lineWidth.top||(o.lineWidth.right?h="borderRightColor":o.lineWidth.bottom?h="borderBottomColor":o.lineWidth.left&&(h="borderLeftColor"));var P=m5(t,function(Z){return r.getComputedStyle(Z)[h]});P!=null&&(o.lineColor=P);var O=["left","right","center","justify"];O.indexOf(i.textAlign)!==-1&&(o.halign=i.textAlign),O=["middle","bottom","top"],O.indexOf(i.verticalAlign)!==-1&&(o.valign=i.verticalAlign);var N=parseInt(i.fontSize||"");isNaN(N)||(o.fontSize=N/s);var R=P$(i);R&&(o.fontStyle=R);var Q=(i.fontFamily||"").toLowerCase();return n.indexOf(Q)!==-1&&(o.font=Q),o}function P$(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function m5(n,t){var e=sR(n,t);if(!e)return null;var i=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],o=parseInt(i[4]);return o===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function sR(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:sR(n.parentElement,t):e}function k$(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/t),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,o=e.map(function(a){return parseInt(a||"0")/i}),s=g1(o,0);return r>s.top&&(s.top=r),r>s.bottom&&(s.bottom=r),s}function aR(n,t,e,i,r){var o,s;i===void 0&&(i=!1),r===void 0&&(r=!1);var a;typeof t=="string"?a=e.document.querySelector(t):a=t;var l=Object.keys(n.getFontList()),c=n.scaleFactor(),h=[],g=[],_=[];if(!a)return console.error("Html table could not be found with input: ",t),{head:h,body:g,foot:_};for(var p=0;p<a.rows.length;p++){var P=a.rows[p],O=(s=(o=P?.parentElement)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase(),N=R$(l,c,e,P,i,r);N&&(O==="thead"?h.push(N):O==="tfoot"?_.push(N):g.push(N))}return{head:h,body:g,foot:_}}function R$(n,t,e,i,r,o){for(var s=new nR(i),a=0;a<i.cells.length;a++){var l=i.cells[a],c=e.getComputedStyle(l);if(r||c.display!=="none"){var h=void 0;o&&(h=D$(n,l,t,c,e)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:h,_element:l,content:N$(l)})}}var g=e.getComputedStyle(i);if(s.length>0&&(r||g.display!=="none"))return s}function N$(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function O$(n,t,e){for(var i=0,r=[n,t,e];i<r.length;i++){var o=r[i];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Fl(n,t,e,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o}function M$(n,t){var e=new Hh(n),i=e.getDocumentOptions(),r=e.getGlobalOptions();O$(r,i,t);var o=Fl({},r,i,t),s;typeof window<"u"&&(s=window);var a=L$(r,i,t),l=F$(r,i,t),c=V$(e,o),h=U$(e,o,s);return{id:t.tableId,content:h,hooks:l,styles:a,settings:c}}function L$(n,t,e){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(l){if(l==="columnStyles"){var c=n[l],h=t[l],g=e[l];i.columnStyles=Fl({},c,h,g)}else{var _=[n,t,e],p=_.map(function(P){return P[l]||{}});i[l]=Fl({},p[0],p[1],p[2])}},o=0,s=Object.keys(i);o<s.length;o++){var a=s[o];r(a)}return i}function F$(n,t,e){for(var i=[n,t,e],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,s=i;o<s.length;o++){var a=s[o];a.didParseCell&&r.didParseCell.push(a.didParseCell),a.willDrawCell&&r.willDrawCell.push(a.willDrawCell),a.didDrawCell&&r.didDrawCell.push(a.didDrawCell),a.willDrawPage&&r.willDrawPage.push(a.willDrawPage),a.didDrawPage&&r.didDrawPage.push(a.didDrawPage)}return r}function V$(n,t){var e,i,r,o,s,a,l,c,h,g,_,p,P=g1(t.margin,40/n.scaleFactor()),O=(e=j$(n,t.startY))!==null&&e!==void 0?e:P.top,N;t.showFoot===!0?N="everyPage":t.showFoot===!1?N="never":N=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var R;t.showHead===!0?R="everyPage":t.showHead===!1?R="never":R=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var Q=(o=t.useCss)!==null&&o!==void 0?o:!1,Z=t.theme||(Q?"plain":"striped"),X=!!t.horizontalPageBreak,he=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(a=t.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:Q,theme:Z,startY:O,margin:P,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:R,showFoot:N,tableLineWidth:(g=t.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(_=t.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:X,horizontalPageBreakRepeat:he,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function j$(n,t){var e=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),o=!1;if(e&&e.startPageNumber){var s=e.startPageNumber+e.pageNumber-1;o=s===r}return typeof t=="number"?t:(t==null||t===!1)&&o&&e?.finalY!=null?e.finalY+20/i:null}function U$(n,t,e){var i=t.head||[],r=t.body||[],o=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(e){var a=aR(n,t.html,e,s,t.useCss)||{};i=a.head||i,r=a.body||i,o=a.foot||i}else console.error("Cannot parse html in non browser environment")}var l=t.columns||B$(i,r,o);return{columns:l,head:i,body:r,foot:o}}function B$(n,t,e){var i=n[0]||t[0]||e[0]||[],r=[];return Object.keys(i).filter(function(o){return o!=="_element"}).forEach(function(o){var s=1,a;Array.isArray(i)?a=i[parseInt(o)]:a=i[o],typeof a=="object"&&!Array.isArray(a)&&(s=a?.colSpan||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(i)?c=r.length:c=o+(l>0?"_".concat(l):"");var h={dataKey:c};r.push(h)}}),r}var S5=(function(){function n(t,e,i){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=i,this.doc=t.getDocument()}return n})(),z$=(function(n){tR(t,n);function t(e,i,r,o,s,a){var l=n.call(this,e,i,a)||this;return l.cell=r,l.row=o,l.column=s,l.section=o.section,l}return t})(S5),$$=(function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,i,r,o,s){for(var a=0,l=e;a<l.length;a++){var c=l[a],h=new z$(t,this,i,r,o,s),g=c(h)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],g)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var o=r[i];o(new S5(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var o=r[i];o(new S5(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(r,o){return r+o.wrappedWidth},0);return e}else{var i=this.settings.margin;return t-i.left-i.right}},n})(),lR=(function(){function n(t,e,i,r,o){o===void 0&&(o=!1),this.height=0,this.raw=t,t instanceof nR&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=i,this.cells=r,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(i,r){var o;return Math.max(i,((o=e.cells[r.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(i){var r=e.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var i=this;return t.reduce(function(r,o){var s=i.cells[o.index];if(!s)return 0;var a=e.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+a;return c>r?c:r},0)},n})(),cR=(function(){function n(t,e,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=i,this.raw=t;var o=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,o=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=o!=null?""+o:"",a=/\r\n|\r|\n/g;this.text=s.split(a)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*e,o=i*r+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=g1(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n})(),q$=(function(){function n(t,e,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=i}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,i=0,r=t.allRows();i<r.length;i++){var o=r[i],s=o.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(e=Math.max(e,s.styles.cellWidth))}return e},n})();function H$(n,t){W$(n,t);var e=[],i=0;t.columns.forEach(function(o){var s=o.getMaxCustomCellWidth(t);s?o.width=s:(o.width=o.wrappedWidth,e.push(o)),i+=o.width});var r=t.getWidth(n.pageSize().width)-i;r&&(r=E5(e,r,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),r&&(r=E5(e,r,function(o){return o.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),K$(t),Y$(t,n),G$(t)}function W$(n,t){var e=n.scaleFactor(),i=t.settings.horizontalPageBreak,r=oR(n,t);t.allRows().forEach(function(o){for(var s=0,a=t.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c){var h=t.hooks.didParseCell;t.callCellHooks(n,h,c,o,l,null);var g=c.padding("horizontal");c.contentWidth=p1(c.text,c.styles,n)+g;var _=p1(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,n);if(c.minReadableWidth=_+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||i===!0)c.contentWidth>r?(c.minWidth=r,c.wrappedWidth=r):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/e;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(o){for(var s=0,a=t.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var h=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},g=h.cellWidth||h.minCellWidth;g&&typeof g=="number"&&(l.minWidth=g,l.wrappedWidth=g)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function E5(n,t,e){for(var i=t,r=n.reduce(function(p,P){return p+P.wrappedWidth},0),o=0;o<n.length;o++){var s=n[o],a=s.wrappedWidth/r,l=i*a,c=s.width+l,h=e(s),g=c<h?h:c;t-=g-s.width,s.width=g}if(t=Math.round(t*1e10)/1e10,t){var _=n.filter(function(p){return t<0?p.width>e(p):!0});_.length&&(t=E5(_,t,e))}return t}function G$(n){for(var t={},e=1,i=n.allRows(),r=0;r<i.length;r++)for(var o=i[r],s=0,a=n.columns;s<a.length;s++){var l=a[s],c=t[l.index];if(e>1)e--,delete o.cells[l.index];else if(c)c.cell.height+=o.height,e=c.cell.colSpan,delete o.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var h=o.cells[l.index];if(!h)continue;if(h.height=o.height,h.rowSpan>1){var g=i.length-r,_=h.rowSpan>g?g:h.rowSpan;t[l.index]={cell:h,left:_,row:o}}}}}function K$(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var i=t[e],r=null,o=0,s=0,a=0;a<n.columns.length;a++){var l=n.columns[a];if(s-=1,s>1&&n.columns[a+1])o+=l.width,delete i.cells[l.index];else if(r){var c=r;delete i.cells[l.index],r=null,c.width=l.width+o}else{var c=i.cells[l.index];if(!c)continue;if(s=c.colSpan,o=0,c.colSpan>1){r=c,o+=l.width;continue}c.width=l.width+o}}}function Y$(n,t){for(var e={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var o=r[i],s=0,a=n.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c){t.applyStyles(c.styles,!0);var h=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,h+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=X3(c.text,h,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=X3(c.text,h,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var g=c.styles.overflow(c.text,h);typeof g=="string"?c.text=[g]:c.text=g}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var _=c.contentHeight/c.rowSpan;c.rowSpan>1&&e.count*e.height<_*c.rowSpan?e={height:_,count:c.rowSpan}:e&&e.count>0&&e.height>_&&(_=e.height),_>o.height&&(o.height=_)}}e.count--}}function X3(n,t,e,i,r){return n.map(function(o){return X$(o,t,e,i,r)})}function X$(n,t,e,i,r){var o=1e4*i.scaleFactor();if(t=Math.ceil(t*o)/o,t>=p1(n,e,i))return n;for(;t<p1(n+r,e,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function J$(n,t){var e=new Hh(n),i=Q$(t,e.scaleFactor()),r=new $$(t,i);return H$(e,r),e.applyStyles(e.userStyles),r}function Q$(n,t){var e=n.content,i=eq(e.columns);if(e.head.length===0){var r=J3(i,"head");r&&e.head.push(r)}if(e.foot.length===0){var r=J3(i,"foot");r&&e.foot.push(r)}var o=n.settings.theme,s=n.styles;return{columns:i,head:g5("head",e.head,i,s,o,t),body:g5("body",e.body,i,s,o,t),foot:g5("foot",e.foot,i,s,o,t)}}function g5(n,t,e,i,r,o){var s={},a=t.map(function(l,c){for(var h=0,g={},_=0,p=0,P=0,O=e;P<O.length;P++){var N=O[P];if(s[N.index]==null||s[N.index].left===0)if(p===0){var R=void 0;Array.isArray(l)?R=l[N.index-_-h]:R=l[N.dataKey];var Q={};typeof R=="object"&&!Array.isArray(R)&&(Q=R?.styles||{});var Z=tq(n,N,c,r,i,o,Q),X=new cR(R,Z,n);g[N.dataKey]=X,g[N.index]=X,p=X.colSpan-1,s[N.index]={left:X.rowSpan-1,times:p}}else p--,_++;else s[N.index].left--,p=s[N.index].times,h++}return new lR(l,c,n,g)});return a}function J3(n,t){var e={};return n.forEach(function(i){if(i.raw!=null){var r=Z$(t,i.raw);r!=null&&(e[i.dataKey]=r)}}),Object.keys(e).length>0?e:null}function Z$(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function eq(n){return n.map(function(t,e){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:e:r=e,new q$(r,t,e)})}function tq(n,t,e,i,r,o,s){var a=T$(i),l;n==="head"?l=r.headStyles:n==="body"?l=r.bodyStyles:n==="foot"&&(l=r.footStyles);var c=Fl({},a.table,a[n],r.styles,l),h=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},g=n==="body"?h:{},_=n==="body"&&e%2===0?Fl({},a.alternateRow,r.alternateRowStyles):{},p=x$(o),P=Fl({},p,c,_,g);return Fl(P,s)}function nq(n,t,e){var i;e===void 0&&(e={});var r=oR(n,t),o=new Map,s=[],a=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(_){var p=t.columns.find(function(P){return P.dataKey===_||P.index===_});p&&!o.has(p.index)&&(o.set(p.index,!0),s.push(p.index),a.push(t.columns[p.index]),r-=p.wrappedWidth)});for(var c=!0,h=(i=e?.start)!==null&&i!==void 0?i:0;h<t.columns.length;){if(o.has(h)){h++;continue}var g=t.columns[h].wrappedWidth;if(c||r>=g)c=!1,s.push(h),a.push(t.columns[h]),r-=g;else break;h++}return{colIndexes:s,columns:a,lastIndex:h-1}}function iq(n,t){for(var e=[],i=0;i<t.columns.length;i++){var r=nq(n,t,{start:i});r.columns.length&&(e.push(r),i=r.lastIndex)}return e}function rq(n,t){var e=t.settings,i=e.startY,r=e.margin,o={x:r.left,y:i},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),a=i+r.bottom+s;if(e.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(_,p){return _+p.height},0);a+=c}var h=new Hh(n);(e.pageBreak==="always"||e.startY!=null&&a>h.pageSize().height)&&(dR(h),o.y=r.top),t.callWillDrawPageHooks(h,o);var g=Fl({},o);t.startPageNumber=h.pageNumber(),e.horizontalPageBreak?oq(h,t,g,o):(h.applyStyles(h.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(_){return Vl(h,t,_,o,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(_,p){var P=p===t.body.length-1;m1(h,t,_,P,g,o,t.columns)}),h.applyStyles(h.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(_){return Vl(h,t,_,o,t.columns)})),iR(h,t,g,o),t.callEndPageHooks(h,o),t.finalY=o.y,n.lastAutoTable=t,h.applyStyles(h.userStyles)}function oq(n,t,e,i){var r=iq(n,t),o=t.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(c,h){n.applyStyles(n.userStyles),h>0?dm(n,t,e,i,c.columns,!0):Q3(n,t,i,c.columns),sq(n,t,e,i,c.columns),v5(n,t,i,c.columns)});else for(var s=-1,a=r[0],l=function(){var c=s;if(a){n.applyStyles(n.userStyles);var h=a.columns;s>=0?dm(n,t,e,i,h,!0):Q3(n,t,i,h),c=Z3(n,t,s+1,i,h),v5(n,t,i,h)}var g=c-s;r.slice(1).forEach(function(_){n.applyStyles(n.userStyles),dm(n,t,e,i,_.columns,!0),Z3(n,t,s+1,i,_.columns,g),v5(n,t,i,_.columns)}),s=c};s<t.body.length-1;)l()}function Q3(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(o){return Vl(n,t,o,e,i)})}function sq(n,t,e,i,r){n.applyStyles(n.userStyles),t.body.forEach(function(o,s){var a=s===t.body.length-1;m1(n,t,o,a,e,i,r)})}function Z3(n,t,e,i,r,o){n.applyStyles(n.userStyles),o=o??t.body.length;var s=Math.min(e+o,t.body.length),a=-1;return t.body.slice(e,s).forEach(function(l,c){var h=e+c===t.body.length-1,g=uR(n,t,h,i);l.canEntireRowFit(g,r)&&(Vl(n,t,l,i,r),a=e+c)}),a}function v5(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(o){return Vl(n,t,o,e,i)})}function aq(n,t,e){var i=e.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),o=Math.floor((t-r)/i);return Math.max(0,o)}function lq(n,t,e,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var o=0,s=0,a=e.columns;s<a.length;s++){var l=a[s],c=n.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var h=new cR(c.raw,c.styles,c.section);h=Fl(h,c),h.text=[];var g=aq(c,t,i);c.text.length>g&&(h.text=c.text.splice(g,c.text.length));var _=i.scaleFactor(),p=i.getLineHeightFactor();c.contentHeight=c.getContentHeight(_,p),c.contentHeight>=t&&(c.contentHeight=t,h.styles.minCellHeight-=t),c.contentHeight>n.height&&(n.height=c.contentHeight),h.contentHeight=h.getContentHeight(_,p),h.contentHeight>o&&(o=h.contentHeight),r[l.index]=h}}var P=new lR(n.raw,-1,n.section,r,!0);P.height=o;for(var O=0,N=e.columns;O<N.length;O++){var l=N[O],h=P.cells[l.index];h&&(h.height=P.height);var c=n.cells[l.index];c&&(c.height=n.height)}return P}function cq(n,t,e,i){var r=n.pageSize().height,o=i.settings.margin,s=o.top+o.bottom,a=r-s;t.section==="body"&&(a-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var l=t.getMinimumRowHeight(i.columns,n),c=l<e;if(l>a)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var h=t.hasRowSpan(i.columns),g=t.getMaxCellHeight(i.columns)>a;return g?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||i.settings.rowPageBreak==="avoid")}function m1(n,t,e,i,r,o,s){var a=uR(n,t,i,o);if(e.canEntireRowFit(a,s))Vl(n,t,e,o,s);else if(cq(n,e,a,t)){var l=lq(e,a,t,n);Vl(n,t,e,o,s),dm(n,t,r,o,s),m1(n,t,l,i,r,o,s)}else dm(n,t,r,o,s),m1(n,t,e,i,r,o,s)}function Vl(n,t,e,i,r){i.x=t.settings.margin.left;for(var o=0,s=r;o<s.length;o++){var a=s[o],l=e.cells[a.index];if(!l){i.x+=a.width;continue}n.applyStyles(l.styles),l.x=i.x,l.y=i.y;var c=t.callCellHooks(n,t.hooks.willDrawCell,l,e,a,i);if(c===!1){i.x+=a.width;continue}uq(n,l,i);var h=l.getTextPos();eR(l.text,h.x,h.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,l,e,a,i),i.x+=a.width}i.y+=e.height}function uq(n,t,e){var i=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=rR(i.lineWidth,i.fillColor);r&&n.rect(t.x,e.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),dq(n,t,e,i.lineWidth))}function dq(n,t,e,i){var r,o,s,a;i.top&&(r=e.x,o=e.y,s=e.x+t.width,a=e.y,i.right&&(s+=.5*i.right),i.left&&(r-=.5*i.left),l(i.top,r,o,s,a)),i.bottom&&(r=e.x,o=e.y+t.height,s=e.x+t.width,a=e.y+t.height,i.right&&(s+=.5*i.right),i.left&&(r-=.5*i.left),l(i.bottom,r,o,s,a)),i.left&&(r=e.x,o=e.y,s=e.x,a=e.y+t.height,i.top&&(o-=.5*i.top),i.bottom&&(a+=.5*i.bottom),l(i.left,r,o,s,a)),i.right&&(r=e.x+t.width,o=e.y,s=e.x+t.width,a=e.y+t.height,i.top&&(o-=.5*i.top),i.bottom&&(a+=.5*i.bottom),l(i.right,r,o,s,a));function l(c,h,g,_,p){n.getDocument().setLineWidth(c),n.getDocument().line(h,g,_,p,"S")}}function uR(n,t,e,i){var r=t.settings.margin.bottom,o=t.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&e)&&(r+=t.getFootHeight(t.columns)),n.pageSize().height-i.y-r}function dm(n,t,e,i,r,o){r===void 0&&(r=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!o&&t.foot.forEach(function(a){return Vl(n,t,a,i,r)}),t.callEndPageHooks(n,i);var s=t.settings.margin;iR(n,t,e,i),dR(n),t.pageNumber++,i.x=s.left,i.y=s.top,e.y=s.top,t.callWillDrawPageHooks(n,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(a){return Vl(n,t,a,i,r)}),n.applyStyles(n.userStyles))}function dR(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function hq(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=M$(this,i),o=J$(this,r);return rq(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,i,r){eR(t,e,i,r,this)},n.API.autoTableSetDefaults=function(t){return Hh.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){Hh.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var i;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Hh(this),o=aR(r,t,window,e,!1),s=o.head,a=o.body,l=((i=s[0])===null||i===void 0?void 0:i.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var y5;try{typeof window<"u"&&window&&(_5=window,w5=_5.jsPDF||((y5=_5.jspdf)===null||y5===void 0?void 0:y5.jsPDF),w5&&hq(w5))}catch(n){console.error("Could not apply autoTable plugin",n)}var _5,w5;var Er=class n{about=Ne(Ji);blogs=Ne(Va);experience=Ne(Zr);info=Ne(Yn);projects=Ne(Po);services=Ne(La);testimonials=Ne(jc);_dataSaved=new Oi(!1);dataSaved$=this._dataSaved.asObservable();constructor(){}checkAllData(t){return j(this,null,function*(){if(!(typeof window>"u"))try{let e=yield this.about.getAbout(t),i=yield this.blogs.getBlogs(t),r=yield this.experience.getExperience(t),o=yield this.info.getAdminInfo(t),s=yield this.projects.getProjects(t),a=yield this.services.getServices(t),l=yield this.testimonials.getTestimonials(t),h=[e,i,r,o,s,a,l].every(g=>{if(!g)return!1;for(let _ of Object.keys(g)){let p=g[_];if(Array.isArray(p)&&p.length===0||p==null)return!1}return!0});this._dataSaved.next(h)}catch{this._dataSaved.next(!1)}})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var ri=class n{auth=Ne(Du);firestore=Ne(Fi);platformId=Ne(vn);currentUserSubject=new Oi(null);currentUser$=this.currentUserSubject.asObservable();constructor(){_x(this.auth,t=>{t?(this.currentUserSubject.next(t),Vt(this.platformId)&&localStorage.setItem("uid",t.uid)):(this.currentUserSubject.next(null),Vt(this.platformId)&&localStorage.removeItem("uid"))})}signUp(t,e){return j(this,null,function*(){let i=yield vx(this.auth,t,e);return this.currentUserSubject.next(i.user),Vt(this.platformId)&&localStorage.setItem("uid",i.user.uid),i})}signIn(t,e){return j(this,null,function*(){let i=yield wx(this.auth,t,e);return this.currentUserSubject.next(i.user),Vt(this.platformId)&&localStorage.setItem("uid",i.user.uid),i})}signInWithGoogle(){return j(this,null,function*(){let t=new Aw,e=yield bx(this.auth,t);return this.currentUserSubject.next(e.user),Vt(this.platformId)&&localStorage.setItem("uid",e.user.uid),e})}logout(){return this.currentUserSubject.next(null),Vt(this.platformId)&&localStorage.removeItem("uid"),Sx(this.auth)}saveUserProfile(t,e){return j(this,null,function*(){let i=ci(this.firestore,`users/${t}`);yield Qr(i,e,{merge:!0})})}getUserProfile(t){return j(this,null,function*(){if(!Vt(this.platformId))return null;let e=ci(this.firestore,`users/${t}`),i=yield jr(e);return i.exists()?i.data():null})}getUidFromStorage(){return Vt(this.platformId)?localStorage.getItem("uid"):null}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var fq=["navbar"],pq=()=>({exact:!0}),v1=class n{constructor(t,e,i,r,o,s,a){this.dataCheck=t;this.auth=e;this.adminInfoService=i;this.adminAboutService=r;this.adminExperienceService=o;this.adminProjectsService=s;this.zone=a}navbar;sidebarOpen=!1;isFixed=!1;navbarOffsetTop=0;livePortfolioEnabled=!1;uid=null;username=null;destroy$=new Nt;downloadCV(){return j(this,null,function*(){if(!this.uid)return;let t=yield this.adminInfoService.getAdminInfo(this.uid),e=yield this.adminAboutService.getAbout(this.uid),i=yield this.adminExperienceService.getExperience(this.uid),r=yield this.adminProjectsService.getProjects(this.uid),o=i?.skills||[],s=i?.education||[],a=new vt,l=10;if(a.setFontSize(18),a.text(t?.fullName||"Your Name",105,l,{align:"center"}),l+=10,a.setFontSize(11),t?.email&&a.text(`Email: ${t.email}`,10,l),t?.phone&&a.text(`Phone: ${t.phone}`,10,l+6),l+=15,e?.mainDescription){a.setFont("helvetica","bold"),a.setFontSize(14),a.text("About Me",10,l),l+=8,a.setFont("helvetica","normal"),a.setFontSize(11);let g=a.splitTextToSize(e.mainDescription,186);a.text(g,12,l),l+=g.length*6+6}let c=i?.experiences?.slice(0,2)||[];if(c.length&&(a.setFont("helvetica","bold"),a.setFontSize(16),a.text("Experience",10,l),l+=10,c.forEach(g=>{if(a.setFont("helvetica","bold"),a.setFontSize(12),a.text(`${g.role} - ${g.companyName}`,10,l),l+=6,a.setFont("helvetica","normal"),a.setFontSize(11),a.text(`${g.startDate} - ${g.endDate||"Present"}`,10,l),l+=6,g.description){let _=a.splitTextToSize(`\u2022 ${g.description}`,186);a.text(_,12,l),l+=_.length*5+6}l+=4})),o.length){a.setFont("helvetica","bold"),a.setFontSize(14),a.text("Skills",10,l),l+=8,a.setFont("helvetica","normal"),a.setFontSize(11);let g=o.join(", "),_=a.splitTextToSize(g,186);a.text(_,12,l),l+=_.length*5+8}let h=r?.projects?.slice(0,2)||[];h.length&&(a.setFont("helvetica","bold"),a.setFontSize(14),a.text("Projects",10,l),l+=10,h.forEach(g=>{a.setFont("helvetica","bold"),a.setFontSize(12),a.text(g.projectTitle,10,l),l+=6,a.setFont("helvetica","normal"),a.setFontSize(11);let _=(g.projectDescription||"").split(" ").slice(0,10).join(" ")+"...",p=a.splitTextToSize(_,186);a.text(p,12,l),l+=p.length*5+4,g.liveLink&&(a.text(`Live: ${g.liveLink}`,12,l),l+=8),l+=5})),s.length&&(a.setFont("helvetica","bold"),a.setFontSize(14),a.text("Education",10,l),l+=10,s.forEach(g=>{if(a.setFont("helvetica","bold"),a.setFontSize(12),a.text(g.degree,10,l),l+=6,a.setFont("helvetica","normal"),a.setFontSize(11),a.text(`${g.institution} (${g.start} - ${g.end})`,10,l),l+=6,g.description){let _=a.splitTextToSize(g.description,186);a.text(_,12,l),l+=_.length*5+6}l+=6})),a.save(`${t?.fullName||"CV"}.pdf`)})}ngAfterViewInit(){this.navbarOffsetTop=this.navbar.nativeElement.offsetTop,this.auth.currentUser$.pipe(Li(this.destroy$)).subscribe(t=>j(this,null,function*(){if(t){this.uid=t.uid,this.dataCheck.checkAllData(this.uid);let e=yield this.adminInfoService.getAdminInfo(this.uid);e&&(this.username=e.username)}})),this.dataCheck.dataSaved$.pipe(Li(this.destroy$)).subscribe(t=>{this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.livePortfolioEnabled=t},0)})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}openPortfolioInNewTab(){if(this.livePortfolioEnabled&&this.username){let t=`/portfolio/${encodeURIComponent(this.username)}`;window.open(t,"_blank")}}onScrollTop(){window.scrollTo({top:0,behavior:"smooth"})}onWindowScroll(){this.isFixed=window.scrollY>=this.navbarOffsetTop}static \u0275fac=function(e){return new(e||n)(ie(Er),ie(ri),ie(Yn),ie(Ji),ie(Zr),ie(Po),ie(di))};static \u0275cmp=Qe({type:n,selectors:[["app-admin-navbar"]],viewQuery:function(e,i){if(e&1&&ws(fq,5),e&2){let r;Kr(r=Yr())&&(i.navbar=r.first)}},hostBindings:function(e,i){e&1&&ye("scroll",function(){return i.onWindowScroll()},$m)},decls:32,vars:13,consts:[["navbar",""],[1,"w-full"],[1,"mx-auto","flex","items-center","justify-between","px-4","py-3","relative","w-[100%]"],[1,"logo-item"],[1,"uppercase","text-white","absolute"],["routerLink","/admin","routerLinkActive","active-link",3,"click","routerLinkActiveOptions"],["routerLink","/admin/about","routerLinkActive","active-link",3,"click"],["routerLink","/admin/experience","routerLinkActive","active-link",3,"click"],["routerLink","/admin/projects","routerLinkActive","active-link",3,"click"],["routerLink","/admin/services","routerLinkActive","active-link",3,"click"],["routerLink","/admin/blogs","routerLinkActive","active-link",3,"click"],["routerLink","/admin/testimonials","routerLinkActive","active-link",3,"click"],[1,"cv-link-sidebar",3,"click"],[1,"w-[70%]","mx-auto","py-2","px-4",3,"disabled"],[1,"flex"],[1,"cv-download","py-2","px-4",3,"click","disabled"],[1,"sm:px-4","px-2","sm:py-2","mx-3",3,"click","disabled"],[1,"icon-sidebar","sm:p-3","p-1","px-2",3,"click"],[1,"fa-solid","fa-bars","cursor-pointer","text-[14px]"],[1,"fa-solid","fa-xmark","cursor-pointer","text-[14px]"]],template:function(e,i){if(e&1){let r=mt();E(0,"nav",1,0)(2,"div",2)(3,"div",3)(4,"h1"),$(5,"cms"),A()(),E(6,"ul",4)(7,"li",5),ye("click",function(){return $e(r),i.toggleSidebar(),qe(i.onScrollTop())}),$(8,"Profile Info"),A(),E(9,"li",6),ye("click",function(){return $e(r),i.toggleSidebar(),qe(i.onScrollTop())}),$(10,"About Me"),A(),E(11,"li",7),ye("click",function(){return $e(r),i.toggleSidebar(),qe(i.onScrollTop())}),$(12,"Experience"),A(),E(13,"li",8),ye("click",function(){return $e(r),i.toggleSidebar(),qe(i.onScrollTop())}),$(14,"Projects"),A(),E(15,"li",9),ye("click",function(){return $e(r),i.toggleSidebar(),qe(i.onScrollTop())}),$(16,"Services"),A(),E(17,"li",10),ye("click",function(){return $e(r),i.toggleSidebar(),qe(i.onScrollTop())}),$(18,"blogs"),A(),E(19,"li",11),ye("click",function(){return $e(r),i.toggleSidebar(),qe(i.onScrollTop())}),$(20,"testimonials"),A(),E(21,"li",12),ye("click",function(){return $e(r),qe(i.toggleSidebar())}),E(22,"button",13),$(23,"Download CV"),A()()(),E(24,"div",14)(25,"button",15),ye("click",function(){return $e(r),qe(i.downloadCV())}),$(26,"Download CV"),A(),E(27,"button",16),ye("click",function(){return $e(r),qe(i.openPortfolioInNewTab())}),$(28,"Live Portfolio"),A(),E(29,"div",17),ye("click",function(){return $e(r),qe(i.toggleSidebar())}),ve(30,"i",18)(31,"i",19),A()()()()}e&2&&(Ai("nav-fixed",i.isFixed),U(6),Ai("sidebar-open",i.sidebarOpen),U(),le("routerLinkActiveOptions",Gn(12,pq)),U(15),le("disabled",!i.livePortfolioEnabled),U(3),le("disabled",!i.livePortfolioEnabled),U(2),le("disabled",!i.livePortfolioEnabled),U(3),Ai("hidden",i.sidebarOpen),U(),Ai("hidden",!i.sidebarOpen))},dependencies:[Hi,Qf],styles:["nav[_ngcontent-%COMP%]{background-color:var(--sectionColor);border-bottom:.1px solid var(--borderColor)}nav[_ngcontent-%COMP%]   .logo-item[_ngcontent-%COMP%]{border-right:.1px solid var(--borderColor);padding-right:14px}nav[_ngcontent-%COMP%]   .logo-item[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Georgia,serif;text-transform:uppercase!important}.icon-sidebar[_ngcontent-%COMP%]{background-color:var(--inputColor);border-radius:5px;cursor:pointer}ul[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;transition:transform .4s ease;padding:50px 0;width:20%;background-color:var(--sectionColor);border-top:1px solid var(--borderColor);border-right:.1px solid var(--borderColor);height:100vh}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;text-align:center;transition:color var(--transition) ease;padding:20px 0;font-size:18px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .active-link[_ngcontent-%COMP%]{color:var(--primaryColor)}.cv-link-sidebar[_ngcontent-%COMP%], .icon-sidebar[_ngcontent-%COMP%]{display:none}.nav-fixed[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;z-index:9999}@media screen and (max-width: 1300px){ul[_ngcontent-%COMP%]{width:25%}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px}}@media screen and (max-width: 1100px){ul[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;height:100vh;width:35%;transform:translate(100%)}ul.sidebar-open[_ngcontent-%COMP%]{transform:translate(0)}.icon-sidebar[_ngcontent-%COMP%]{display:block}}@media screen and (max-width: 870px){ul[_ngcontent-%COMP%]{width:50%}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px}}@media screen and (max-width: 550px){ul[_ngcontent-%COMP%]{width:80%}.cv-link-sidebar[_ngcontent-%COMP%]{display:block}.cv-download[_ngcontent-%COMP%]{display:none}}"]})};var Yc=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Qe({type:n,selectors:[["app-footer-admin"]],decls:6,vars:0,consts:[[1,"w-full","bg-black","text-white","py-6","px-4","flex","flex-col","md:flex-row","justify-center","items-center"],[1,"mb-4","md:mb-0","md:text-[1.1rem]"],[1,"span-color"]],template:function(e,i){e&1&&($i(0,"footer",0)(1,"div",1),$(2," \xA9 2025 "),$i(3,"span",2),$(4,"Your Portfolio"),qi(),$(5,". All rights reserved. "),qi()())},dependencies:[zt],styles:["footer[_ngcontent-%COMP%]{background-color:var(--cardColor);color:var(--textColor, #fff)}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:color .3s}"]})};var Ar=class n{_loading=new Oi(!1);_success=new Oi(!1);loading$=this._loading.asObservable();success$=this._success.asObservable();showLoader(){this._loading.next(!0)}hideLoader(){this._loading.next(!1)}showSuccess(){this._success.next(!0),setTimeout(()=>this._success.next(!1),2e3)}hideSuccess(){this._success.next(!1)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};function mq(n,t){n&1&&(E(0,"div",0),ve(1,"div",16),A())}function gq(n,t){if(n&1){let e=mt();E(0,"div",1)(1,"div",17),ye("click",function(){$e(e);let r=Re();return qe(r.uiService.hideSuccess())}),ve(2,"i",18),E(3,"span",19),$(4,"The data has been saved successfully!"),A()()()}}var y1=class n{constructor(t,e,i){this.authService=t;this.router=e;this.uiService=i}userImage="img/img3.png";userEmail="";uid="";loading=!0;loading$;showSuccess$;destroy$=new Nt;ngOnInit(){return j(this,null,function*(){this.loading$=this.uiService.loading$.pipe(Li(this.destroy$)),this.showSuccess$=this.uiService.success$.pipe(Li(this.destroy$));let t=this.authService.getUidFromStorage();if(!t){this.router.navigate(["/sign-in"]);return}this.uid=t;let e=yield this.authService.getUserProfile(this.uid);e?.imageUrl&&(this.userImage=e.imageUrl),this.userEmail=e?.email??"",this.loading=!1})}onImageChange(t){let e=t.target.files[0];if(!e||!this.uid)return;let i=new FileReader;i.onload=()=>j(this,null,function*(){let r=i.result;this.userImage=r,yield this.authService.saveUserProfile(this.uid,{imageUrl:r})}),i.readAsDataURL(e)}logout(){this.authService.logout().then(()=>this.router.navigate(["/sign-in"])).catch(t=>console.error(t))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.userImage="img/img3.png",this.userEmail="",this.uid=""}static \u0275fac=function(e){return new(e||n)(ie(ri),ie(gr),ie(Ar))};static \u0275cmp=Qe({type:n,selectors:[["app-admin-portfolio"]],decls:25,vars:7,consts:[[1,"loading-data","fixed","inset-0","bg-black/50","flex","justify-center","items-center","z-50"],[1,"w-full","save-data","fixed","flex","justify-center","items-center","z-50"],[1,"w-full","px-3","pt-5","pb-10","mb-20"],[1,"h-[200px]","relative","w-full","rounded-lg",2,"background-color","var(--cardColor)"],[1,"overley","w-full","h-full","flex","justify-center","items-center"],[1,"uppercase","text-[2rem]","md:text-[3rem]","lg:text-[4rem]","font-bold"],[1,"image-profile","w-[90px]","h-[90px]","sm:w-[100px]","sm:h-[100px]","xl:w-[130px]","xl:h-[130px]","absolute","bottom-0","left-10","lg:left-20"],["alt","image-profile",1,"w-full","h-full","object-cover","rounded-full",3,"src"],[1,"p-2","w-[200px]"],[1,""],[1,"cursor-pointer"],["id","upload","type","file","accept","image/*",1,"hidden",3,"change"],[1,"py-1","text-white"],[3,"click"],[1,"overflow-hidden"],[1,"add-info","pt-20"],[1,"w-20","h-20","border-4","border-main","border-t-transparent","rounded-full","animate-spin",2,"border-color","var(--primaryColor)"],[1,"px-6","py-4","text-center","gap-3","cursor-pointer","animate-fade-in",3,"click"],[1,"fa-solid","fa-check","lg:text-[10rem]","md:text-[8rem]","text-[6rem]","pb-3","text-main"],[1,"font-semibold","text-lg","block"]],template:function(e,i){e&1&&(Lt(0,mq,2,0,"div",0),wy(1,"async"),Lt(2,gq,5,0,"div",1),wy(3,"async"),E(4,"div",2)(5,"div",3)(6,"div",4)(7,"h2",5),$(8,"portfolio cms"),A()(),E(9,"div",6),ve(10,"img",7),E(11,"div",8)(12,"ul",9)(13,"li")(14,"label",10)(15,"input",11),ye("change",function(o){return i.onImageChange(o)}),A(),E(16,"span",12),$(17,"Change Photo"),A()()(),E(18,"li",13),ye("click",function(){return i.logout()}),$(19,"Sign Out"),A()()()()()(),E(20,"div",14),ve(21,"app-admin-navbar"),E(22,"div",15),ve(23,"router-outlet")(24,"app-footer-admin"),A()()),e&2&&(Ft(by(1,3,i.loading$)?0:-1),U(2),Ft(by(3,5,i.showSuccess$)?2:-1),U(8),le("src",i.userImage,Dt))},dependencies:[v1,Gs,Yc,zt,Py],styles:[".image-profile[_ngcontent-%COMP%]{transform:translateY(50%);z-index:99999}.image-profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid var(--whiteColor);cursor:pointer}.image-profile[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:none;background-color:var(--cardColor);border-radius:5px;transition:all var(--transition) ease}.image-profile[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;padding:5% 10px;border-radius:5px;transition:color var(--transition) ease}.image-profile[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#000}.image-profile[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{display:block}.add-info[_ngcontent-%COMP%]{width:80%}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .4s ease-out}.loading-data[_ngcontent-%COMP%]{z-index:100000000000000000}.save-data[_ngcontent-%COMP%]{z-index:99999999999;height:100vh;background-color:#000000b3;top:0;left:0;color:var(--primaryColor)}@media screen and (max-width: 1300px){.add-info[_ngcontent-%COMP%]{width:75%}}@media screen and (max-width: 1100px){.add-info[_ngcontent-%COMP%]{width:100%}}"]})};var _R=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(ie(Wr),ie(sr))};static \u0275dir=kn({type:n})}return n})(),T1=(()=>{class n extends _R{static \u0275fac=(()=>{let e;return function(r){return(e||(e=dl(n)))(r||n)}})();static \u0275dir=kn({type:n,features:[Do]})}return n})(),Yh=new Gt("");var vq={provide:Yh,useExisting:wa(()=>Qi),multi:!0};function yq(){let n=Es()?Es().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var _q=new Gt(""),Qi=(()=>{class n extends _R{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!yq())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(ie(Wr),ie(sr),ie(_q,8))};static \u0275dir=kn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&ye("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[bs([vq]),Do]})}return n})();function D5(n){return n==null||P5(n)===0}function P5(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var vm=new Gt(""),ym=new Gt(""),wq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ot=class{static min(t){return bq(t)}static max(t){return Sq(t)}static required(t){return Eq(t)}static requiredTrue(t){return Aq(t)}static email(t){return Iq(t)}static minLength(t){return Cq(t)}static maxLength(t){return xq(t)}static pattern(t){return Tq(t)}static nullValidator(t){return wR()}static compose(t){return CR(t)}static composeAsync(t){return TR(t)}};function bq(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Sq(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Eq(n){return D5(n.value)?{required:!0}:null}function Aq(n){return n.value===!0?null:{required:!0}}function Iq(n){return D5(n.value)||wq.test(n.value)?null:{email:!0}}function Cq(n){return t=>{let e=t.value?.length??P5(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function xq(n){return t=>{let e=t.value?.length??P5(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function Tq(n){if(!n)return wR;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(D5(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function wR(n){return null}function bR(n){return n!=null}function SR(n){return _d(n)?Mr(n):n}function ER(n){let t={};return n.forEach(e=>{t=e!=null?ze(ze({},t),e):t}),Object.keys(t).length===0?null:t}function AR(n,t){return t.map(e=>e(n))}function Dq(n){return!n.validate}function IR(n){return n.map(t=>Dq(t)?t:e=>t.validate(e))}function CR(n){if(!n)return null;let t=n.filter(bR);return t.length==0?null:function(e){return ER(AR(e,t))}}function xR(n){return n!=null?CR(IR(n)):null}function TR(n){if(!n)return null;let t=n.filter(bR);return t.length==0?null:function(e){let i=AR(e,t).map(SR);return kE(i).pipe(gn(ER))}}function DR(n){return n!=null?TR(IR(n)):null}function hR(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function PR(n){return n._rawValidators}function kR(n){return n._rawAsyncValidators}function A5(n){return n?Array.isArray(n)?n:[n]:[]}function w1(n,t){return Array.isArray(n)?n.includes(t):n===t}function fR(n,t){let e=A5(t);return A5(n).forEach(r=>{w1(e,r)||e.push(r)}),e}function pR(n,t){return A5(t).filter(e=>!w1(n,e))}var b1=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=DR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Ps=class extends b1{name;get formDirective(){return null}get path(){return null}},id=class extends b1{_parent=null;name=null;valueAccessor=null},S1=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Pq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},yae=wn(ze({},Pq),{"[class.ng-submitted]":"isSubmitted"}),Ir=(()=>{class n extends S1{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(ie(id,2))};static \u0275dir=kn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ai("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Do]})}return n})(),Cr=(()=>{class n extends S1{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(ie(Ps,10))};static \u0275dir=kn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ai("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Do]})}return n})();var hm="VALID",_1="INVALID",Wh="PENDING",fm="DISABLED",Jc=class{},E1=class extends Jc{value;source;constructor(t,e){super(),this.value=t,this.source=e}},pm=class extends Jc{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},mm=class extends Jc{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Gh=class extends Jc{status;source;constructor(t,e){super(),this.status=t,this.source=e}},I5=class extends Jc{source;constructor(t){super(),this.source=t}},gm=class extends Jc{source;constructor(t){super(),this.source=t}};function k5(n){return(D1(n)?n.validators:n)||null}function kq(n){return Array.isArray(n)?xR(n):n||null}function R5(n,t){return(D1(t)?t.asyncValidators:n)||null}function Rq(n){return Array.isArray(n)?DR(n):n||null}function D1(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function RR(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new hn(1e3,"");if(!i[e])throw new hn(1001,"")}function NR(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new hn(1002,"")})}var Kh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ii(this.statusReactive)}set status(t){Ii(()=>this.statusReactive.set(t))}_status=wd(()=>this.statusReactive());statusReactive=li(void 0);get valid(){return this.status===hm}get invalid(){return this.status===_1}get pending(){return this.status==Wh}get disabled(){return this.status===fm}get enabled(){return this.status!==fm}errors;get pristine(){return Ii(this.pristineReactive)}set pristine(t){Ii(()=>this.pristineReactive.set(t))}_pristine=wd(()=>this.pristineReactive());pristineReactive=li(!0);get dirty(){return!this.pristine}get touched(){return Ii(this.touchedReactive)}set touched(t){Ii(()=>this.touchedReactive.set(t))}_touched=wd(()=>this.touchedReactive());touchedReactive=li(!1);get untouched(){return!this.touched}_events=new Nt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(fR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(fR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(pR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(pR(t,this._rawAsyncValidators))}hasValidator(t){return w1(this._rawValidators,t)}hasAsyncValidator(t){return w1(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(wn(ze({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new mm(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new mm(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(wn(ze({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new pm(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new pm(!0,i))}markAsPending(t={}){this.status=Wh;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Gh(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(wn(ze({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=fm,this.errors=null,this._forEachChild(r=>{r.disable(wn(ze({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new E1(this.value,i)),this._events.next(new Gh(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(wn(ze({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=hm,this._forEachChild(i=>{i.enable(wn(ze({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(wn(ze({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hm||this.status===Wh)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new E1(this.value,e)),this._events.next(new Gh(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(wn(ze({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fm:hm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Wh,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=SR(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Gh(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new Xo,this.statusChanges=new Xo}_calculateStatus(){return this._allControlsDisabled()?fm:this.errors?_1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wh)?Wh:this._anyControlsHaveStatus(_1)?_1:hm}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new pm(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new mm(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){D1(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=kq(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Rq(this._rawAsyncValidators)}},A1=class extends Kh{constructor(t,e,i){super(k5(e),R5(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){NR(this,!0,t),Object.keys(t).forEach(i=>{RR(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new gm(this))}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var C5=class extends A1{};var N5=new Gt("",{providedIn:"root",factory:()=>O5}),O5="always";function M5(n,t){return[...t.path,n]}function x5(n,t,e=O5){L5(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Oq(n,t),Lq(n,t),Mq(n,t),Nq(n,t)}function I1(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),x1(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function C1(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Nq(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function L5(n,t){let e=PR(n);t.validator!==null?n.setValidators(hR(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=kR(n);t.asyncValidator!==null?n.setAsyncValidators(hR(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();C1(t._rawValidators,r),C1(t._rawAsyncValidators,r)}function x1(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=PR(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=kR(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return C1(t._rawValidators,i),C1(t._rawAsyncValidators,i),e}function Oq(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&OR(n,t)})}function Mq(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&OR(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function OR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Lq(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function Fq(n,t){n==null,L5(n,t)}function Vq(n,t){return x1(n,t)}function MR(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function jq(n){return Object.getPrototypeOf(n.constructor)===T1}function Uq(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function LR(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===Qi?e=o:jq(o)?i=o:r=o}),r||i||e||null}function Bq(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function mR(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function gR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ds=class extends Kh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(k5(e),R5(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),D1(e)&&(e.nonNullable||e.initialValueIsDefault)&&(gR(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new gm(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){mR(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){mR(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){gR(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var zq=n=>n instanceof Ds,$q=(()=>{class n extends Ps{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return M5(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=dl(n)))(r||n)}})();static \u0275dir=kn({type:n,standalone:!1,features:[Do]})}return n})();var xr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=kn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),qq={provide:Yh,useExisting:wa(()=>F5),multi:!0},F5=(()=>{class n extends T1{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=dl(n)))(r||n)}})();static \u0275dir=kn({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&ye("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[bs([qq]),Do]})}return n})();var V5=new Gt(""),Hq={provide:id,useExisting:wa(()=>_m)},_m=(()=>{class n extends id{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new Xo;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=LR(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&I1(i,this,!1),x5(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}MR(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&I1(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||n)(ie(vm,10),ie(ym,10),ie(Yh,10),ie(V5,8),ie(N5,8))};static \u0275dir=kn({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[bs([Hq]),Do,_s]})}return n})(),Wq={provide:Ps,useExisting:wa(()=>Zi)},Zi=(()=>{class n extends Ps{callSetDisabledState;get submitted(){return Ii(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=wd(()=>this._submittedReactive());_submittedReactive=li(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Xo;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(x1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return x5(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){I1(e.control||null,e,!1),Bq(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),Uq(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new I5(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(I1(i||null,e),zq(r)&&(x5(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);Fq(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&Vq(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){L5(this.form,this),this._oldForm&&x1(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(ie(vm,10),ie(ym,10),ie(N5,8))};static \u0275dir=kn({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&ye("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[bs([Wq]),Do,_s]})}return n})(),Gq={provide:Ps,useExisting:wa(()=>P1)},P1=(()=>{class n extends $q{name=null;constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){VR(this._parent)}static \u0275fac=function(i){return new(i||n)(ie(Ps,13),ie(vm,10),ie(ym,10))};static \u0275dir=kn({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[bs([Gq]),Do]})}return n})(),Kq={provide:Ps,useExisting:wa(()=>FR)},FR=(()=>{class n extends Ps{_parent;name=null;constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){VR(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return M5(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(i){return new(i||n)(ie(Ps,13),ie(vm,10),ie(ym,10))};static \u0275dir=kn({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[bs([Kq]),Do]})}return n})();function VR(n){return!(n instanceof P1)&&!(n instanceof Zi)&&!(n instanceof FR)}var Yq={provide:id,useExisting:wa(()=>cr)},cr=(()=>{class n extends id{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Xo;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=LR(this,o)}ngOnChanges(e){this._added||this._setUpControl(),MR(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return M5(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(ie(Ps,13),ie(vm,10),ie(ym,10),ie(Yh,10),ie(V5,8))};static \u0275dir=kn({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[bs([Yq]),Do,_s]})}return n})();var Xq={provide:Yh,useExisting:wa(()=>UR),multi:!0};function jR(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Jq(n){return n.split(":")[0]}var UR=(()=>{class n extends T1{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=Ne(Wm).injector;destroyRef=Ne(ul);cdr=Ne(Hs);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,gy({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let i=this._getOptionId(e),r=jR(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=Jq(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=dl(n)))(r||n)}})();static \u0275dir=kn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&ye("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[bs([Xq]),Do]})}return n})(),BR=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(jR(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(ie(sr),ie(Wr),ie(UR,9))};static \u0275dir=kn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Qq={provide:Yh,useExisting:wa(()=>zR),multi:!0};function vR(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Zq(n){return n.split(":")[0]}var zR=(()=>{class n extends T1{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=Zq(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=dl(n)))(r||n)}})();static \u0275dir=kn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&ye("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[bs([Qq]),Do]})}return n})(),$R=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(vR(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(vR(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(ie(sr),ie(Wr),ie(zR,9))};static \u0275dir=kn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var eH=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Bs({type:n});static \u0275inj=Us({})}return n})(),T5=class extends Kh{constructor(t,e,i){super(k5(e),R5(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){NR(this,!1,t),t.forEach((i,r)=>{RR(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new gm(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function yR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Tr=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return yR(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new A1(r,o)}record(e,i=null){let r=this._reduceControls(e);return new C5(r,i)}control(e,i,r){let o={};return this.useNonNullable?(yR(i)?o=i:(o.validators=i,o.asyncValidators=r),new Ds(e,wn(ze({},o),{nonNullable:!0}))):new Ds(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new T5(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof Ds)return e;if(e instanceof Kh)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Dr=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:V5,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:N5,useValue:e.callSetDisabledState??O5}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Bs({type:n});static \u0275inj=Us({imports:[eH]})}return n})();function tH(n,t){n&1&&(E(0,"div",34),$(1," Username already taken! "),A())}function nH(n,t){if(n&1){let e=mt();zs(0),E(1,"span",35)(2,"span",36),$(3),A(),E(4,"button",37),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeRelatedJobTitle(r))}),ve(5,"i",38),A()(),$s()}if(n&2){let e=t.$implicit;U(3),gt(e.value)}}function iH(n,t){if(n&1&&(E(0,"div",39),ve(1,"img",40),A()),n&2){let e=Re();U(),le("src",e.profileImagePreview,Dt)}}function rH(n,t){if(n&1){let e=mt();zs(0),E(1,"li",41)(2,"div",42)(3,"strong",43),$(4),A(),E(5,"a",44),$(6),A()(),E(7,"button",45),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeSocial(r))}),ve(8,"i",38),A()(),$s()}if(n&2){let e=t.$implicit;U(4),et("",e.value.platform,":"),U(),le("href",e.value.url,Dt),U(),et(" ",e.value.url," ")}}function qR(n,t){return e=>j(null,null,function*(){let i=e.value?.trim();if(!i)return null;let r=yield n.getAdminInfoByUsername(i);return!r||r.uid===t?null:{usernameTaken:!0}})}function HR(n){return t=>t.length>=n?null:{minLengthArray:!0}}function oH(n){return t=>t.length<=n?null:{maxLengthArray:!0}}var k1=class n{constructor(t,e,i,r,o,s){this.fb=t;this.adminService=e;this.authService=i;this.uiService=r;this.platformId=o;this.dataCheck=s}form;uid=null;profileImagePreview=null;currentUsername="";subs=new lc;fileReader=null;ngOnInit(){this.uid=this.authService.getUidFromStorage(),this.form=this.fb.group({fullName:["",[ot.required,ot.pattern(/^\w+\s+\w+$/)]],username:["",[ot.required,ot.pattern(/^\S+$/)],[qR(this.adminService,this.uid)]],email:["",[ot.required,ot.email]],phone:["",[ot.required,ot.pattern(/^[0-9]+$/)]],location:["",ot.required],mainJobTitle:["",[ot.required,ot.pattern(/^\S+\s+\S+\s+\S+$/)]],relatedJobTitles:this.fb.array([],[HR(4),oH(5)]),socialLinks:this.fb.array([],[HR(4)]),profileImage:["",ot.required]}),this.uid&&this.loadData()}get relatedJobTitlesArray(){return this.form.get("relatedJobTitles")}get socialLinksArray(){return this.form.get("socialLinks")}addRelatedJobTitle(t){t.trim()&&(this.relatedJobTitlesArray.length>=5||this.relatedJobTitlesArray.push(this.fb.control(t)))}removeRelatedJobTitle(t){this.relatedJobTitlesArray.removeAt(t)}addSocial(t,e){if(!e.trim())return;if(this.socialLinksArray.controls.some(r=>r.value.platform===t)){alert(`${t} is already added!`);return}this.socialLinksArray.push(this.fb.group({platform:[t,ot.required],url:[e,[ot.required]]}))}removeSocial(t){this.socialLinksArray.removeAt(t)}uploadImage(t){let i=t.target.files?.[0];i&&(this.fileReader=new FileReader,this.fileReader.onload=()=>{this.profileImagePreview=this.fileReader?.result||null,this.form.patchValue({profileImage:this.fileReader?.result})},this.fileReader.readAsDataURL(i))}saveData(){return j(this,null,function*(){if(!(!this.uid||this.form.invalid)){this.uiService.showLoader();try{yield this.adminService.saveAdminInfo(this.uid,this.form.value),yield this.dataCheck.checkAllData(this.uid),this.uiService.hideLoader(),this.uiService.showSuccess()}catch(t){this.uiService.hideLoader(),console.error(t),alert("An error occurred while saving data.")}}})}loadData(){return j(this,null,function*(){if(!this.uid)return;let t=yield this.adminService.getAdminInfo(this.uid);t&&(this.currentUsername=t.username||"",this.form.patchValue({fullName:t.fullName,username:t.username,email:t.email,phone:t.phone,location:t.location,mainJobTitle:t.mainJobTitle,profileImage:t.profileImage||""}),this.form.get("username")?.setAsyncValidators(qR(this.adminService,this.uid)),this.form.get("username")?.updateValueAndValidity({emitEvent:!1}),this.profileImagePreview=t.profileImage,t.relatedJobTitles&&t.relatedJobTitles.forEach(e=>this.relatedJobTitlesArray.push(this.fb.control(e))),t.socialLinks&&t.socialLinks.forEach(e=>this.socialLinksArray.push(this.fb.group({platform:e.platform,url:e.url}))))})}ngOnDestroy(){this.subs.unsubscribe(),this.fileReader&&(this.fileReader.onload=null,this.fileReader.abort(),this.fileReader=null),this.relatedJobTitlesArray.clear(),this.socialLinksArray.clear(),this.form.reset(),this.profileImagePreview=null;let t=document.querySelector('input[type="file"]');t&&(t.value="")}static \u0275fac=function(e){return new(e||n)(ie(Tr),ie(Yn),ie(ri),ie(Ar),ie(vn),ie(Er))};static \u0275cmp=Qe({type:n,selectors:[["app-admin-info"]],decls:66,vars:7,consts:[["relatedInput",""],["platformSel",""],["urlInput",""],[1,"min-h-screen","w-full","bg-black","text-white","lg:px-6","md:px-4","px-2","py-6","flex","justify-center","items-start",3,"formGroup"],[1,"w-full","py-10","lg:px-6","md:px-4","px-2","rounded-[7px]","shadow-xl",2,"background-color","var(--sectionColor)"],[1,"lg:text-[1.7rem]","md:text-[1.5rem]","text-[1.3rem]","font-bold","mb-10","span-color"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mb-4"],[1,"block","mb-2","font-semibold"],["type","text","formControlName","fullName","placeholder","Full Name",1,"w-full","p-3","form-control","mb-4"],["type","text","formControlName","username","placeholder","Username",1,"w-full","p-3","form-control","mb-4"],["class","text-red-900 bg-red-200 p-2 rounded-sm text-sm mt-1",4,"ngIf"],["type","text","formControlName","email","placeholder","Email",1,"w-full","p-3","form-control","mb-4"],["type","text","formControlName","phone","placeholder","Phone",1,"w-full","p-3","form-control","mb-4"],["type","text","formControlName","location","placeholder","Location",1,"w-full","p-3","form-control","mb-4"],["type","text","formControlName","mainJobTitle","placeholder","Web Developer",1,"w-full","p-3","form-control","mb-4"],[1,"flex","items-center","gap-3","mb-3"],["type","text","placeholder","e.g. Web Developer, UI Designer",1,"flex-1","p-3","form-control","focus:outline-none","focus:ring-2","focus:ring-main",3,"keydown.enter"],["type","button",1,"px-4","py-2","no-after-button",3,"click","disabled"],[1,"flex","flex-wrap","gap-2","mb-4"],[4,"ngFor","ngForOf"],["type","file",1,"w-full","p-3","form-control","mb-10",3,"change"],["class","mb-10",4,"ngIf"],[1,"flex","flex-col","gap-3","mb-6","w-full","md:flex-row","md:items-center"],[1,"social-options","w-full","md:w-1/3","p-3","rounded","focus:outline-none","focus:ring-2","focus:ring-main"],["value","LinkedIn"],["value","GitHub"],["value","Facebook"],["value","Twitter"],[1,"flex","w-full"],["type","text","placeholder","https://linkedin.com/in/username",1,"w-full","md:flex-1","px-3","form-control"],["type","button",1,"px-3","no-after-button",3,"click"],[1,"space-y-2","mt-4","w-full"],[1,"mt-6","flex","justify-end"],["type","button",1,"px-5","py-3","text-black","font-semibold","mt-5",3,"click","disabled"],[1,"text-red-900","bg-red-200","p-2","rounded-sm","text-sm","mt-1"],[1,"px-3","py-2","rounded-[3px]","flex","items-center","gap-2","text-sm",2,"background-color","var(--inputColor)"],[1,"whitespace-nowrap"],["type","button",1,"ml-1","no-after-button","rounded-[3px]","px-1",3,"click"],[1,"fa-solid","fa-xmark","text-[12px]"],[1,"mb-10"],["alt","Profile Preview",1,"w-[200px]","object-cover",3,"src"],[1,"flex","justify-between","items-center","p-3","rounded-lg","w-full",2,"background-color","var(--inputColor)"],[1,"truncate"],[1,"text-main","mr-2","span-color"],["target","_blank",1,"underline","block","truncate","pt-2",3,"href"],["type","button",1,"ml-4","px-1","rounded-[3px]","no-after-button",3,"click"]],template:function(e,i){if(e&1){let r=mt();E(0,"form",3)(1,"div",4)(2,"h2",5),$(3," Personal Information "),A(),E(4,"div",6)(5,"div")(6,"label",7),$(7,"Full Name (two words)"),A(),ve(8,"input",8),A(),E(9,"div")(10,"label",7),$(11,"Username (one word)"),A(),ve(12,"input",9),tt(13,tH,2,0,"div",10),A(),E(14,"div")(15,"label",7),$(16,"Email"),A(),ve(17,"input",11),A(),E(18,"div")(19,"label",7),$(20,"Phone"),A(),ve(21,"input",12),A(),E(22,"div")(23,"label",7),$(24,"Location"),A(),ve(25,"input",13),A(),E(26,"div")(27,"label",7),$(28,"Main Job Title (3 words)"),A(),ve(29,"input",14),A()(),E(30,"label",7),$(31,"Related Job Titles (Max 5 & Min 4)"),A(),E(32,"div",15)(33,"input",16,0),ye("keydown.enter",function(s){$e(r);let a=Sa(34);return s.preventDefault(),i.addRelatedJobTitle(a.value),qe(a.value="")}),A(),E(35,"button",17),ye("click",function(){$e(r);let s=Sa(34);return i.addRelatedJobTitle(s.value),qe(s.value="")}),$(36,` Add
`),A()(),E(37,"div",18),tt(38,nH,6,1,"ng-container",19),A(),E(39,"label",7),$(40,"Profile Image"),A(),E(41,"input",20),ye("change",function(s){return $e(r),qe(i.uploadImage(s))}),A(),tt(42,iH,2,1,"div",21),E(43,"label",7),$(44,"Social Media Links (Min 3 links)"),A(),E(45,"div",22)(46,"select",23,1)(48,"option",24),$(49,"LinkedIn"),A(),E(50,"option",25),$(51,"GitHub"),A(),E(52,"option",26),$(53,"Facebook"),A(),E(54,"option",27),$(55,"Twitter"),A()(),E(56,"div",28),ve(57,"input",29,2),E(59,"button",30),ye("click",function(){$e(r);let s=Sa(47),a=Sa(58);return i.addSocial(s.value,a.value),qe(a.value="")}),$(60," Add "),A()()(),E(61,"ul",31),tt(62,rH,9,3,"ng-container",19),A(),E(63,"div",32)(64,"button",33),ye("click",function(){return $e(r),qe(i.saveData())}),$(65,` Save Data
`),A()()()()}if(e&2){let r;le("formGroup",i.form),U(13),le("ngIf",((r=i.form.get("username"))==null?null:r.touched)&&((r=i.form.get("username"))==null||r.errors==null?null:r.errors.usernameTaken)&&((r=i.form.get("username"))==null?null:r.value)!==i.currentUsername),U(22),le("disabled",i.relatedJobTitlesArray.length>=5),U(3),le("ngForOf",i.relatedJobTitlesArray.controls),U(4),le("ngIf",i.profileImagePreview),U(20),le("ngForOf",i.socialLinksArray.controls),U(2),le("disabled",i.form.invalid)}},dependencies:[zt,fr,Zn,Dr,xr,BR,$R,Qi,Ir,Cr,Zi,cr],styles:[".social-options[_ngcontent-%COMP%]{background-color:var(--cardColor)!important;cursor:pointer}"]})};var sH=()=>["mainDescription","howIGotHere","additional1","additional2"];function aH(n,t){if(n&1){let e=mt();E(0,"span",13)(1,"span",14),$(2),A(),E(3,"button",15),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeInspiringWord(r))}),ve(4,"i",16),A()()}if(n&2){let e=t.$implicit;U(2),gt(e)}}function lH(n,t){if(n&1&&(E(0,"div",19),$(1),A()),n&2){let e=Re().$implicit,i=Re();U(),et(" Must be 30-100 words (current: ",i.wordCount(e),") ")}}function cH(n,t){if(n&1){let e=mt();zs(0),E(1,"label",4),$(2),A(),E(3,"textarea",17),ye("input",function(r){$e(e);let o=Re();return qe(o.autoResize(r))}),A(),tt(4,lH,2,1,"div",18),$s()}if(n&2){let e,i=t.$implicit,r=t.index,o=Re();U(2),et(" ",i==="mainDescription"?"Main Description":i==="howIGotHere"?"How I Got Here":"Additional Description - Paragraph "+(r-2+1)," "),U(),le("formControlName",i),U(),le("ngIf",((e=o.form.get(i))==null?null:e.errors)&&((e=o.form.get(i))==null?null:e.touched))}}var R1=class n{constructor(t,e,i,r,o){this.fb=t;this.aboutService=e;this.auth=i;this.uiService=r;this.dataCheck=o}form;inspiringWordControl;inspiringWords=[];userId=null;subs=new lc;resizeTimeout;textareaElements=[];ngOnInit(){this.form=this.fb.group({mainDescription:["",[ot.required,this.wordCountValidator(30,100)]],howIGotHere:["",[ot.required,this.wordCountValidator(30,100)]],additional1:["",[ot.required,this.wordCountValidator(30,100)]],additional2:["",[ot.required,this.wordCountValidator(30,100)]]}),this.inspiringWordControl=new Ds("",[ot.required,ot.minLength(2)]);let t=this.auth.currentUser$.subscribe(e=>j(this,null,function*(){e&&(this.userId=e.uid,yield this.loadData())}));this.subs.add(t)}ngAfterViewInit(){this.resizeTimeout=setTimeout(()=>this.autoResizeAll(),0)}wordCountValidator(t,e){return i=>{if(!i.value||!i.value.trim())return{required:!0};let r=i.value.trim().split(/\s+/).length;return r<t?{minWords:r}:r>e?{maxWords:r}:null}}loadData(){return j(this,null,function*(){if(!this.userId)return;let t=yield this.aboutService.getAbout(this.userId);t&&(this.inspiringWords=t.inspiringWords||[],this.form.patchValue({mainDescription:t.mainDescription||"",howIGotHere:t.howIGotHere||"",additional1:t.additionalDescription?.paragraph1||"",additional2:t.additionalDescription?.paragraph2||""}),this.resizeTimeout=setTimeout(()=>this.autoResizeAll(),50))})}addInspiringWord(){let t=this.inspiringWordControl.value?.trim();!t||this.inspiringWords.length>=4||(this.inspiringWords.some(e=>e.toLowerCase()===t.toLowerCase())||this.inspiringWords.push(t),this.inspiringWordControl.setValue(""))}removeInspiringWord(t){this.inspiringWords.splice(t,1)}getPayload(){return{inspiringWords:this.inspiringWords,mainDescription:this.form.value.mainDescription,howIGotHere:this.form.value.howIGotHere,additionalDescription:{paragraph1:this.form.value.additional1,paragraph2:this.form.value.additional2}}}save(){return j(this,null,function*(){if(!(!this.userId||this.form.invalid||this.inspiringWords.length<2)){this.uiService.showLoader();try{yield this.aboutService.saveAbout(this.userId,this.getPayload()),yield this.dataCheck.checkAllData(this.userId),this.uiService.hideLoader(),this.uiService.showSuccess()}catch(t){this.uiService.hideLoader(),console.error(t),alert("An error occurred while saving data.")}}})}canSave(){return this.form.valid&&this.inspiringWords.length>=2&&this.inspiringWords.length<=4}wordCount(t){let e=this.form.get(t)?.value||"";return e.trim()?e.trim().split(/\s+/).length:0}autoResize(t){let e=t.target;e.style.height="auto",e.style.height=e.scrollHeight+"px"}autoResizeAll(){this.textareaElements=Array.from(document.querySelectorAll("textarea")),this.textareaElements.forEach(t=>{t.style.overflow="hidden",t.style.height="auto",t.style.height=t.scrollHeight+"px"})}ngOnDestroy(){this.subs.unsubscribe(),this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.textareaElements=[],this.form.reset(),this.inspiringWords=[],this.inspiringWordControl.reset()}static \u0275fac=function(e){return new(e||n)(ie(Tr),ie(Ji),ie(ri),ie(Ar),ie(Er))};static \u0275cmp=Qe({type:n,selectors:[["app-admin-about"]],decls:17,vars:7,consts:[[1,"min-h-screen","w-full","bg-black","text-white","lg:px-6","md:px-4","px-2","py-6","flex","justify-center","items-start"],[1,"w-full","py-10","lg:px-6","md:px-4","px-2","rounded-[7px]","shadow-xl",2,"background-color","var(--sectionColor)"],[1,"lg:text-[1.7rem]","md:text-[1.5rem]","text-[1.3rem]","font-bold","mb-10","span-color"],[3,"formGroup"],[1,"block","mb-2","font-semibold"],[1,"flex","items-center","gap-3","mb-3"],["type","text","placeholder","Creative, Problem Solver, etc...",1,"flex-1","p-3","form-control",3,"keydown.enter","formControl"],["type","button",1,"px-4","py-2","no-after-button",3,"click","disabled"],[1,"flex","flex-wrap","gap-2","mb-6"],["class","px-3 py-2 rounded-[3px] flex items-center gap-2 text-sm","style","background-color: var(--inputColor);",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"mt-6","flex","justify-end"],["type","button",1,"px-5","py-3","text-black","font-semibold","mt-5",3,"click","disabled"],[1,"px-3","py-2","rounded-[3px]","flex","items-center","gap-2","text-sm",2,"background-color","var(--inputColor)"],[1,"whitespace-nowrap"],["type","button",1,"ml-1","no-after-button","rounded-[3px]","px-1",3,"click"],[1,"fa-solid","fa-xmark","text-[12px]"],["rows","2","placeholder","Write here...",1,"w-full","p-3","form-control","mb-2",3,"input","formControlName"],["class","text-red-900 bg-red-200 p-2 rounded-sm mb-3",4,"ngIf"],[1,"text-red-900","bg-red-200","p-2","rounded-sm","mb-3"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"div",1)(2,"h2",2),$(3," About Information "),A(),E(4,"form",3)(5,"label",4),$(6,"Inspiring Words (Min two words)"),A(),E(7,"div",5)(8,"input",6),ye("keydown.enter",function(o){return o.preventDefault(),i.addInspiringWord()}),A(),E(9,"button",7),ye("click",function(){return i.addInspiringWord()}),$(10,"Add"),A()(),E(11,"div",8),tt(12,aH,5,1,"span",9),A(),tt(13,cH,5,3,"ng-container",10),E(14,"div",11)(15,"button",12),ye("click",function(){return i.save()}),$(16," Save About Info "),A()()()()()),e&2&&(U(4),le("formGroup",i.form),U(4),le("formControl",i.inspiringWordControl),U(),le("disabled",i.inspiringWords.length>=4),U(3),le("ngForOf",i.inspiringWords),U(),le("ngForOf",Gn(6,sH)),U(2),le("disabled",!i.canSave()))},dependencies:[zt,fr,Zn,Dr,xr,Qi,Ir,Cr,_m,Zi,cr],encapsulation:2})};function uH(n,t){n&1&&(E(0,"div",33),$(1," Description must be between 10 and 25 words. "),A())}function dH(n,t){if(n&1){let e=mt();E(0,"div",34)(1,"div",35)(2,"div")(3,"h3",36),$(4),A(),E(5,"p",37),$(6),A(),E(7,"p",38),$(8),A()(),E(9,"button",39),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeExperience(r))}),ve(10,"i",40),A()()()}if(n&2){let e=t.$implicit;U(4),gt(e.value.companyName),U(2),wf("",e.value.role," (",e.value.startDate," - ",e.value.endDate,")"),U(2),gt(e.value.description)}}function hH(n,t){if(n&1){let e=mt();E(0,"span",41),$(1),E(2,"button",39),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeSkill(r))}),ve(3,"i",40),A()()}if(n&2){let e=t.$implicit;U(),et(" ",e.value," ")}}function fH(n,t){n&1&&(E(0,"div",33),$(1," Description must be between 20 and 30 words. "),A())}function pH(n,t){if(n&1){let e=mt();E(0,"div",34)(1,"div",35)(2,"div")(3,"h3",42),$(4),A(),E(5,"p",43),$(6),A(),E(7,"p",44),$(8),A()(),E(9,"button",39),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeEducation(r))}),ve(10,"i",40),A()()()}if(n&2){let e=t.$implicit;U(4),gt(e.value.institution),U(2),wf("",e.value.degree," (",e.value.start," - ",e.value.end,")"),U(2),gt(e.value.description)}}function mH(n,t){if(n&1){let e=mt();E(0,"div",45),ve(1,"img",46),E(2,"button",47),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeCert(r))}),ve(3,"i",48),A()()}if(n&2){let e=t.$implicit;U(),le("src",e.value,Dt)}}var N1=class n{constructor(t,e,i,r,o,s){this.fb=t;this.expService=e;this.auth=i;this.el=r;this.uiService=o;this.dataCheck=s}form;userId=null;subs=new lc;resizeTimeout=null;textareaElements=[];fileReaders=[];ngOnInit(){this.form=this.fb.group({experiences:this.fb.array([],ot.required),skills:this.fb.array([],[ot.required,this.minLengthArray(6)]),education:this.fb.array([],ot.required),certifications:this.fb.array([],ot.required),experienceInput:this.fb.group({companyName:["",ot.required],role:["",ot.required],startDate:["",ot.required],endDate:["",ot.required],description:["",[ot.required,this.wordCountValidator(10,25)]]}),skillInput:[""],educationInput:this.fb.group({institution:["",ot.required],degree:["",ot.required],start:["",ot.required],end:["",ot.required],description:["",[ot.required,this.wordCountValidator(10,25)]]})});let t=this.auth.currentUser$.subscribe(e=>j(this,null,function*(){e&&(this.userId=e.uid,yield this.loadData(),this.cacheTextareaElements(),this.scheduleAutoResize(0))}));this.subs.add(t)}wordCountValidator(t,e){return i=>{let r=i.value?.trim();if(!r)return{wordCount:!0};let o=r.split(/\s+/).length;return o<t||o>e?{wordCount:!0}:null}}minLengthArray(t){return e=>e.length<t?{minLengthArray:!0}:null}get experiences(){return this.form.get("experiences")}get skills(){return this.form.get("skills")}get education(){return this.form.get("education")}get certifications(){return this.form.get("certifications")}get descriptionControl(){return this.form.get("experienceInput.description")}get canSave(){return this.experiences.length>0&&this.education.length>0&&this.skills.length>=6&&this.certifications.length>0}cacheTextareaElements(){try{this.textareaElements=Array.from(this.el.nativeElement.querySelectorAll('textarea[formcontrolname="description"]'))}catch{this.textareaElements=[]}}scheduleAutoResize(t=50){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>this.autoResize(),t)}autoResize(){(!this.textareaElements||this.textareaElements.length===0)&&this.cacheTextareaElements(),this.textareaElements.forEach(t=>{try{t.style.height="auto",t.style.height=t.scrollHeight+"px"}catch{}})}loadData(){return j(this,null,function*(){if(!this.userId)return;let t=yield this.expService.getExperience(this.userId);t&&(this.experiences.clear(),(t.experiences||[]).forEach(e=>{this.experiences.push(this.fb.group(e))}),this.skills.clear(),(t.skills||[]).forEach(e=>this.skills.push(this.fb.control(e))),this.education.clear(),(t.education||[]).forEach(e=>this.education.push(this.fb.group(e))),this.certifications.clear(),(t.certifications||[]).forEach(e=>this.certifications.push(this.fb.control(e))),this.scheduleAutoResize(50))})}addExperience(){let t=this.form.get("experienceInput");if(t.invalid){t.markAllAsTouched();return}this.experiences.push(this.fb.group(t.value)),t.reset(),this.cacheTextareaElements(),this.scheduleAutoResize(0)}removeExperience(t){this.experiences.removeAt(t)}addSkill(){let t=this.form.value.skillInput?.trim();t&&(this.skills.value.includes(t)||this.skills.push(this.fb.control(t)),this.form.patchValue({skillInput:""}))}removeSkill(t){this.skills.removeAt(t)}addEducation(){let t=this.form.get("educationInput");if(t.invalid){t.markAllAsTouched();return}this.education.push(this.fb.group(t.value)),t.reset()}removeEducation(t){this.education.removeAt(t)}uploadCert(t){if(this.certifications.length>=3)return;let e=t.target,i=e.files?.[0];if(!i)return;let r=new FileReader;this.fileReaders.push(r),r.onload=()=>{this.certifications.push(this.fb.control(r.result));let o=this.fileReaders.indexOf(r);o>=0&&this.fileReaders.splice(o,1)},r.onerror=()=>{let o=this.fileReaders.indexOf(r);o>=0&&this.fileReaders.splice(o,1),console.error("FileReader error",r.error)},r.readAsDataURL(i);try{e.value=""}catch{}}removeCert(t){this.certifications.removeAt(t)}save(){return j(this,null,function*(){if(!this.userId){alert("User not logged in");return}if(!this.canSave){alert("Please complete all required fields");return}this.uiService.showLoader();let t={experiences:this.experiences.value,skills:this.skills.value,education:this.education.value,certifications:this.certifications.value};try{yield this.expService.saveExperience(this.userId,t),yield this.dataCheck.checkAllData(this.userId),this.uiService.hideLoader(),this.uiService.showSuccess()}catch(e){this.uiService.hideLoader(),console.error(e),alert("An error occurred while saving data.")}})}ngOnDestroy(){this.subs.unsubscribe(),this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.fileReaders.forEach(t=>{try{t.onload=null,t.onerror=null,typeof t.abort=="function"&&t.abort()}catch{}}),this.fileReaders=[],this.textareaElements=[];try{this.experiences.clear(),this.skills.clear(),this.education.clear(),this.certifications.clear()}catch{}try{this.form.reset()}catch{}this.userId=null}static \u0275fac=function(e){return new(e||n)(ie(Tr),ie(Zr),ie(ri),ie(sr),ie(Ar),ie(Er))};static \u0275cmp=Qe({type:n,selectors:[["app-admin-experience"]],decls:73,vars:10,consts:[[1,"min-h-screen","w-full","bg-black","text-white","lg:px-6","md:px-4","px-2","py-6","flex","justify-center","items-start"],[1,"w-full","py-10","lg:px-6","md:px-4","px-2","rounded-[7px]","shadow-xl",2,"background-color","var(--sectionColor)"],[1,"lg:text-[1.7rem]","md:text-[1.5rem]","text-[1.3rem]","font-bold","mb-10","span-color"],[3,"formGroup"],[1,"text-xl","font-bold","mb-4","span-color"],["formGroupName","experienceInput"],[1,"block","mb-2","font-semibold"],["type","text","formControlName","companyName","placeholder","Company Name",1,"w-full","p-3","form-control","mb-6"],["type","text","formControlName","role","placeholder","Front End Developer",1,"w-full","p-3","form-control","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","date","formControlName","startDate",1,"w-full","p-3","form-control","mb-6"],["type","date","formControlName","endDate",1,"w-full","p-3","form-control","mb-6"],["rows","4","formControlName","description","placeholder","Describe your role...",1,"w-full","p-3","form-control","mb-2",3,"input"],["class","text-red-900 bg-red-200 p-2 rounded-sm mb-6 text-sm",4,"ngIf"],["type","button",1,"px-4","py-2","no-after-button","mb-8",3,"click","disabled"],[1,"space-y-4","mb-10"],["class","p-4 rounded-lg","style","background-color: var(--inputColor);",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-3","mb-3"],["type","text","formControlName","skillInput","placeholder","Angular, TypeScript...",1,"flex-1","p-3","form-control",3,"keydown.enter"],["type","button",1,"px-4","py-2","no-after-button",3,"click"],[1,"flex","flex-wrap","gap-2","mb-8"],["class","px-3 py-2 rounded flex items-center gap-2 text-sm","style","background-color: var(--inputColor);",4,"ngFor","ngForOf"],["formGroupName","educationInput"],["type","text","formControlName","institution","placeholder","University Name",1,"w-full","p-3","form-control","mb-6"],["type","text","formControlName","degree","placeholder","Bachelor of Engineering...",1,"w-full","p-3","form-control","mb-6"],["type","number","formControlName","start",1,"w-full","p-3","form-control","mb-6"],["type","number","formControlName","end",1,"w-full","p-3","form-control","mb-6"],["formControlName","description","rows","4","placeholder","Describe your education...",1,"w-full","p-3","form-control","mb-2",3,"input"],["type","file",1,"w-full","p-3","form-control","mb-6",3,"change"],[1,"flex","gap-4","flex-wrap"],["class","relative w-32 h-32",4,"ngFor","ngForOf"],[1,"mt-6","flex","justify-end"],[1,"px-5","py-3","text-black","font-semibold","mt-5","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"text-red-900","bg-red-200","p-2","rounded-sm","mb-6","text-sm"],[1,"p-4","rounded-lg",2,"background-color","var(--inputColor)"],[1,"flex","justify-between","items-center"],[1,"font-bold","text-main","text-lg","span-color"],[1,"text-[17px]","text-blue-300"],[1,"text-sm","mt-1"],[1,"no-after-button","px-1",3,"click"],[1,"fa-solid","fa-xmark","text-[12px]"],[1,"px-3","py-2","rounded","flex","items-center","gap-2","text-sm",2,"background-color","var(--inputColor)"],[1,"font-bold","text-main","span-color"],[1,"text-[17px]"],[1,"text-[15px]","pt-2"],[1,"relative","w-32","h-32"],[1,"w-full","h-full","object-cover","rounded",3,"src"],[1,"absolute","top-1","right-1","no-after-button","px-1","rounded","bg-black/60",3,"click"],[1,"fa-solid","fa-xmark","text-[14px]","text-white"]],template:function(e,i){if(e&1&&(E(0,"div",0)(1,"div",1)(2,"h2",2),$(3," Experience Information "),A(),E(4,"form",3)(5,"h3",4),$(6,"Experiences"),A(),E(7,"div",5)(8,"label",6),$(9,"Company Name"),A(),ve(10,"input",7),E(11,"label",6),$(12,"Role"),A(),ve(13,"input",8),E(14,"div",9)(15,"div")(16,"label",6),$(17,"Start Date"),A(),ve(18,"input",10),A(),E(19,"div")(20,"label",6),$(21,"End Date"),A(),ve(22,"input",11),A()(),E(23,"label",6),$(24,"Description"),A(),E(25,"textarea",12),ye("input",function(){return i.autoResize()}),A(),tt(26,uH,2,0,"div",13),E(27,"button",14),ye("click",function(){return i.addExperience()}),$(28,` Add Experience
`),A()(),E(29,"div",15),tt(30,dH,11,5,"div",16),A(),E(31,"h3",4),$(32,"Skills (Min 6)"),A(),E(33,"div",17)(34,"input",18),ye("keydown.enter",function(o){return o.preventDefault(),i.addSkill()}),A(),E(35,"button",19),ye("click",function(){return i.addSkill()}),$(36," Add "),A()(),E(37,"div",20),tt(38,hH,4,1,"span",21),A(),E(39,"h3",4),$(40,"Education"),A(),E(41,"div",22)(42,"label",6),$(43,"Institution"),A(),ve(44,"input",23),E(45,"label",6),$(46,"Degree"),A(),ve(47,"input",24),E(48,"div",9)(49,"div")(50,"label",6),$(51,"Start"),A(),ve(52,"input",25),A(),E(53,"div")(54,"label",6),$(55,"End"),A(),ve(56,"input",26),A()(),E(57,"label",6),$(58,"Description"),A(),E(59,"textarea",27),ye("input",function(){return i.autoResize()}),A(),tt(60,fH,2,0,"div",13),E(61,"button",14),ye("click",function(){return i.addEducation()}),$(62,` Add Education
`),A()(),E(63,"div",15),tt(64,pH,11,5,"div",16),A(),E(65,"h3",4),$(66,"Certifications (Max 3)"),A(),E(67,"input",28),ye("change",function(o){return i.uploadCert(o)}),A(),E(68,"div",29),tt(69,mH,4,1,"div",30),A(),E(70,"div",31)(71,"button",32),ye("click",function(){return i.save()}),$(72," Save Data "),A()()()()()),e&2){let r,o,s;U(4),le("formGroup",i.form),U(22),le("ngIf",i.descriptionControl.touched&&(i.descriptionControl.errors==null?null:i.descriptionControl.errors.wordCount)),U(),le("disabled",(r=i.form.get("experienceInput"))==null?null:r.invalid),U(3),le("ngForOf",i.experiences.controls),U(8),le("ngForOf",i.skills.controls),U(22),le("ngIf",((o=i.form.get("educationInput.description"))==null?null:o.touched)&&((o=i.form.get("educationInput.description"))==null||o.errors==null?null:o.errors.wordCount)),U(),le("disabled",(s=i.form.get("educationInput"))==null?null:s.invalid),U(3),le("ngForOf",i.education.controls),U(5),le("ngForOf",i.certifications.controls),U(2),le("disabled",!i.canSave)}},dependencies:[zt,fr,Zn,Dr,xr,Qi,F5,Ir,Cr,Zi,cr,P1],encapsulation:2})};var gH=["autoResizeTextArea"];function vH(n,t){n&1&&(E(0,"div",25),$(1," Project title is required. "),A())}function yH(n,t){if(n&1&&(E(0,"div",25),$(1),A()),n&2){let e=Re();U(),et(" Description must be 40-200 words (current: ",e.wordCount("projectDescription"),") ")}}function _H(n,t){if(n&1){let e=mt();E(0,"span",26),$(1),E(2,"button",27),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeSkill(r))}),ve(3,"i",28),A()()}if(n&2){let e=t.$implicit;U(),et(" ",e," ")}}function wH(n,t){if(n&1&&(E(0,"div",25),$(1),A()),n&2){let e=Re();U(),et(" Minimum 6 skills required (current: ",e.skillsControl.value.length,") ")}}function bH(n,t){if(n&1){let e=mt();E(0,"div",29),ve(1,"img",30),E(2,"button",31),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeImage(r))}),ve(3,"i",32),A()()}if(n&2){let e=t.$implicit;U(),le("src",e,Dt)}}function SH(n,t){if(n&1&&(E(0,"div",25),$(1),A()),n&2){let e=Re();U(),et(" Maximum 3 images allowed (current: ",e.galleryControl.value.length,") ")}}function EH(n,t){if(n&1){let e=mt();E(0,"span",26),$(1),E(2,"button",27),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeFeature(r))}),ve(3,"i",28),A()()}if(n&2){let e=t.$implicit;U(),et(" ",e," ")}}function AH(n,t){if(n&1&&(E(0,"div",25),$(1),A()),n&2){let e=Re();U(),et(" Minimum 3 features required (current: ",e.featuresControl.value.length,`)
`)}}function IH(n,t){if(n&1){let e=mt();E(0,"button",33),ye("click",function(){$e(e);let r=Re();return qe(r.addProject())}),$(1,` Add Project
`),A()}if(n&2){let e=Re();le("disabled",!e.canAddProject())}}function CH(n,t){if(n&1){let e=mt();E(0,"button",34),ye("click",function(){$e(e);let r=Re();return qe(r.updateProject())}),$(1,` Update Project
`),A()}if(n&2){let e=Re();le("disabled",!e.canUpdateProject())}}function xH(n,t){if(n&1&&(E(0,"p",54)(1,"strong"),$(2,"Live:"),A(),E(3,"a",55),$(4),A()()),n&2){let e=Re().$implicit;U(3),le("href",e.liveLink,Dt),U(),gt(e.liveLink)}}function TH(n,t){if(n&1&&(E(0,"span",56),$(1),A()),n&2){let e=t.$implicit;U(),et(" ",e," ")}}function DH(n,t){if(n&1&&(E(0,"li",57),$(1),A()),n&2){let e=t.$implicit;U(),et(" \u2022 ",e," ")}}function PH(n,t){if(n&1&&ve(0,"img",58),n&2){let e=t.$implicit;le("src",e,Dt)}}function kH(n,t){if(n&1){let e=mt();E(0,"div",38)(1,"div",39)(2,"div",40)(3,"h3",41),$(4),A(),E(5,"p",42),$(6),A(),E(7,"p",43),$(8),A(),tt(9,xH,5,2,"p",44),E(10,"div",45),tt(11,TH,2,1,"span",46),A(),E(12,"ul",47),tt(13,DH,2,1,"li",48),A(),E(14,"div",49),tt(15,PH,1,1,"img",50),A()(),E(16,"button",51),ye("click",function(){let r=$e(e).index,o=Re(2);return qe(o.editProject(r))}),ve(17,"i",52),A(),E(18,"button",53),ye("click",function(){let r=$e(e).index,o=Re(2);return qe(o.removeProject(r))}),ve(19,"i",28),A()()()}if(n&2){let e=t.$implicit;U(4),gt(e.projectTitle),U(2),et("ID: ",e.id),U(2),gt(e.projectDescription),U(),le("ngIf",e.liveLink),U(2),le("ngForOf",e.skills),U(2),le("ngForOf",e.features),U(2),le("ngForOf",e.gallery)}}function RH(n,t){if(n&1&&(E(0,"div",35)(1,"h3",36),$(2,"Added Projects"),A(),tt(3,kH,20,7,"div",37),A()),n&2){let e=Re();U(3),le("ngForOf",e.projects)}}var O1=class n{constructor(t,e,i,r,o){this.fb=t;this.projectsService=e;this.auth=i;this.uiService=r;this.dataCheck=o}form;skillsControl;galleryControl;featuresControl;projects=[];userId=null;editingIndex=null;destroy$=new Nt;textareas;ngOnInit(){this.skillsControl=new Ds([],[ot.required,this.minArrayLengthValidator(6)]),this.galleryControl=new Ds([],[this.maxArrayLengthValidator(3)]),this.featuresControl=new Ds([],[ot.required,this.minArrayLengthValidator(3)]),this.form=this.fb.group({projectTitle:["",ot.required],projectDescription:["",[ot.required,this.wordCountValidator(40,200)]],liveLink:[""],skills:this.skillsControl,gallery:this.galleryControl,features:this.featuresControl}),this.auth.currentUser$.pipe(Li(this.destroy$)).subscribe(t=>j(this,null,function*(){t&&(this.userId=t.uid,yield this.loadData())}))}ngAfterViewInit(){setTimeout(()=>this.autoResizeAll(),0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.form.reset(),this.skillsControl.setValue([]),this.galleryControl.setValue([]),this.projects=[]}wordCountValidator(t,e){return i=>{if(!i.value||!i.value.trim())return{required:!0};let r=i.value.trim().split(/\s+/).length;return r<t?{minWords:r}:r>e?{maxWords:r}:null}}minArrayLengthValidator(t){return e=>{let i=e.value||[];return i.length<t?{minArray:{length:i.length}}:null}}maxArrayLengthValidator(t){return e=>{let i=e.value||[];return i.length>t?{maxArray:{length:i.length}}:null}}loadData(){return j(this,null,function*(){if(!this.userId)return;let t=yield this.projectsService.getProjects(this.userId);t?.projects&&(this.projects=t.projects)})}addSkill(t){let e=t.trim();if(!e)return;let i=[...this.skillsControl.value];i.some(r=>r.toLowerCase()===e.toLowerCase())||(i.push(e),this.skillsControl.setValue(i))}removeSkill(t){let e=[...this.skillsControl.value];e.splice(t,1),this.skillsControl.setValue(e)}uploadImage(t){let i=t.target.files?.[0];if(!i)return;let r=new FileReader;r.onload=()=>{let o=[...this.galleryControl.value];o.length<3&&(o.push(r.result),this.galleryControl.setValue(o))},r.readAsDataURL(i)}removeImage(t){let e=[...this.galleryControl.value];e.splice(t,1),this.galleryControl.setValue(e)}addFeature(t){let e=t.trim();if(!e)return;let i=[...this.featuresControl.value];i.push(e),this.featuresControl.setValue(i)}removeFeature(t){let e=[...this.featuresControl.value];e.splice(t,1),this.featuresControl.setValue(e)}addProject(){if(this.form.invalid)return;let t=ze({id:crypto.randomUUID()},this.form.value);this.projects.push(t),this.form.reset(),this.skillsControl.setValue([]),this.galleryControl.setValue([]),this.featuresControl.setValue([])}removeProject(t){this.projects.splice(t,1)}saveAllProjects(){return j(this,null,function*(){if(this.userId){this.uiService.showLoader();try{yield this.projectsService.saveProjects(this.userId,{projects:this.projects}),yield this.dataCheck.checkAllData(this.userId),this.uiService.hideLoader(),this.uiService.showSuccess()}catch(t){this.uiService.hideLoader(),console.error(t),alert("An error occurred while saving data.")}}})}canAddProject(){return this.form.valid}wordCount(t){let e=this.form.get(t)?.value||"";return e.trim()?e.trim().split(/\s+/).length:0}editProject(t){let e=this.projects[t];this.editingIndex=t,this.form.patchValue({projectTitle:e.projectTitle,projectDescription:e.projectDescription,liveLink:e.liveLink}),this.skillsControl.setValue([...e.skills]),this.galleryControl.setValue([...e.gallery]),this.featuresControl.setValue([...e.features]),window.scrollTo({top:300,behavior:"smooth"})}updateProject(){this.form.invalid||this.editingIndex===null||(this.projects[this.editingIndex]=ze({id:this.projects[this.editingIndex].id},this.form.value),this.editingIndex=null,this.form.reset(),this.skillsControl.setValue([]),this.galleryControl.setValue([]),this.featuresControl.setValue([]))}canUpdateProject(){return this.form.valid&&this.editingIndex!==null}autoResize(t){let e=t.target;e.style.height="auto",e.style.height=e.scrollHeight+"px"}autoResizeAll(){this.textareas?.forEach(t=>{let e=t.nativeElement;e.style.overflow="hidden",e.style.height="auto",e.style.height=e.scrollHeight+"px"})}static \u0275fac=function(e){return new(e||n)(ie(Tr),ie(Po),ie(ri),ie(Ar),ie(Er))};static \u0275cmp=Qe({type:n,selectors:[["app-admin-projects"]],viewQuery:function(e,i){if(e&1&&ws(gH,5),e&2){let r;Kr(r=Yr())&&(i.textareas=r)}},decls:48,vars:13,consts:[["skillInputRef",""],["featureInputRef",""],[1,"min-h-screen","w-full","bg-black","text-white","lg:px-6","md:px-4","px-2","py-6","flex","justify-center","items-start"],[1,"w-full","py-10","lg:px-6","md:px-4","px-2","rounded-[7px]","shadow-xl",2,"background-color","var(--sectionColor)"],[1,"lg:text-[1.7rem]","md:text-[1.5rem]","text-[1.3rem]","font-bold","mb-10","span-color"],[3,"formGroup"],[1,"block","mb-2","font-semibold"],["type","text","formControlName","projectTitle","placeholder","My Portfolio Project",1,"w-full","p-3","form-control","mb-4"],["class","text-red-900 bg-red-200 p-2 rounded-sm mb-4",4,"ngIf"],["formControlName","projectDescription","placeholder","Describe the project...",1,"w-full","p-3","form-control","mb-2",3,"input"],["type","text","formControlName","liveLink","placeholder","https://...",1,"w-full","p-3","form-control","mb-6"],[1,"flex","items-center","gap-3","mb-3"],["type","text","placeholder","Angular, TypeScript...",1,"flex-1","p-3","form-control",3,"keydown.enter"],["type","button",1,"px-4","py-2","no-after-button",3,"click"],[1,"flex","flex-wrap","gap-2","mb-4"],["class","px-3 py-2 rounded-[3px] flex items-center gap-2 text-sm","style","background-color: var(--inputColor);",4,"ngFor","ngForOf"],["type","file",1,"w-full","p-3","form-control","mb-4",3,"change"],[1,"flex","gap-4","flex-wrap","mb-4"],["class","relative w-32 h-32",4,"ngFor","ngForOf"],["type","text","placeholder","Responsive design, Authentication system...",1,"flex-1","p-3","form-control",3,"keydown.enter"],["type","button","class","px-5 py-3 text-black font-semibold mt-5 mb-6",3,"disabled","click",4,"ngIf"],["type","button","class","px-5 py-3  font-semibold mt-5 mb-6 ",3,"disabled","click",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"mt-6","flex","justify-end"],["type","button",1,"px-5","py-3","text-black","font-semibold","mt-5",3,"click","disabled"],[1,"text-red-900","bg-red-200","p-2","rounded-sm","mb-4"],[1,"px-3","py-2","rounded-[3px]","flex","items-center","gap-2","text-sm",2,"background-color","var(--inputColor)"],["type","button",1,"ml-1","no-after-button","px-1","rounded-[3px]",3,"click"],[1,"fa-solid","fa-xmark","text-[12px]"],[1,"relative","w-32","h-32"],[1,"w-full","h-full","object-cover","rounded",3,"src"],["type","button",1,"absolute","top-1","right-1","no-after-button","px-1","rounded","bg-black/60",3,"click"],[1,"fa-solid","fa-xmark","text-[14px]","text-white"],["type","button",1,"px-5","py-3","text-black","font-semibold","mt-5","mb-6",3,"click","disabled"],["type","button",1,"px-5","py-3","font-semibold","mt-5","mb-6",3,"click","disabled"],[1,"space-y-4"],[1,"text-lg","font-bold","mb-3"],["class","p-4 rounded-lg","style","background-color: var(--inputColor);",4,"ngFor","ngForOf"],[1,"p-4","rounded-lg",2,"background-color","var(--inputColor)"],[1,"flex","justify-between","items-start"],[1,"w-full"],[1,"font-bold","text-main","text-lg","span-color"],[1,"text-[16px]"],[1,"text-sm","my-1"],["class","text-sm mb-2",4,"ngIf"],[1,"flex","flex-wrap","gap-2","my-4"],["class","px-3 py-1 rounded text-xs","style","background-color: var(--sectionColor);",4,"ngFor","ngForOf"],[1,"my-2"],["class","px-3 py-1 rounded text-xs",4,"ngFor","ngForOf"],[1,"flex","gap-2","flex-wrap","mt-2"],["class","w-20 h-20 object-cover rounded",3,"src",4,"ngFor","ngForOf"],[1,"no-after-button","px-2","mr-2",3,"click"],[1,"fa-solid","fa-pen-to-square","text-[12px]"],[1,"no-after-button","px-1",3,"click"],[1,"text-sm","mb-2"],["target","_blank",1,"text-blue-400",3,"href"],[1,"px-3","py-1","rounded","text-xs",2,"background-color","var(--sectionColor)"],[1,"px-3","py-1","rounded","text-xs"],[1,"w-20","h-20","object-cover","rounded",3,"src"]],template:function(e,i){if(e&1){let r=mt();E(0,"div",2)(1,"div",3)(2,"h2",4),$(3," Projects "),A(),E(4,"form",5)(5,"label",6),$(6,"Project Title"),A(),ve(7,"input",7),tt(8,vH,2,0,"div",8),E(9,"label",6),$(10,"Project Description (40-200 words)"),A(),E(11,"textarea",9),ye("input",function(s){return $e(r),qe(i.autoResize(s))}),A(),tt(12,yH,2,1,"div",8),E(13,"label",6),$(14,"Live Link (optional)"),A(),ve(15,"input",10),E(16,"label",6),$(17,"Skills (Min 6)"),A(),E(18,"div",11)(19,"input",12,0),ye("keydown.enter",function(s){$e(r);let a=Sa(20);return s.preventDefault(),i.addSkill(a.value),qe(a.value="")}),A(),E(21,"button",13),ye("click",function(){$e(r);let s=Sa(20);return i.addSkill(s.value),qe(s.value="")}),$(22,"Add"),A()(),E(23,"div",14),tt(24,_H,4,1,"span",15),A(),tt(25,wH,2,1,"div",8),E(26,"label",6),$(27,"Gallery (Max 3 Images)"),A(),E(28,"input",16),ye("change",function(s){return $e(r),qe(i.uploadImage(s))}),A(),E(29,"div",17),tt(30,bH,4,1,"div",18),A(),tt(31,SH,2,1,"div",8),E(32,"label",6),$(33,"Project Features (Min 3)"),A(),E(34,"div",11)(35,"input",19,1),ye("keydown.enter",function(s){$e(r);let a=Sa(36);return s.preventDefault(),i.addFeature(a.value),qe(a.value="")}),A(),E(37,"button",13),ye("click",function(){$e(r);let s=Sa(36);return i.addFeature(s.value),qe(s.value="")}),$(38," Add "),A()(),E(39,"div",14),tt(40,EH,4,1,"span",15),A(),tt(41,AH,2,1,"div",8)(42,IH,2,1,"button",20)(43,CH,2,1,"button",21),A(),tt(44,RH,4,1,"div",22),E(45,"div",23)(46,"button",24),ye("click",function(){return $e(r),qe(i.saveAllProjects())}),$(47," Save All Projects "),A()()()()}if(e&2){let r,o;U(4),le("formGroup",i.form),U(4),le("ngIf",((r=i.form.get("projectTitle"))==null?null:r.touched)&&((r=i.form.get("projectTitle"))==null?null:r.invalid)),U(4),le("ngIf",((o=i.form.get("projectDescription"))==null?null:o.touched)&&((o=i.form.get("projectDescription"))==null?null:o.invalid)),U(12),le("ngForOf",i.skillsControl.value),U(),le("ngIf",i.skillsControl.touched&&i.skillsControl.invalid),U(5),le("ngForOf",i.galleryControl.value),U(),le("ngIf",i.galleryControl.touched&&i.galleryControl.invalid),U(9),le("ngForOf",i.featuresControl.value),U(),le("ngIf",i.featuresControl.touched&&i.featuresControl.invalid),U(),le("ngIf",i.editingIndex===null),U(),le("ngIf",i.editingIndex!==null),U(),le("ngIf",i.projects.length>0),U(2),le("disabled",i.projects.length===0)}},dependencies:[zt,fr,Zn,Dr,xr,Qi,Ir,Cr,Zi,cr],encapsulation:2})};var NH=["autoResizeTextArea"];function OH(n,t){n&1&&(E(0,"div",20),$(1," * Title is required "),A())}function MH(n,t){if(n&1&&(E(0,"div",21),$(1),A()),n&2){let e=Re();U(),et(" Must be 15\u201325 words (current: ",e.wordCount(),") ")}}function LH(n,t){if(n&1){let e=mt();E(0,"span",22),$(1),E(2,"button",23),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeFeature(r))}),ve(3,"i",24),A()()}if(n&2){let e=t.$implicit;U(),et(" ",e," ")}}function FH(n,t){if(n&1&&(E(0,"li"),$(1),A()),n&2){let e=t.$implicit;U(),gt(e)}}function VH(n,t){if(n&1){let e=mt();E(0,"div",25)(1,"div",26)(2,"div",27)(3,"h3",28),$(4),A(),E(5,"p",29),$(6),A(),E(7,"ul",30),tt(8,FH,2,1,"li",31),A()(),E(9,"button",23),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.removeService(r))}),ve(10,"i",24),A()()()}if(n&2){let e=t.$implicit;U(4),gt(e.title),U(2),gt(e.description),U(2),le("ngForOf",e.features)}}var M1=class n{constructor(t,e,i,r,o){this.fb=t;this.serviceDB=e;this.auth=i;this.uiService=r;this.dataCheck=o}form;featureControl=new Ds("",ot.required);features=[];services=[];userId=null;destroy$=new Nt;textareas;ngOnInit(){this.form=this.fb.group({serviceTitle:["",ot.required],serviceDescription:["",[ot.required,this.wordCountValidator(15,25)]]}),this.auth.currentUser$.pipe(Li(this.destroy$)).subscribe(t=>j(this,null,function*(){t&&(this.userId=t.uid,yield this.loadData())}))}ngAfterViewInit(){setTimeout(()=>this.autoResizeAll(),100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.form.reset(),this.features=[],this.services=[]}wordCountValidator(t,e){return i=>{if(!i.value||!i.value.trim())return{required:!0};let r=i.value.trim().split(/\s+/).length;return r<t?{minWords:r}:r>e?{maxWords:r}:null}}loadData(){return j(this,null,function*(){if(!this.userId)return;let t=yield this.serviceDB.getServices(this.userId);t&&(this.services=t.services||[],setTimeout(()=>this.autoResizeAll(),50))})}addFeature(){let t=this.featureControl.value?.trim();t&&(this.features.length>=2||(this.features.some(e=>e.toLowerCase()===t.toLowerCase())||this.features.push(t),this.featureControl.setValue("")))}removeFeature(t){this.features.splice(t,1)}addService(){this.form.invalid||this.features.length!==2||(this.services.push({title:this.form.value.serviceTitle,description:this.form.value.serviceDescription,features:[...this.features]}),this.form.reset(),this.features=[],setTimeout(()=>this.autoResizeAll(),50))}removeService(t){this.services.splice(t,1)}saveData(){return j(this,null,function*(){if(!(!this.userId||this.services.length===0)){this.uiService.showLoader();try{yield this.serviceDB.saveServices(this.userId,{services:this.services}),yield this.dataCheck.checkAllData(this.userId),this.uiService.hideLoader(),this.uiService.showSuccess()}catch(t){this.uiService.hideLoader(),console.error(t),alert("Error while saving services")}}})}canSave(){return this.services.length>0}wordCount(){let t=this.form.get("serviceDescription")?.value||"";return t.trim()?t.trim().split(/\s+/).length:0}autoResize(t){let e=t.target;e.style.height="auto",e.style.height=e.scrollHeight+"px"}autoResizeAll(){this.textareas?.forEach(t=>{let e=t.nativeElement;e.style.height="auto",e.style.height=e.scrollHeight+"px"})}static \u0275fac=function(e){return new(e||n)(ie(Tr),ie(La),ie(ri),ie(Ar),ie(Er))};static \u0275cmp=Qe({type:n,selectors:[["app-admin-services"]],viewQuery:function(e,i){if(e&1&&ws(NH,5),e&2){let r;Kr(r=Yr())&&(i.textareas=r)}},decls:28,vars:9,consts:[[1,"min-h-screen","w-full","bg-black","text-white","lg:px-6","md:px-4","px-2","py-6","flex","justify-center","items-start"],[1,"w-full","py-10","lg:px-6","md:px-4","px-2","rounded-[7px]","shadow-xl",2,"background-color","var(--sectionColor)"],[1,"text-xl","font-bold","mb-6","span-color"],[3,"formGroup"],[1,"block","mb-2","font-semibold"],["type","text","formControlName","serviceTitle","placeholder","Front End Development",1,"w-full","p-3","form-control","mb-3"],["class","text-red-300 mb-3",4,"ngIf"],["formControlName","serviceDescription","rows","2","placeholder","Describe the service clearly...",1,"w-full","p-3","form-control","mb-2",3,"input"],["class","text-red-900 bg-red-200 p-2 rounded-sm mb-3",4,"ngIf"],[1,"text-lg","font-semibold","mb-2","span-color"],[1,"flex","items-center","gap-3","mb-3"],["type","text","placeholder","Responsive, SEO...",1,"flex-1","p-3","form-control",3,"keydown.enter","formControl"],["type","button",1,"px-4","py-2","no-after-button",3,"click","disabled"],[1,"flex","flex-wrap","gap-2","mb-6"],["class","px-3 py-2 rounded flex items-center gap-2 text-sm","style","background-color: var(--inputColor);",4,"ngFor","ngForOf"],["type","button",1,"px-4","py-2","no-after-button","mb-10",3,"click","disabled"],[1,"space-y-4"],["class","p-4 rounded-lg","style","background-color: var(--inputColor);",4,"ngFor","ngForOf"],[1,"mt-6","flex","justify-end"],["type","button",1,"px-5","py-3","text-black","font-semibold","mt-5",3,"click","disabled"],[1,"text-red-300","mb-3"],[1,"text-red-900","bg-red-200","p-2","rounded-sm","mb-3"],[1,"px-3","py-2","rounded","flex","items-center","gap-2","text-sm",2,"background-color","var(--inputColor)"],[1,"no-after-button","px-1",3,"click"],[1,"fa-solid","fa-xmark","text-[12px]"],[1,"p-4","rounded-lg",2,"background-color","var(--inputColor)"],[1,"flex","justify-between","items-start"],[1,"w-full"],[1,"font-bold","text-main","text-lg","span-color"],[1,"text-sm","mb-3"],[1,"list-disc","list-inside","text-sm","space-y-1"],[4,"ngFor","ngForOf"]],template:function(e,i){if(e&1&&(E(0,"div",0)(1,"div",1)(2,"h3",2),$(3,"Add Services"),A(),E(4,"form",3)(5,"label",4),$(6,"Service Title"),A(),ve(7,"input",5),tt(8,OH,2,0,"div",6),E(9,"label",4),$(10,"Service Description (15\u201325 words)"),A(),E(11,"textarea",7),ye("input",function(o){return i.autoResize(o)}),A(),tt(12,MH,2,1,"div",8),E(13,"h3",9),$(14,"Features (Exactly 2)"),A(),E(15,"div",10)(16,"input",11),ye("keydown.enter",function(o){return o.preventDefault(),i.addFeature()}),A(),E(17,"button",12),ye("click",function(){return i.addFeature()}),$(18,"Add"),A()(),E(19,"div",13),tt(20,LH,4,1,"span",14),A(),E(21,"button",15),ye("click",function(){return i.addService()}),$(22,"Add Service"),A()(),E(23,"div",16),tt(24,VH,11,3,"div",17),A(),E(25,"div",18)(26,"button",19),ye("click",function(){return i.saveData()}),$(27," Save Data "),A()()()()),e&2){let r,o;U(4),le("formGroup",i.form),U(4),le("ngIf",((r=i.form.get("serviceTitle"))==null?null:r.invalid)&&((r=i.form.get("serviceTitle"))==null?null:r.touched)),U(4),le("ngIf",((o=i.form.get("serviceDescription"))==null?null:o.errors)&&((o=i.form.get("serviceDescription"))==null?null:o.touched)),U(4),le("formControl",i.featureControl),U(),le("disabled",i.features.length>=2),U(3),le("ngForOf",i.features),U(),le("disabled",i.form.invalid||i.features.length!==2),U(3),le("ngForOf",i.services),U(2),le("disabled",!i.canSave())}},dependencies:[zt,fr,Zn,Dr,xr,Qi,Ir,Cr,_m,Zi,cr],encapsulation:2})};var jH=["autoResizeTextArea"];function UH(n,t){n&1&&(E(0,"div",13),$(1," Title is required "),A())}function BH(n,t){n&1&&(E(0,"div",13),$(1," Subtitle is required "),A())}function zH(n,t){n&1&&(E(0,"div",13),$(1," Description must be 15 - 25 words "),A())}function $H(n,t){if(n&1){let e=mt();E(0,"div",16)(1,"div",17)(2,"div")(3,"h3",18),$(4),A(),E(5,"p",19),$(6),A(),E(7,"p",20),$(8),A()(),E(9,"button",21),ye("click",function(){let r=$e(e).index,o=Re(2);return qe(o.removeBlog(r))}),ve(10,"i",22),A()()()}if(n&2){let e=t.$implicit;U(4),gt(e.value.title),U(2),gt(e.value.subtitle),U(2),gt(e.value.description)}}function qH(n,t){if(n&1&&(E(0,"div",14),tt(1,$H,11,3,"div",15),A()),n&2){let e=Re();U(),le("ngForOf",e.blogs.controls)}}var L1=class n{constructor(t,e,i,r,o){this.fb=t;this.blogService=e;this.auth=i;this.ui=r;this.dataCheck=o}form;blogs;userId=null;destroy$=new Nt;textareas;ngOnInit(){this.form=this.fb.group({blogTitle:["",ot.required],blogSubtitle:["",ot.required],blogDescription:["",[ot.required,this.wordCountValidator(15,25)]]}),this.blogs=this.fb.array([]),this.auth.currentUser$.pipe(Li(this.destroy$)).subscribe(t=>j(this,null,function*(){t&&(this.userId=t.uid,yield this.loadData())}))}ngAfterViewInit(){setTimeout(()=>this.autoResizeAll(),0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.form.reset(),this.blogs.clear()}wordCountValidator(t,e){return i=>{if(!i.value||!i.value.trim())return{required:!0};let r=i.value.trim().split(/\s+/).length;return r<t?{minWords:r}:r>e?{maxWords:r}:null}}autoResize(t){let e=t.target;e.style.height="auto",e.style.height=e.scrollHeight+"px"}autoResizeAll(){this.textareas?.forEach(t=>{let e=t.nativeElement;e.style.height="auto",e.style.height=e.scrollHeight+"px"})}addBlog(){this.form.invalid||(this.blogs.push(this.fb.group({title:this.form.value.blogTitle,subtitle:this.form.value.blogSubtitle,description:this.form.value.blogDescription})),this.form.reset(),setTimeout(()=>this.autoResizeAll(),50))}removeBlog(t){this.blogs.removeAt(t)}loadData(){return j(this,null,function*(){if(!this.userId)return;let t=yield this.blogService.getBlogs(this.userId);t&&((t.blogs||[]).forEach(e=>{this.blogs.push(this.fb.group({title:e.title,subtitle:e.subtitle,description:e.description}))}),setTimeout(()=>this.autoResizeAll(),50))})}getPayload(){return{blogs:this.blogs.value}}saveData(){return j(this,null,function*(){if(!(!this.userId||this.blogs.length===0)){this.ui.showLoader();try{yield this.blogService.saveBlogs(this.userId,this.getPayload()),yield this.dataCheck.checkAllData(this.userId),this.ui.hideLoader(),this.ui.showSuccess()}catch(t){this.ui.hideLoader(),console.error(t),alert("Error saving data")}}})}canSave(){return this.blogs.length>0}static \u0275fac=function(e){return new(e||n)(ie(Tr),ie(Va),ie(ri),ie(Ar),ie(Er))};static \u0275cmp=Qe({type:n,selectors:[["app-admin-blogs"]],viewQuery:function(e,i){if(e&1&&ws(jH,5),e&2){let r;Kr(r=Yr())&&(i.textareas=r)}},decls:23,vars:7,consts:[[1,"min-h-screen","w-full","bg-black","text-white","lg:px-6","md:px-4","px-2","py-6","flex","justify-center","items-start"],[1,"w-full","py-10","lg:px-6","md:px-4","px-2","rounded-[7px]","shadow-xl",2,"background-color","var(--sectionColor)"],[1,"text-xl","font-bold","mb-6","span-color"],[3,"formGroup"],[1,"block","mb-2","font-semibold"],["type","text","formControlName","blogTitle","placeholder","How to Learn Angular Fast...",1,"w-full","p-3","form-control","mb-2"],["class","text-red-400 mb-4",4,"ngIf"],["type","text","formControlName","blogSubtitle","placeholder","A complete guide for beginners...",1,"w-full","p-3","form-control","mb-2"],["formControlName","blogDescription","rows","2","placeholder","Write 15\u201325 words...",1,"w-full","p-3","form-control","mb-2",3,"input"],["type","button",1,"px-4","py-2","no-after-button","mb-10",3,"click","disabled"],["class","space-y-4",4,"ngIf"],[1,"mt-6","flex","justify-end"],["type","button",1,"px-5","py-3","text-black","font-semibold","mt-5",3,"click","disabled"],[1,"text-red-400","mb-4"],[1,"space-y-4"],["class","p-4 rounded-lg","style","background-color: var(--inputColor);",4,"ngFor","ngForOf"],[1,"p-4","rounded-lg",2,"background-color","var(--inputColor)"],[1,"flex","justify-between","items-start"],[1,"font-bold","text-main","text-lg","span-color"],[1,"text-sm","font-semibold","text-gray-300"],[1,"text-sm","mt-2"],[1,"no-after-button","px-1",3,"click"],[1,"fa-solid","fa-xmark","text-[12px]"]],template:function(e,i){if(e&1&&(E(0,"div",0)(1,"div",1)(2,"h3",2),$(3,"Blogs"),A(),E(4,"form",3)(5,"label",4),$(6,"Blog Title"),A(),ve(7,"input",5),tt(8,UH,2,0,"div",6),E(9,"label",4),$(10,"Blog Subtitle"),A(),ve(11,"input",7),tt(12,BH,2,0,"div",6),E(13,"label",4),$(14,"Description"),A(),E(15,"textarea",8),ye("input",function(o){return i.autoResize(o)}),A(),tt(16,zH,2,0,"div",6),E(17,"button",9),ye("click",function(){return i.addBlog()}),$(18," Add Blog "),A()(),tt(19,qH,2,1,"div",10),E(20,"div",11)(21,"button",12),ye("click",function(){return i.saveData()}),$(22," Save Data "),A()()()()),e&2){let r,o,s;U(4),le("formGroup",i.form),U(4),le("ngIf",((r=i.form.get("blogTitle"))==null?null:r.invalid)&&((r=i.form.get("blogTitle"))==null?null:r.touched)),U(4),le("ngIf",((o=i.form.get("blogSubtitle"))==null?null:o.invalid)&&((o=i.form.get("blogSubtitle"))==null?null:o.touched)),U(4),le("ngIf",((s=i.form.get("blogDescription"))==null?null:s.touched)&&((s=i.form.get("blogDescription"))==null?null:s.errors)),U(),le("disabled",i.form.invalid),U(2),le("ngIf",i.blogs.length>0),U(2),le("disabled",!i.canSave())}},dependencies:[zt,fr,Zn,Dr,xr,Qi,Ir,Cr,Zi,cr],encapsulation:2})};var HH=["autoResizeTextArea"];function WH(n,t){n&1&&(E(0,"div",18),$(1," Name is required "),A())}function GH(n,t){n&1&&(E(0,"div",18),$(1," Title is required "),A())}function KH(n,t){if(n&1&&(E(0,"div",19),$(1),A()),n&2){let e=Re();U(),et(" Must be 15\u201325 words (current: ",e.wordCount(),") ")}}function YH(n,t){if(n&1){let e=mt();E(0,"div",20),ve(1,"img",21),E(2,"button",22),ye("click",function(){$e(e);let r=Re();return qe(r.removeImage())}),$(3," Remove "),A()()}if(n&2){let e=Re();U(),le("src",e.clientImage,Dt)}}function XH(n,t){if(n&1){let e=mt();E(0,"div",15)(1,"div",23)(2,"div")(3,"div",24),ve(4,"img",25),E(5,"div")(6,"h3",26),$(7),A(),E(8,"p",27),$(9),A()()(),E(10,"p",28),$(11),A()(),E(12,"button",29),ye("click",function(){let r=$e(e).$index,o=Re();return qe(o.removeTestimonial(r))}),ve(13,"i",30),A()()()}if(n&2){let e=t.$implicit;U(4),le("src",e.image,Dt),U(3),gt(e.name),U(2),gt(e.title),U(2),gt(e.description)}}var F1=class n{constructor(t,e,i,r,o,s){this.fb=t;this.service=e;this.auth=i;this.ui=r;this.platformId=o;this.dataCheck=s}form;userId=null;testimonials=[];clientImage=null;destroy$=new Nt;textareas;ngOnInit(){this.form=this.fb.group({clientName:["",ot.required],clientTitle:["",ot.required],clientDescription:["",[ot.required,this.wordCountValidator(15,25)]]}),this.auth.currentUser$.pipe(Li(this.destroy$)).subscribe(t=>j(this,null,function*(){t&&(this.userId=t.uid,yield this.loadData())}))}ngAfterViewInit(){setTimeout(()=>this.autoResizeAll(),0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.form.reset(),this.testimonials=[],this.clientImage=null}wordCountValidator(t,e){return i=>{if(!i.value||!i.value.trim())return{required:!0};let r=i.value.trim().split(/\s+/).length;return r<t?{minWords:r}:r>e?{maxWords:r}:null}}loadData(){return j(this,null,function*(){if(!this.userId)return;let t=yield this.service.getTestimonials(this.userId);t&&t.testimonials&&(this.testimonials=t.testimonials),setTimeout(()=>this.autoResizeAll(),50)})}uploadImage(t){let i=t.target.files?.[0];if(!i)return;let r=new FileReader;r.onload=()=>this.clientImage=r.result,r.readAsDataURL(i)}removeImage(){this.clientImage=null}addTestimonial(){this.form.invalid||!this.clientImage||(this.testimonials.push({name:this.form.value.clientName,title:this.form.value.clientTitle,description:this.form.value.clientDescription,image:this.clientImage}),this.form.reset(),this.clientImage=null,setTimeout(()=>this.autoResizeAll(),50))}removeTestimonial(t){this.testimonials.splice(t,1)}getPayload(){return{testimonials:this.testimonials}}save(){return j(this,null,function*(){if(!(!this.userId||this.testimonials.length===0)){this.ui.showLoader();try{yield this.service.saveTestimonials(this.userId,this.getPayload()),yield this.dataCheck.checkAllData(this.userId),this.ui.hideLoader(),this.ui.showSuccess()}catch(t){this.ui.hideLoader(),console.error(t),alert("Error saving data")}}})}autoResize(t){let e=t.target;e.style.height="auto",e.style.height=e.scrollHeight+"px"}autoResizeAll(){this.textareas?.forEach(t=>{let e=t.nativeElement;e.style.height="auto",e.style.height=e.scrollHeight+"px"})}canSave(){return this.testimonials.length>0}wordCount(){let t=this.form.get("clientDescription")?.value||"";return t.trim()?t.trim().split(/\s+/).length:0}static \u0275fac=function(e){return new(e||n)(ie(Tr),ie(jc),ie(ri),ie(Ar),ie(vn),ie(Er))};static \u0275cmp=Qe({type:n,selectors:[["app-admin-testimonials"]],viewQuery:function(e,i){if(e&1&&ws(HH,5),e&2){let r;Kr(r=Yr())&&(i.textareas=r)}},decls:29,vars:7,consts:[[1,"min-h-screen","w-full","bg-black","text-white","lg:px-6","md:px-4","px-2","py-6","flex","justify-center","items-start"],[1,"w-full","py-10","lg:px-6","md:px-4","px-2","rounded-[7px]","shadow-xl",2,"background-color","var(--sectionColor)"],[1,"text-xl","font-bold","mb-6","span-color"],[3,"formGroup"],[1,"font-semibold","mb-1","block"],["type","text","formControlName","clientName","placeholder","Client Name",1,"form-control","p-3","w-full","mb-4"],["class","text-red-300 mb-3",4,"ngIf"],["type","text","formControlName","clientTitle","placeholder","Job title or role",1,"form-control","p-3","w-full","mb-4"],["formControlName","clientDescription","rows","2","placeholder","Write client feedback...",1,"form-control","p-3","w-full","mb-2",3,"input"],["class","text-red-900 bg-red-200 p-2 rounded-sm mb-4",4,"ngIf"],[1,"text-lg","font-bold","mb-2","span-color"],["type","file",1,"form-control","p-3","mb-4","w-full",3,"change"],["class","mb-6",4,"ngIf"],["type","button",1,"px-4","py-2","no-after-button","mb-8","block",3,"click","disabled"],[1,"space-y-4"],[1,"p-4","rounded-lg",2,"background-color","var(--inputColor)"],[1,"mt-6","flex","justify-end"],["type","button",1,"px-5","py-3","text-black","font-semibold",3,"click","disabled"],[1,"text-red-300","mb-3"],[1,"text-red-900","bg-red-200","p-2","rounded-sm","mb-4"],[1,"mb-6"],[1,"w-32","h-32","rounded","object-cover","mb-2",3,"src"],["type","button",1,"no-after-button","px-3","py-1",3,"click"],[1,"flex","justify-between","items-start"],[1,"flex","items-center","gap-3","mb-3"],[1,"w-14","h-14","rounded-full","border","object-cover",3,"src"],[1,"font-bold","text-main","text-lg","span-color"],[1,"text-sm","text-gray-300"],[1,"text-sm"],[1,"no-after-button","px-1",3,"click"],[1,"fa-solid","fa-xmark","text-[12px]"]],template:function(e,i){if(e&1&&(E(0,"div",0)(1,"div",1)(2,"h3",2),$(3,"Add Testimonial"),A(),E(4,"form",3)(5,"label",4),$(6,"Client Name"),A(),ve(7,"input",5),tt(8,WH,2,0,"div",6),E(9,"label",4),$(10,"Client Title"),A(),ve(11,"input",7),tt(12,GH,2,0,"div",6),E(13,"label",4),$(14,"Client Description"),A(),E(15,"textarea",8),ye("input",function(o){return i.autoResize(o)}),A(),tt(16,KH,2,1,"div",9),E(17,"h3",10),$(18,"Client Image"),A(),E(19,"input",11),ye("change",function(o){return i.uploadImage(o)}),A(),tt(20,YH,4,1,"div",12),E(21,"button",13),ye("click",function(){return i.addTestimonial()}),$(22," Add Testimonial "),A()(),E(23,"div",14),sn(24,XH,14,4,"div",15,Fr),A(),E(26,"div",16)(27,"button",17),ye("click",function(){return i.save()}),$(28," Save Data "),A()()()()),e&2){let r,o,s;U(4),le("formGroup",i.form),U(4),le("ngIf",((r=i.form.get("clientName"))==null?null:r.invalid)&&((r=i.form.get("clientName"))==null?null:r.touched)),U(4),le("ngIf",((o=i.form.get("clientTitle"))==null?null:o.invalid)&&((o=i.form.get("clientTitle"))==null?null:o.touched)),U(4),le("ngIf",((s=i.form.get("clientDescription"))==null?null:s.errors)&&((s=i.form.get("clientDescription"))==null?null:s.touched)),U(4),le("ngIf",i.clientImage),U(),le("disabled",i.form.invalid||!i.clientImage),U(3),an(i.testimonials),U(3),le("disabled",!i.canSave())}},dependencies:[zt,Zn,Dr,xr,Qi,Ir,Cr,Zi,cr],encapsulation:2})};function JH(n,t){if(n&1&&(E(0,"span"),$(1),A()),n&2){let e=t.$implicit;U(),et("",e,"\xA0")}}function QH(n,t){if(n&1&&(E(0,"div",6),$(1),A()),n&2){let e=Re();U(),et(" ",e.signInError," ")}}function ZH(n,t){n&1&&(E(0,"p",22),$(1,"Email is required"),A())}function eW(n,t){n&1&&(E(0,"p",22),$(1,"Invalid email"),A())}function tW(n,t){if(n&1&&(E(0,"div",9),Lt(1,ZH,2,0,"p",22),Lt(2,eW,2,0,"p",22),A()),n&2){let e,i,r=Re();U(),Ft(!((e=r.signInForm.get("email"))==null||e.errors==null)&&e.errors.required?1:-1),U(),Ft(!((i=r.signInForm.get("email"))==null||i.errors==null)&&i.errors.email?2:-1)}}function nW(n,t){if(n&1){let e=mt();E(0,"i",23),ye("click",function(){$e(e);let r=Re();return qe(r.togglePasswordVisibility())}),A()}}function iW(n,t){if(n&1){let e=mt();E(0,"i",24),ye("click",function(){$e(e);let r=Re();return qe(r.togglePasswordVisibility())}),A()}}function rW(n,t){n&1&&(E(0,"p",22),$(1,"Password is required"),A())}function oW(n,t){n&1&&(E(0,"p",22),$(1,"Password must be minimum letters is 6"),A())}function sW(n,t){if(n&1&&(E(0,"div",14),Lt(1,rW,2,0,"p",22),Lt(2,oW,2,0,"p",22),A()),n&2){let e,i,r=Re();U(),Ft(!((e=r.signInForm.get("password"))==null||e.errors==null)&&e.errors.required?1:-1),U(),Ft(!((i=r.signInForm.get("password"))==null||i.errors==null)&&i.errors.minlength?2:-1)}}var V1=class n{constructor(t,e,i,r){this.fb=t;this.router=e;this.authService=i;this.platformId=r;this.letters=this.text.split(" ")}signInForm;showPassword=!1;signInError="";resetError="";text="Make Your Portfolio";letters=[];ngOnInit(){this.signInForm=this.fb.group({email:["samar@gmail.com",[ot.required,ot.email]],password:["123456",[ot.required,ot.minLength(6)]]})}togglePasswordVisibility(){this.showPassword=!this.showPassword}signIn(){if(this.signInForm.invalid){this.signInError="Please fill in the details first.";return}let{email:t,password:e}=this.signInForm.value;this.authService.signIn(t,e).then(()=>{this.router.navigate(["/admin"]),Vt(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}).catch(i=>{i.code==="auth/invalid-credential"?this.signInError="Invalid email or password.":this.signInError="Sign in failed. Please try again later."})}signInWithGoogle(){this.authService.signInWithGoogle().then(()=>{this.router.navigate(["/admin"]),Vt(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}).catch(t=>console.error(t))}goToSignUp(){this.router.navigate(["/sign-up"]),Vt(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(e){return new(e||n)(ie(Tr),ie(gr),ie(ri),ie(vn))};static \u0275cmp=Qe({type:n,selectors:[["app-sign-in"]],decls:35,vars:7,consts:[[1,"h-[300px]","w-full","cms-header",2,"background-image","url(img/cms-header.jpg)"],[1,"overley","w-full","h-full","flex","justify-center","items-center"],[1,"text-3xl","md:text-6xl","lg:text-7xl","font-bold","text-white","animated-text"],[1,"min-h-screen","w-full","bg-black","text-white","flex","justify-center","items-start","py-6","mt-20"],[1,"w-full","md:w-2/3","lg:w-1/2","py-10","px-6","rounded","shadow-xl",2,"background-color","var(--sectionColor)"],[1,"text-2xl","md:text-3xl","font-bold","mb-8","span-color"],[1,"text-red-900","bg-red-200","p-2","mb-4","rounded"],[3,"ngSubmit","formGroup"],["type","email","formControlName","email","placeholder","Enter your email","autocomplete","email",1,"w-full","p-3","mb-4","form-control",2,"background-color","var(--inputColor)"],[1,"bg-red-200","text-red-900","my-2","rounded-sm"],[1,"relative","mb-4"],["formControlName","password","placeholder","Enter password","autocomplete","new-password",1,"w-full","p-3","form-control",2,"background-color","var(--inputColor)",3,"type"],[1,"fas","fa-eye","absolute","right-3","top-3","cursor-pointer"],[1,"fas","fa-eye-slash","absolute","right-3","top-3","cursor-pointer"],[1,"bg-red-200","text-red-900","my-2","mb-5","rounded-sm"],[1,"text-center","mt-10"],["type","submit",1,"sm:w-[80%]","w-full","py-3","mb-2"],[1,"text-center"],[1,"text-center","mb-4"],[1,"sm:w-[80%]","w-full","py-3","bg-blue-600","mb-4","text-white",3,"click"],[1,"text-center","text-[17px]"],[1,"text-blue-400","cursor-pointer",3,"click"],[1,"ms-4","text-[1rem]"],[1,"fas","fa-eye","absolute","right-3","top-3","cursor-pointer",3,"click"],[1,"fas","fa-eye-slash","absolute","right-3","top-3","cursor-pointer",3,"click"]],template:function(e,i){if(e&1&&(E(0,"div",0)(1,"div",1)(2,"h1",2),sn(3,JH,2,1,"span",null,Fr),A()()(),E(5,"div",3)(6,"div",4)(7,"h2",5),$(8,"Sign In"),A(),Lt(9,QH,2,1,"div",6),E(10,"form",7),ye("ngSubmit",function(){return i.signIn()}),E(11,"label"),$(12,"Email"),A(),ve(13,"input",8),Lt(14,tW,3,2,"div",9),E(15,"label"),$(16,"Password"),A(),E(17,"div",10),ve(18,"input",11),Lt(19,nW,1,0,"i",12),Lt(20,iW,1,0,"i",13),A(),Lt(21,sW,3,2,"div",14),E(22,"div",15)(23,"button",16),$(24,"Sign In"),A()()(),E(25,"div",17)(26,"p",18),$(27,"OR"),A(),E(28,"button",19),ye("click",function(){return i.signInWithGoogle()}),$(29,"Sign In with Google"),A(),E(30,"p",20),$(31," Don't have an account? "),E(32,"a",21),ye("click",function(){return i.goToSignUp()}),$(33,"Sign Up"),A()()()()(),ve(34,"app-footer-admin")),e&2){let r,o;U(3),an(i.letters),U(6),Ft(i.signInError?9:-1),U(),le("formGroup",i.signInForm),U(4),Ft((r=i.signInForm.get("email"))!=null&&r.invalid&&((r=i.signInForm.get("email"))!=null&&r.touched)?14:-1),U(4),le("type",i.showPassword?"text":"password"),U(),Ft(i.showPassword?-1:19),U(),Ft(i.showPassword?20:-1),U(),Ft((o=i.signInForm.get("password"))!=null&&o.invalid&&((o=i.signInForm.get("password"))!=null&&o.touched)?21:-1)}},dependencies:[Dr,xr,Qi,Ir,Cr,Zi,cr,Yc],styles:[".cms-header[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center}.cms-header[_ngcontent-%COMP%]   .overley[_ngcontent-%COMP%]{background-color:#0000004d}.animated-text[_ngcontent-%COMP%]{display:inline-block}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;opacity:0;animation:_ngcontent-%COMP%_fadeInOut 5s infinite}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:.2s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.4s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.6s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){animation-delay:.8s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){animation-delay:1s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){animation-delay:1.2s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){animation-delay:1.4s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){animation-delay:1.6s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(9){animation-delay:1.8s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(10){animation-delay:2s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(11){animation-delay:2.2s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(12){animation-delay:2.4s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(13){animation-delay:2.6s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(14){animation-delay:2.8s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(15){animation-delay:3s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(16){animation-delay:3.2s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(17){animation-delay:3.4s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(18){animation-delay:3.6s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(19){animation-delay:3.8s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(20){animation-delay:4s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(21){animation-delay:4.2s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(22){animation-delay:4.4s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(23){animation-delay:4.6s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(24){animation-delay:4.8s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(25){animation-delay:5s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(26){animation-delay:5.2s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(27){animation-delay:5.4s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(28){animation-delay:5.6s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(29){animation-delay:5.8s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(30){animation-delay:6s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(31){animation-delay:6.2s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(32){animation-delay:6.4s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(33){animation-delay:6.6s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(34){animation-delay:6.8s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(35){animation-delay:7s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(36){animation-delay:7.2s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(37){animation-delay:7.4s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(38){animation-delay:7.6s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(39){animation-delay:7.8s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(40){animation-delay:8s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(41){animation-delay:8.2s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(42){animation-delay:8.4s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(43){animation-delay:8.6s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(44){animation-delay:8.8s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(45){animation-delay:9s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(46){animation-delay:9.2s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(47){animation-delay:9.4s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(48){animation-delay:9.6s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(49){animation-delay:9.8s}.animated-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(50){animation-delay:10s}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}50%{opacity:1}to{opacity:0}}input[_ngcontent-%COMP%]{background-color:var(--black-color);color:var(--white-color)}.fa-eye[_ngcontent-%COMP%], .fa-eye-slash[_ngcontent-%COMP%]{right:15px}@media screen and (max-width: 1500px){.sign[_ngcontent-%COMP%]{width:70%}}@media screen and (max-width: 992px){.sign[_ngcontent-%COMP%]{width:100%}}"]})};function aW(n,t){if(n&1&&(E(0,"div",3),$(1),A()),n&2){let e=Re();U(),et(" ",e.signUpError," ")}}function lW(n,t){n&1&&(E(0,"p",19),$(1,"Email is required"),A())}function cW(n,t){n&1&&(E(0,"p",19),$(1,"Invalid email"),A())}function uW(n,t){if(n&1&&(E(0,"div",7),Lt(1,lW,2,0,"p",19),Lt(2,cW,2,0,"p",19),A()),n&2){let e,i,r=Re();U(),Ft(!((e=r.signupForm.get("email"))==null||e.errors==null)&&e.errors.required?1:-1),U(),Ft(!((i=r.signupForm.get("email"))==null||i.errors==null)&&i.errors.email?2:-1)}}function dW(n,t){if(n&1&&(E(0,"div",9),ve(1,"img",20),A()),n&2){let e=Re();U(),le("src",e.imagePreview,Dt)}}function hW(n,t){if(n&1){let e=mt();E(0,"i",21),ye("click",function(){$e(e);let r=Re();return qe(r.togglePasswordVisibility())}),A()}}function fW(n,t){if(n&1){let e=mt();E(0,"i",22),ye("click",function(){$e(e);let r=Re();return qe(r.togglePasswordVisibility())}),A()}}function pW(n,t){n&1&&(E(0,"p",19),$(1,"Password is required"),A())}function mW(n,t){n&1&&(E(0,"p",19),$(1,"Password must be minimum letters is 6"),A())}function gW(n,t){if(n&1&&(E(0,"div",14),Lt(1,pW,2,0,"p",19),Lt(2,mW,2,0,"p",19),A()),n&2){let e,i,r=Re();U(),Ft(!((e=r.signupForm.get("password"))==null||e.errors==null)&&e.errors.required?1:-1),U(),Ft(!((i=r.signupForm.get("password"))==null||i.errors==null)&&i.errors.minlength?2:-1)}}var j1=class n{constructor(t,e,i,r){this.fb=t;this.authService=e;this.router=i;this.platformId=r}signupForm;showPassword=!1;signUpError="";imagePreview=null;ngOnInit(){this.signupForm=this.fb.group({profileImage:[null],email:["",[ot.required,ot.email]],password:["",[ot.required,ot.minLength(6)]]})}onImageChange(t){let e=t.target.files[0];if(!e)return;let i=new FileReader;i.onload=()=>{this.imagePreview=i.result,this.signupForm.patchValue({profileImage:i.result})},i.readAsDataURL(e)}togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(){if(this.signupForm.invalid){this.signUpError="Please fill in the details first.";return}let{email:t,password:e,profileImage:i}=this.signupForm.value,r="img/img3.png";this.authService.signUp(t,e).then(o=>j(this,null,function*(){let s=o.user.uid,a={email:t,imageUrl:i??r,createdAt:new Date().toISOString()};this.router.navigate(["/admin"]),Vt(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"}),yield this.authService.saveUserProfile(s,a)})).catch(o=>{this.signUpError=o.code==="auth/email-already-in-use"?"This email is already in use.":"Sign up failed. Try again."})}goToSignIn(){this.router.navigate(["/sign-in"]),Vt(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(e){return new(e||n)(ie(Tr),ie(ri),ie(gr),ie(vn))};static \u0275cmp=Qe({type:n,selectors:[["app-sign-up"]],decls:29,vars:8,consts:[[1,"min-h-screen","w-full","bg-black","text-white","lg:px-6","md:px-4","px-2","py-6","mt-20","flex","justify-center","items-start"],[1,"lg:w-[70%]","md:w-[80%]","sm:w-[95%]","w-full","py-10","lg:px-6","md:px-4","px-2","rounded-[7px]","shadow-xl",2,"background-color","var(--sectionColor)"],[1,"lg:text-[2rem]","md:text-[1.6rem]","text-[1.4rem]","font-bold","mb-10","span-color"],[1,"text-red-900","bg-red-200","p-2","mb-4","rounded"],[3,"ngSubmit","formGroup"],[1,"block","mb-2","font-semibold"],["type","email","formControlName","email","placeholder","Enter your email","autocomplete","email",1,"w-full","p-3","mb-6","form-control"],[1,"bg-red-200","text-red-900","mb-3","rounded-sm"],["type","file","accept","image/*",1,"w-full","p-3","mb-4","bg-gray-800","text-white","rounded",3,"change"],[1,"mb-4"],[1,"relative","mb-3"],["formControlName","password","placeholder","Enter your password","autocomplete","new-password",1,"w-full","p-3","form-control",3,"type"],[1,"fas","fa-eye","absolute","right-3","top-1/2","-translate-y-1/2","cursor-pointer"],[1,"fas","fa-eye-slash","absolute","right-3","top-1/2","-translate-y-1/2","cursor-pointer"],[1,"bg-red-200","text-red-900","my-2","mb-5","rounded-sm"],[1,"w-full","text-center","mb-4"],["type","submit",1,"w-[80%]","px-5","py-3"],[1,"text-center","text-sm"],[1,"text-blue-400","cursor-pointer","hover:underline",3,"click"],[1,"ms-4","text-[1rem]"],[1,"h-24","w-24","rounded-full","object-cover","border-2","border-white",3,"src"],[1,"fas","fa-eye","absolute","right-3","top-1/2","-translate-y-1/2","cursor-pointer",3,"click"],[1,"fas","fa-eye-slash","absolute","right-3","top-1/2","-translate-y-1/2","cursor-pointer",3,"click"]],template:function(e,i){if(e&1&&(E(0,"div",0)(1,"div",1)(2,"h2",2),$(3,"Sign Up"),A(),Lt(4,aW,2,1,"div",3),E(5,"form",4),ye("ngSubmit",function(){return i.onSubmit()}),E(6,"label",5),$(7,"Email"),A(),ve(8,"input",6),Lt(9,uW,3,2,"div",7),E(10,"label",5),$(11,"Profile Image (Optional)"),A(),E(12,"input",8),ye("change",function(o){return i.onImageChange(o)}),A(),Lt(13,dW,2,1,"div",9),E(14,"label",5),$(15,"Password"),A(),E(16,"div",10),ve(17,"input",11),Lt(18,hW,1,0,"i",12),Lt(19,fW,1,0,"i",13),A(),Lt(20,gW,3,2,"div",14),E(21,"div",15)(22,"button",16),$(23,"Sign Up"),A()(),E(24,"p",17),$(25," Already have an account? "),E(26,"a",18),ye("click",function(){return i.goToSignIn()}),$(27,"Sign In"),A()()()()(),ve(28,"app-footer-admin")),e&2){let r,o;U(4),Ft(i.signUpError?4:-1),U(),le("formGroup",i.signupForm),U(4),Ft((r=i.signupForm.get("email"))!=null&&r.invalid&&((r=i.signupForm.get("email"))!=null&&r.touched)?9:-1),U(4),Ft(i.imagePreview?13:-1),U(4),le("type",i.showPassword?"text":"password"),U(),Ft(i.showPassword?-1:18),U(),Ft(i.showPassword?19:-1),U(),Ft((o=i.signupForm.get("password"))!=null&&o.invalid&&((o=i.signupForm.get("password"))!=null&&o.touched)?20:-1)}},dependencies:[Dr,xr,Qi,Ir,Cr,Zi,cr,Yc],styles:["img[_ngcontent-%COMP%]{border-radius:50%}.fa-eye[_ngcontent-%COMP%], .fa-eye-slash[_ngcontent-%COMP%]{right:15px}"]})};var Xh=class n{constructor(t,e){this.authService=t;this.router=e}canActivate(t,e){if(this.authService.getUidFromStorage()){let r=e.url;return r.includes("sign-in")||r.includes("sign-up")?this.router.parseUrl("/admin"):!0}else return e.url.includes("admin")?this.router.parseUrl("/sign-in"):!0}static \u0275fac=function(e){return new(e||n)(_t(ri),_t(gr))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})};function vW(n,t){if(n&1){let e=mt();E(0,"div",17),ye("click",function(){$e(e);let r=Re();return qe(r.openLightbox())}),ve(1,"img",18),A()}if(n&2){let e=Re();U(),le("src",e.mainImage,Dt)}}function yW(n,t){if(n&1){let e=mt();E(0,"div",19),ye("click",function(){let r=$e(e).index,o=Re();return qe(o.selectImage(r))}),ve(1,"img",20),A()}if(n&2){let e=t.$implicit,i=Re();Ai("border-blue-500",i.mainImage===e),U(),le("src",e,Dt)}}function _W(n,t){if(n&1){let e=mt();E(0,"div",21),ye("click",function(){$e(e);let r=Re();return qe(r.closeLightbox())}),E(1,"button",22),ye("click",function(){$e(e);let r=Re();return qe(r.closeLightbox())}),ve(2,"i",23),A(),E(3,"div",24),ye("click",function(r){return $e(e),qe(r.stopPropagation())}),E(4,"button",25),ye("click",function(){$e(e);let r=Re();return qe(r.prevImage())}),ve(5,"i",26),A(),E(6,"button",27),ye("click",function(){$e(e);let r=Re();return qe(r.nextImage())}),ve(7,"i",28),A(),ve(8,"img",29),A()()}if(n&2){let e=Re();U(8),le("src",e.project==null||e.project.gallery==null?null:e.project.gallery[e.currentIndex],Dt)}}function wW(n,t){if(n&1&&(E(0,"span",14),$(1),A()),n&2){let e=t.$implicit;U(),gt(e)}}function bW(n,t){if(n&1&&(E(0,"li",16),$(1),A()),n&2){let e=t.$implicit;U(),et("_ ",e)}}var U1=class n{constructor(t,e){this.route=t;this.projectsService=e}projectId=null;project=null;mainImage=null;lightboxOpen=!1;currentIndex=0;destroy$=new Nt;ngOnInit(){this.route.paramMap.pipe(Li(this.destroy$)).subscribe(t=>{let e=t.get("uid");this.projectId=t.get("id"),e&&this.projectId&&this.loadProject(e,this.projectId)})}loadProject(t,e){return j(this,null,function*(){try{let i=yield this.projectsService.getProjectById(t,e);if(!i)return;this.project=i,console.log(this.project),this.project?.gallery?.length&&(this.currentIndex=0,this.mainImage=this.project.gallery[0])}catch(i){console.error("Error loading project:",i)}})}selectImage(t){this.project?.gallery?.length&&(this.currentIndex=t,this.mainImage=this.project.gallery[t])}openLightbox(){this.project?.gallery?.length&&(this.lightboxOpen=!0)}closeLightbox(){this.lightboxOpen=!1}prevImage(){this.project?.gallery?.length&&(this.currentIndex=(this.currentIndex-1+this.project.gallery.length)%this.project.gallery.length,this.mainImage=this.project.gallery[this.currentIndex])}nextImage(){this.project?.gallery?.length&&(this.currentIndex=(this.currentIndex+1)%this.project.gallery.length,this.mainImage=this.project.gallery[this.currentIndex])}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)(ie(go),ie(Po))};static \u0275cmp=Qe({type:n,selectors:[["app-project-details"]],decls:27,vars:7,consts:[[1,"project-details","p-10","overflow-hidden"],["appInView","",1,"mt-20","text-center","span-color","text-[1.5rem]","md:text-[2rem]","lg:text-[2.5rem]","from-top"],[1,"project-gallery","mt-10","lg:w-[50%]","sm:w-[70%]","w-[90%]","mx-auto"],[1,"main-image","w-full","mb-4","cursor-pointer"],[1,"thumbnails","flex","gap-2","overflow-x-auto"],["class","thumbnail w-20 h-20 cursor-pointer rounded-md border-2",3,"border-blue-500","click",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",3,"click",4,"ngIf"],[1,"mt-20","overflow-hidden"],[1,"span-color","text-[20px]"],["appInView","",1,"py-3","from-left"],[1,"span-color","pt-10","text-[20px]"],["target","_blank",1,"inline",3,"href"],[1,"span-color","pt-10","text-[20px]","block"],[1,"skills","flex","flex-wrap","gap-4","pt-5"],["appInView","",1,"p-2","zoom-in"],[1,"pt-4"],[1,"py-3","text-[17px]"],[1,"main-image","w-full","mb-4","cursor-pointer",3,"click"],["alt","Project Image",1,"w-full","h-auto","object-cover","rounded-md","shadow-lg",3,"src"],[1,"thumbnail","w-20","h-20","cursor-pointer","rounded-md","border-2",3,"click"],["alt","Thumbnail",1,"w-full","h-full","object-cover","rounded-md",3,"src"],[1,"fixed","inset-0","bg-black","bg-opacity-80","flex","items-center","justify-center","z-50",3,"click"],[1,"absolute","top-4","right-4","px-3","pb-1","text-3xl","z-50","no-after-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"w-[90vw]","h-[90vw]","max-w-[800px]","max-h-[600px]",3,"click"],[1,"absolute","left-2","top-1/2","transform","-translate-y-1/2","px-3","pb-2","text-4xl","z-50","no-after-button",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"absolute","right-2","top-1/2","transform","-translate-y-1/2","px-3","pb-2","text-4xl","z-50","no-after-button",3,"click"],[1,"fa-solid","fa-chevron-right"],["alt","Lightbox Image",1,"w-full","h-full","object-cover","rounded-md","shadow-lg",3,"src"]],template:function(e,i){e&1&&(E(0,"div",0)(1,"h3",1),$(2),A(),E(3,"div",2),Lt(4,vW,2,1,"div",3),E(5,"div",4),tt(6,yW,2,3,"div",5),A()(),tt(7,_W,9,1,"div",6),E(8,"div",7)(9,"span",8),$(10,"Description"),A(),E(11,"p",9),$(12),A(),E(13,"span",10),$(14,"live preview : "),A(),E(15,"a",11),$(16),A(),E(17,"span",12),$(18,"skills"),A(),E(19,"div",13),sn(20,wW,2,1,"span",14,Gr),A(),E(22,"span",12),$(23,"features"),A(),E(24,"ul",15),sn(25,bW,2,1,"li",16,Gr),A()()()),e&2&&(U(2),et(" ",i.project==null?null:i.project.projectTitle," "),U(2),Ft(i.mainImage?4:-1),U(2),le("ngForOf",i.project==null?null:i.project.gallery),U(),le("ngIf",i.lightboxOpen),U(5),gt(i.project==null?null:i.project.projectDescription),U(3),le("href",i.project==null?null:i.project.liveLink,Dt),U(),gt(i.project==null?null:i.project.liveLink),U(4),an(i.project==null?null:i.project.skills),U(5),an(i.project==null?null:i.project.features))},dependencies:[zt,fr,Zn,Rn],styles:["span[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-family:Georgia,Times New Roman,Times,serif}p[_ngcontent-%COMP%]{opacity:.7}.skills[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:.1px solid var(--borderColor);background-color:var(--sectionColor)}"]})};var WR=[{path:"admin",component:y1,canActivate:[Xh],children:[{path:"",component:k1},{path:"about",component:R1},{path:"experience",component:N1},{path:"projects",component:O1},{path:"services",component:M1},{path:"blogs",component:L1},{path:"testimonials",component:F1}]},{path:"sign-in",canActivate:[Xh],component:V1},{path:"sign-up",canActivate:[Xh],component:j1},{path:"portfolio/:username",component:Cv,children:[{path:"",component:wv,children:[{path:"",component:xv},{path:"experience",component:Tv},{path:"education",component:Dv},{path:"certification",component:Pv}]},{path:"about",component:bv},{path:"services",component:Sv},{path:"projects",component:kv},{path:"blogs",component:Rv},{path:"contact",component:Ev},{path:"project-details/:id/:uid",component:U1}]},{path:"",redirectTo:"sign-in",pathMatch:"full"},{path:"**",redirectTo:"sign-in"}];var SW="@",EW=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=Ne(Hr);loadingSchedulerFn=Ne(AW,{optional:!0});_engine;constructor(e,i,r,o,s){this.doc=e,this.delegate=i,this.zone=r,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-JIVJO7AP.js").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(r=>{throw new hn(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,i){let r=this.delegate.createRenderer(e,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new j5(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,i);o.use(a),this.scheduler??=this.injector.get($E,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(i){vy()};static \u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),j5=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,r){this.delegate.insertBefore(t,e,i,r)}removeChild(t,e,i,r){this.delegate.removeChild(t,e,i,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(t,e,i,r)),this.delegate.listen(t,e,i,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(SW)}},AW=new Gt("");function GR(n="animations"){return qm("NgAsyncAnimations"),vs([{provide:Hm,useFactory:(t,e,i)=>new EW(t,e,i,n),deps:[Ei,xf,di]},{provide:GE,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var KR={production:!1,firebase:{apiKey:"AIzaSyCt6xEStGU0GOjP8RS580XcYNXiZ6DRlww",authDomain:"portfolio-31a66.firebaseapp.com",projectId:"portfolio-31a66",storageBucket:"portfolio-31a66.firebasestorage.app",messagingSenderId:"282549206924",appId:"1:282549206924:web:c084914375b5b48185e0a9"}};var YR={providers:[zE(),y_(WR),Gy(Ky()),GR(),dC(()=>hC(KR.firebase)),gx(()=>yx()),tP(()=>rP())]};var B1=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Qe({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){e&1&&ve(0,"router-outlet")},dependencies:[Gs],encapsulation:2})};Uy(B1,YR).catch(n=>console.error(n));
